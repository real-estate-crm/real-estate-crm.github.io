!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t=["children","disabled","invalid","dividers","canCancel","noSave","onAccept","onDismiss"];function n(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function r(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */r=function(){return t};var t={},n=Object.prototype,a=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},u=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),u=new A(r||[]);return i(o,"_invoke",{value:w(e,n,u)}),o}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}t.wrap=p;var m={};function f(){}function y(){}function h(){}var v={};c(v,u,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(F([])));_&&_!==n&&a.call(_,u)&&(v=_);var g=h.prototype=f.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(t,n){function r(i,o,u,l){var s=d(t[i],t,o);if("throw"!==s.type){var c=s.arg,p=c.value;return p&&"object"==e(p)&&a.call(p,"__await")?n.resolve(p.__await).then((function(e){r("next",e,u,l)}),(function(e){r("throw",e,u,l)})):n.resolve(p).then((function(e){c.value=e,u(c)}),(function(e){return r("throw",e,u,l)}))}l(s.arg)}var o;i(this,"_invoke",{value:function(e,t){function a(){return new n((function(n,a){r(e,t,n,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return C()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===m)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=d(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=d(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function F(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=h,i(g,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:y,configurable:!0}),y.displayName=c(h,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(g),e},t.awrap=function(e){return{__await:e}},k(x.prototype),c(x.prototype,l,(function(){return this})),t.AsyncIterator=x,t.async=function(e,n,r,a,i){void 0===i&&(i=Promise);var o=new x(p(e,n,r,a),i);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},k(g),c(g,s,"Generator"),c(g,u,(function(){return this})),c(g,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=F,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:F(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},t}function a(e,t,n,r,a,i,o){try{var u=e[i](o),l=u.value}catch(s){return void n(s)}u.done?t(l):Promise.resolve(l).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function u(e){a(o,r,i,u,l,"next",e)}function l(e){a(o,r,i,u,l,"throw",e)}u(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,u=[],l=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(c){s=!0,a=c}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return u}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m(r.key),r)}}function p(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,n){return(t=m(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!==e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===e(n)?n:String(n)}function f(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw i}}}}function h(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new _(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function _(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return _=function(e){this.s=e,this.n=e.next},_.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new _(e)}function g(e){var t,n;function r(t,n){try{var i=e[t](n),o=i.value,u=o instanceof k;Promise.resolve(u?o.v:o).then((function(n){if(u){var l="return"===t?"return":"next";if(!o.k||n.done)return r(l,n);n=e[l](n).value}a(i.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(l){a("throw",l)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(i,o){var u={key:e,arg:a,resolve:i,reject:o,next:null};n?n=n.next=u:(t=n=u,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function k(e,t){this.v=e,this.k=t}g.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},g.prototype.next=function(e){return this._invoke("next",e)},g.prototype.throw=function(e){return this._invoke("throw",e)},g.prototype.return=function(e){return this._invoke("return",e)},System.register(["./vendor-legacy-f58ccf9e.js"],(function(e,a){"use strict";var o,c,m,h,v,_,x,w,S,z,T,A,F,C,V,M,L,I,B,j,D,R,q,P,E,N,O,U,H,W,$,G,Y,K,Z,X,J,Q,ee,te,ne,re,ae,ie,oe,ue,le,se,ce,pe,de,me,fe,ye,he,ve,be,_e,ge,ke,xe,we,Se,ze,Te,Ae,Fe,Ce,Ve,Me,Le,Ie,Be,je,De,Re,qe,Pe,Ee,Ne,Oe,Ue,He,We,$e,Ge,Ye,Ke,Ze,Xe,Je,Qe,et,tt,nt,rt,at,it,ot,ut,lt,st,ct,pt,dt,mt,ft,yt,ht,vt,bt,_t,gt,kt,xt,wt,St,zt,Tt,At,Ft,Ct,Vt,Mt,Lt,It,Bt,jt,Dt,Rt,qt,Pt,Et,Nt,Ot,Ut,Ht,Wt,$t,Gt,Yt,Kt,Zt,Xt,Jt,Qt,en,tn,nn,rn,an,on,un,ln,sn,cn,pn,dn,mn,fn,yn,hn,vn,bn,_n,gn,kn,xn,wn,Sn,zn,Tn,An,Fn,Cn,Vn,Mn,Ln,In,Bn,jn,Dn,Rn,qn,Pn,En,Nn,On,Un,Hn,Wn,$n,Gn,Yn,Kn,Zn,Xn,Jn,Qn,er,tr,nr,rr,ar,ir,or,ur,lr,sr,cr,pr,dr,mr,fr,yr,hr,vr,br,_r,gr,kr,xr,wr,Sr,zr,Tr,Ar,Fr,Cr,Vr,Mr,Lr,Ir,Br,jr,Dr,Rr,qr,Pr,Er,Nr,Or,Ur,Hr,Wr,$r,Gr,Yr,Kr,Zr,Xr,Jr,Qr,ea,ta,na,ra,aa,ia,oa,ua,la,sa,ca,pa,da,ma,fa,ya,ha,va,ba,_a,ga,ka,xa,wa,Sa,za,Ta,Aa,Fa,Ca,Va,Ma;return{setters:[function(e){o=e.f,c=e.i,m=e.s,h=e.d,v=e.l,_=e.u,x=e.a,w=e.r,S=e.m,z=e.v,T=e.b,A=e.C,F=e.U,C=e.c,V=e.Q,M=e.h,L=e.e,I=e.I,B=e.S,j=e.o,D=e.g,R=e.A,q=e.D,P=e.F,E=e.j,N=e.k,O=e.n,U=e.$,H=e.p,W=e.q,$=e.t,G=e.w,Y=e.x,K=e.M,Z=e.y,X=e.z,J=e.B,Q=e.E,ee=e.G,te=e.H,ne=e._,re=e.J,ae=e.Y,ie=e.K,oe=e.W,ue=e.L,le=e.N,se=e.O,ce=e.P,pe=e.R,de=e.T,me=e.V,fe=e.X,ye=e.Z,he=e.a0,ve=e.a1,be=e.a2,_e=e.a3,ge=e.a4,ke=e.a5,xe=e.a6,we=e.a7,Se=e.a8,ze=e.a9,Te=e.aa,Ae=e.ab,Fe=e.ac,Ce=e.ad,Ve=e.ae,Me=e.af,Le=e.ag,Ie=e.ah,Be=e.ai,je=e.aj,De=e.ak,Re=e.al,qe=e.am,Pe=e.an,Ee=e.ao,Ne=e.ap,Oe=e.aq,Ue=e.ar,He=e.as,We=e.at,$e=e.au,Ge=e.av,Ye=e.aw,Ke=e.ax,Ze=e.ay,Xe=e.az,Je=e.aA,Qe=e.aB,et=e.aC,tt=e.aD,nt=e.aE,rt=e.aF,at=e.aG,it=e.aH,ot=e.aI,ut=e.aJ,lt=e.aK,st=e.aL,ct=e.aM,pt=e.aN,dt=e.aO,mt=e.aP,ft=e.aQ,yt=e.aR,ht=e.aS,vt=e.aT,bt=e.aU,_t=e.aV,gt=e.aW,kt=e.aX,xt=e.aY,wt=e.aZ,St=e.a_,zt=e.a$,Tt=e.b0,At=e.b1,Ft=e.b2,Ct=e.b3,Vt=e.b4,Mt=e.b5,Lt=e.b6,It=e.b7,Bt=e.b8,jt=e.b9,Dt=e.ba,Rt=e.bb,qt=e.bc,Pt=e.bd,Et=e.be,Nt=e.bf,Ot=e.bg,Ut=e.bh,Ht=e.bi,Wt=e.bj,$t=e.bk,Gt=e.bl,Yt=e.bm,Kt=e.bn,Zt=e.bo,Xt=e.bp,Jt=e.bq,Qt=e.br,en=e.bs,tn=e.bt,nn=e.bu,rn=e.bv,an=e.bw,on=e.bx,un=e.by,ln=e.bz,sn=e.bA,cn=e.bB,pn=e.bC,dn=e.bD,mn=e.bE,fn=e.bF,yn=e.bG,hn=e.bH,vn=e.bI,bn=e.bJ,_n=e.bK,gn=e.bL,kn=e.bM,xn=e.bN,wn=e.bO,Sn=e.bP,zn=e.bQ,Tn=e.bR,An=e.bS,Fn=e.bT,Cn=e.bU,Vn=e.bV,Mn=e.bW,Ln=e.bX,In=e.bY,Bn=e.bZ,jn=e.b_,Dn=e.b$,Rn=e.c0,qn=e.c1,Pn=e.c2,En=e.c3,Nn=e.c4,On=e.c5,Un=e.c6,Hn=e.c7,Wn=e.c8,$n=e.c9,Gn=e.ca,Yn=e.cb,Kn=e.cc,Zn=e.cd,Xn=e.ce,Jn=e.cf,Qn=e.cg,er=e.ch,tr=e.ci,nr=e.cj,rr=e.ck,ar=e.cl,ir=e.cm,or=e.cn,ur=e.co,lr=e.cp,sr=e.cq,cr=e.cr,pr=e.cs,dr=e.ct,mr=e.cu,fr=e.cv,yr=e.cw,hr=e.cx,vr=e.cy,br=e.cz,_r=e.cA,gr=e.cB,kr=e.cC,xr=e.cD,wr=e.cE,Sr=e.cF,zr=e.cG,Tr=e.cH,Ar=e.cI,Fr=e.cJ,Cr=e.cK,Vr=e.cL,Mr=e.cM,Lr=e.cN,Ir=e.cO,Br=e.cP,jr=e.cQ,Dr=e.cR,Rr=e.cS,qr=e.cT,Pr=e.cU,Er=e.cV,Nr=e.cW,Or=e.cX,Ur=e.cY,Hr=e.cZ,Wr=e.c_,$r=e.c$,Gr=e.d0,Yr=e.d1,Kr=e.d2,Zr=e.d3,Xr=e.d4,Jr=e.d5,Qr=e.d6,ea=e.d7,ta=e.d8,na=e.d9,ra=e.da,aa=e.db,ia=e.dc,oa=e.dd,ua=e.de,la=e.df,sa=e.dg,ca=e.dh,pa=e.di,da=e.dj,ma=e.dk,fa=e.dl,ya=e.dm,ha=e.dn,va=e.dp,ba=e.dq,_a=e.dr,ga=e.ds,ka=e.dt,xa=e.du,wa=e.dv,Sa=e.dw,za=e.dx,Ta=e.dy,Aa=e.dz,Fa=e.dA,Ca=e.dB,Va=e.dC,Ma=e.dD}],execute:function(){var e=function(){var e=[];return function t(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var r=n.fields||[],a=n.child?[n.child]:[];t([].concat(f(r),a)),e.push(n)}))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),e},a=function(t){return e(t).filter((function(e){return e.name})).map((function(e){return{name:e.name,type:e.type}})).reduce((function(e,t){var n=t.name,r=t.type;return e.some((function(e){var t=e.name===n;return t&&e.type!=r&&console.warn("CONFLICT name=".concat(n," type1=").concat(e.type.toString()," type2=").concat(r.toString())),t}))?e:[].concat(f(e),[{name:n,type:r}])}),[])};window.mapSchema=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.textFieldSize,r=void 0===n?96:n,i=t.itemFieldSize,u=void 0===i?48:i,l=t.comboFieldSize,s=void 0===l?48:l,c=t.dateFieldSize,p=void 0===c?12:c,d=t.timeFieldSize,m=void 0===d?12:d;return a(e).map((function(e){var t=e.type,n=e.name;return t===o.Items?{key:n,type:"string",status:"available",required:!1,array:!0,size:u,default:null}:t===o.Combo?{key:n,type:"string",status:"available",required:!1,array:!0,size:s,default:null}:t===o.Time?{key:n,type:"string",status:"available",required:!1,array:!1,size:m,default:null}:t===o.Radio?{key:n,type:"string",status:"available",required:!1,array:!1,size:radioFieldSize,default:null}:t===o.Date?{key:n,type:"string",status:"available",required:!1,array:!1,size:p,default:null}:t===o.Checkbox||t===o.Switch?{key:n,type:"boolean",status:"available",required:!1,array:!1,default:null}:(t===o.Component&&console.warn("Field name=".concat(n," is a component field. By default we are using nvarchar[").concat(r,"]. Double check manually for an array field")),{key:n,type:"string",status:"available",required:!1,array:!1,size:r,default:null})})).map((function(e){return JSON.stringify(e,null,2)})).join(",\n")},window.mapFields=a,window.mapTypes=function(e){return a(e).map((function(e){var t=e.name,n=e.type;return'"'.concat(t,'": ').concat(n===o.Combo?"string[] | null":n===o.Text?"string":n===o.Items?"string[] | null":n===o.Date||n===o.Radio||n===o.Complete||n===o.Time?"string":n===o.Checkbox||n===o.Switch?"boolean":(console.warn("UNKNOWN TYPE name=".concat(t," type=").concat(n.toString())),"string"),";")})).join("\n")},window.deepFlat=e,"ResizeObserver"in window||(window.ResizeObserver=c),m.polyfill(),h.extend(v),h.extend(_),h.extend(x),h.locale(w);var La=function(){function e(){var t=this;s(this,e),d(this,"_alerts",[]),d(this,"hideCurrent",(function(){t._alerts.length>0&&t._alerts.shift()})),d(this,"notify",(function(e){t.hideCurrent(),t._alerts.push({key:z(),message:e})})),S(this)}return p(e,[{key:"current",get:function(){return this._alerts.length?this._alerts[0]:null}}]),e}(),Ia={projectId:"64b53d0c41fcf5093b12",projectName:"RealEstate",databases:[{$id:"64c4de8e7b30179809ef",name:"DATABASE",$createdAt:"2023-09-14T10:10:35.686+00:00",$updatedAt:"2023-09-14T11:59:42.307+00:00",enabled:!0}],collections:[{$id:"64c4fb401e0a490e44bf",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"USER",enabled:!0,documentSecurity:!1,attributes:[{key:"user_role",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"email",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"middle_name",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"user_features",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"user_files",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"phone",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"active",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"first_name",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"last_name",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"avatar",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:-1},{key:"system_metadata",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"filial",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"otdel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"status_sotrudnika",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"telegram",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"fejsbuk",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"instagram",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vatsap",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"v_kontakte",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zum",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"semejnoe_polozhenie",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rabochij_telefon",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"lichnyj_nomer",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"ofis",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"data_priema_rezyume",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"sertifikat",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"nachalo_opyta_raboty",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"data_uvolneniya",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prichina_uvolneniya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"pol",type:"string",status:"available",error:"",required:!1,array:!1,size:18,default:null},{key:"data_rozhdeniya",type:"string",status:"available",error:"",required:!1,array:!1,size:20,default:null},{key:"seriya-i-nomer_pasporta",type:"string",status:"available",error:"",required:!1,array:!1,size:30,default:null},{key:"data-vydachi_pasporta",type:"string",status:"available",error:"",required:!1,array:!1,size:20,default:null},{key:"kem_vydan",type:"string",status:"available",error:"",required:!1,array:!1,size:25,default:null},{key:"data_trudoustrojstva",type:"string",status:"available",error:"",required:!1,array:!1,size:10,default:null},{key:"dolzhnost",type:"string",status:"available",error:"",required:!1,array:!1,size:20,default:null},{key:"nachalnik_otdela",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"deti",type:"string",status:"available",error:"",required:!1,array:!1,size:10,default:null},{key:"adres_propiski",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"adres_prozhivaniya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"o_sebe",type:"string",status:"available",error:"",required:!1,array:!1,size:256,default:null},{key:"hobbi",type:"string",status:"available",error:"",required:!1,array:!1,size:256,default:null}],indexes:[{key:"system_metadata",type:"fulltext",status:"available",error:"",attributes:["system_metadata"],orders:["ASC"]},{key:"email1",type:"fulltext",status:"available",error:"",attributes:["email"],orders:["ASC"]},{key:"email1-phone1",type:"fulltext",status:"available",error:"",attributes:["email","phone"],orders:["ASC","ASC"]},{key:"phone1",type:"fulltext",status:"available",error:"",attributes:["phone"],orders:["ASC"]}]},{$id:"64c4fb9158c913d9036e",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"SETTINGS",enabled:!0,documentSecurity:!1,attributes:[{key:"telegram_channel_enabled_4",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agency_nickname_2",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_token_3",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_3",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_enabled_2",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_channel_4",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_1",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_channel_enabled_1",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agency_enabled_3",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agency_4",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_channel_enabled_2",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_token_5",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_channel_3",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_nickname_3",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_token_1",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_nickname_4",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_channel_1",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_token_4",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_2",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_5",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_token_2",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_nickname_1",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_channel_5",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"usd_uzs",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agent_3",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agent_nickname_2",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_enabled_5",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agent_2",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_enabled_1",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agency_nickname_5",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"watermark_file_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agency_enabled_4",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_channel_enabled_3",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agent_nickname_1",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_channel_2",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agent_enabled_1",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agent_4",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agent_nickname_4",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_channel_enabled_5",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agent_enabled_4",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"masterdetail_mode",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"telegram_agent_enabled_3",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agent_5",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agent_nickname_3",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agent_1",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"usd_eur",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agent_enabled_2",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_agent_nickname_5",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telegram_agent_enabled_5",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"instagram_link_1",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"facebook_link_1",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"telegram_link_1",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"youtube_link_1",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"instagram_link_enabled_1",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"facebook_link_enabled_1",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"telegram_link_enabled_1",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"youtube_link_enabled_1",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null}],indexes:[]},{$id:"64d5f3fb13b5a40c0d1d",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"FILES",enabled:!0,documentSecurity:!1,attributes:[{key:"name",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null}],indexes:[]},{$id:"64d4a34e613b8f723d6f",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"CONTACT",enabled:!0,documentSecurity:!1,attributes:[{key:"telefon",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"status_klienta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip_klienta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"loyalnost_klienta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"osnovanie-deyatelnosti-dannogo_licza",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"naimenovanie_organizaczii",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kadastrovyj-nomer_zemli",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"data-vydachi_pasporta",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kontakt",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"seriya-i-nomer_pasporta",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"fio",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kem_vydan",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"adres_registraczii",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sertifikat_kompanii",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"dolzhnost_rukovoditelya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_files",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"kadastrovyj-nomer_obekta",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"istochnik",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rekvizity",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"system_metadata",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"pinfl",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"fakticheskij_adres",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"data_rozhdeniya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"inn",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"pol",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"email",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"data-sozdaniya_klienta",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"yuridicheskij_adres",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:-1},{key:"contact_phones",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"contact_names",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"system_access_level",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"system_created_by",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"system_only_for_owner",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_allowance",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null}],indexes:[{key:"fio",type:"fulltext",status:"available",error:"",attributes:["fio"],orders:["ASC"]},{key:"system_metadata",type:"fulltext",status:"available",error:"",attributes:["system_metadata"],orders:["ASC"]},{key:"fio-telefon",type:"fulltext",status:"available",error:"",attributes:["fio","telefon"],orders:["ASC","ASC"]},{key:"telefon",type:"fulltext",status:"available",error:"",attributes:["telefon"],orders:["ASC"]}]},{$id:"64db49022640a0d53252",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"DEAL",enabled:!0,documentSecurity:!1,attributes:[{key:"user_id",type:"string",status:"available",error:"",required:!0,array:!1,size:96,default:null},{key:"apartment_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"bid_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"status",type:"string",status:"available",error:"",required:!0,array:!1,size:48,default:null},{key:"type",type:"string",status:"available",error:"",required:!0,array:!1,size:48,default:null},{key:"price",type:"string",status:"available",error:"",required:!1,array:!0,size:128,default:null},{key:"price_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"index",type:"integer",status:"available",error:"",required:!0,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"fio",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telefon",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip_klienta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"target_apartment_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"target_bid_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null}],indexes:[{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]},{key:"apartment",type:"key",status:"available",error:"",attributes:["apartment_id"],orders:["ASC"]},{key:"bid",type:"key",status:"available",error:"",attributes:["bid_id"],orders:["ASC"]},{key:"target_apartment_status",type:"key",status:"available",error:"",attributes:["target_apartment_id","status"],orders:["ASC","ASC"]},{key:"target_bid_status",type:"key",status:"available",error:"",attributes:["target_bid_id","status"],orders:["ASC","ASC"]}]},{$id:"64c75cc607be95d26b8d",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"EDITTARGET",enabled:!0,documentSecurity:!1,attributes:[{key:"entity_id",type:"string",status:"available",error:"",required:!1,array:!1,size:64,default:null},{key:"path",type:"string",status:"available",error:"",required:!1,array:!1,size:64,default:null}],indexes:[]},{$id:"64ff0d1a1eec52961ec4",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"DEAL_HISTORY",enabled:!0,documentSecurity:!1,attributes:[{key:"bid_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"type",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"apartment_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"payload",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"comment",type:"string",status:"available",error:"",required:!1,array:!1,size:512,default:null},{key:"deal_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null}],indexes:[{key:"bid_type",type:"key",status:"available",error:"",attributes:["bid_id","type"],orders:["ASC","ASC"]},{key:"apartment_type",type:"key",status:"available",error:"",attributes:["apartment_id","type"],orders:["ASC","ASC"]},{key:"apartment",type:"key",status:"available",error:"",attributes:["apartment_id"],orders:["ASC"]},{key:"bid",type:"key",status:"available",error:"",attributes:["bid_id"],orders:["ASC"]},{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]}]},{$id:"64d4a5782854ff66e9a1",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"APARTMENT",enabled:!0,documentSecurity:!1,attributes:[{key:"sanuzel_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"raspolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"orientir",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"terrasa",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"sistema_kondiczionirovaniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"etazhnost",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"etazh",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_gostevogo_doma",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kanalizacziya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_sanuzla",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mestopolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_balkona",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"uglovoj",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"voda_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rajon",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"strana",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-kondiczionirovaniya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_komnat",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kolichestvo_spalen",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_doma",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"bassejn",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip_stroeniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"raspolozhenie_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kanalizacziya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sistema-otopleniya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"nazvanie_zhk",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"podezd_nomer",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie_remonta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mashina_mesto",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"naznachenie-obekta-zemlya_uchastok",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"elektrichestvo",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip_zemli_uchastka",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"czokol",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"vysota_potolkov",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mebel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"parkovka_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sistema-otopleniya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"god_postrojki",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"naznachenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"zhd_vetka",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_kuhni",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"voda_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"zagolovok",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-kondiczionirovaniya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"metro",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sanuzel_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"vid_iz_okna",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_holla",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie-remonta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"gaz_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rasstoyanie_do_goroda",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"lift_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"elektrichestvo_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sanuzel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"arenda",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mebel_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"lift_kommercziya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie_remonta-kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"podkategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"energonositel_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sistema-otopleniya_kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kanalizacziya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mebel_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rasstoyanie_do_metro",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"parkovka",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"lift_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"gorod",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"oblast",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"podezdnye_puti",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"torecz",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"nomer_kvartiry",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"gaz_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"istochnik",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sobstvennoe_obsluzhivayushhee_tszh",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"sistema_otopleniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"garazh",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"poleznaya_ploshhad",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"elektrichestvo_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kod_domofona",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip_planirovki",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"parkovka_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip-stroeniya_kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"nomer_doma",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"apartment_images",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"mahallya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"voda",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"apartment_files",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"ploshhad_spalni",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"addon_square_names",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_gostinnoj",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_terrasy",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"gaz",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"zhilaya_ploshhad",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:-1},{key:"konserzh",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"vid_iz_okna_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"garderobnaya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ploshhad_dopolnitelnoj_pristrojki",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ulicza",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"naznachenie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"obshhaya_ploshhad",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"creator_user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"addon_square_values",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_komnaty_ohrany",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"spalnya_sanuzel",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_liczenzii",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mestopolozhenie-obekta_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_sotok",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip-stroeniya_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mestopolozhenie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prodazha",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"opisanie",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"vnutri_est",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ryadom_est",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"komnata_ohrany",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"vdol_dorogi",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"podval",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"saraj",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ogorod",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"reshetki_na_oknah",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"pozharnaya_signalizacziya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"videonablyudenie",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"signalizacziya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"razgruzochnyj_pandus",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"gostevoj_domik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"barbekyu_zona",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"dva_doma_vo_dvore",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"polisadnik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"dopolnitelnaya_pristrojka",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ohrana",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"holodilnik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_access_level",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"system_is_rent",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_is_sell",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_is_archive",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_created_by",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"system_only_for_owner",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_allowance",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"system_metadata",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"rent_kom_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_czena_sobstvennika",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_kom_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_kom_startovaya_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_kom_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_czena_sobstvennika",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_startovaya_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_startovaya_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_startovaya_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_agency_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kommisiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_menedzher_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_agency_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_kommisiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_menedzher_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_agency_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kommisiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_menedzher_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_menedzher_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_agency_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_kommisiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_czena_sobstvennika",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_czena_sobstvennika",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"system_is_remove",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null}],indexes:[]},{$id:"64d7502a5ce9f881b680",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"BIDS",enabled:!0,documentSecurity:!1,attributes:[{key:"parkovka",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"naznachenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"spalnya_sanuzel_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kanalizacziya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_spalen_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"etazh_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mebel_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"system_metadata",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"prod_kom_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mebel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"vdol_dorogi",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ploshhad_sanuzla_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip_stroeniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"poleznaya_ploshhad_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"etazhnost_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rasstoyanie_do_metro_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip-stroeniya_kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"czokol",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"god_postrojki_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"konserzh",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"sistema-otopleniya_kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"nomer_kvartiry",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_kuhni_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zhilaya_ploshhad_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"etazh_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_balkona_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"balkon_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"god_postrojki_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prodazha",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"zagolovok",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"voda",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"metro",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"lift_kommercziya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"gaz",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"poleznaya_ploshhad_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kolichestvo_sotok_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"spalnya_sanuzel_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_iz_okna",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_spalen_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"lift_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie_remonta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"bassejn",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mashina_mesto_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sanuzel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"obshhaya_ploshhad_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"obshhaya_ploshhad_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema_kondiczionirovaniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_sotok_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vysota_potolkov_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"raspolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"naznachenie-obekta-zemlya_uchastok",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"raspolozhenie_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"nazvanie_zhk",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vysota_potolkov_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sanuzel_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"voda_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_komnat_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zhd_vetka",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"podkategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_komnat_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_startovaya_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zhilaya_ploshhad_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"elektrichestvo",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_holla_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"torecz",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"kategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"istochnik",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mebel_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"terrasa",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"tip_zemli_uchastka",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_kom_startovaya_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"voda_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mahallya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rajon",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip-stroeniya_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"bid_files",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"ploshhad_dopolnitelnoj_pristrojki_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie-remonta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sistema-otopleniya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-otopleniya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sobstvennoe_obsluzhivayushhee_tszh",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"kanalizacziya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"gaz_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_czena_sobstvennika_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"strana",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"gorod",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"bid_images",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"oblast",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ploshhad_sanuzla_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_komnaty_ohrany_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"orientir",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_iz_okna_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_gostevogo_doma_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mestopolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sanuzel_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_startovaya_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"parkovka_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"garderobnaya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_kom_startovaya_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"garazh",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_startovaya_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_startovaya_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mestopolozhenie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rasstoyanie_do_goroda_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_dopolnitelnoj_pristrojki_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"elektrichestvo_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_komnaty_ohrany_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_kuhni_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema_otopleniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"elektrichestvo_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ulicza",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"vid_liczenzii",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rasstoyanie_do_goroda_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rasstoyanie_do_metro_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-kondiczionirovaniya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_gostinnoj_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_startovaya_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_startovaya_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"balkon_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kanalizacziya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_holla_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_balkona_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie_remonta-kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip_planirovki",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_spalni_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"podval",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"nomer_doma",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"podezdnye_puti",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"etazhnost_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_doma_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_czena_sobstvennika_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"lift_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mestopolozhenie-obekta_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"gaz_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_spalni_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"opisanie",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"ploshhad_gostinnoj_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"parkovka_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"uglovoj",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"naznachenie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"arenda",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_kom_czena_sobstvennika_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_terrasy_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_czena_sobstvennika_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-kondiczionirovaniya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"creator_user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_terrasy_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:-1},{key:"mashina_mesto_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_gostevogo_doma_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_doma_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"metro_list",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rajon_list",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mahallya_list",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"vnutri_est",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ryadom_est",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"komnata_ohrany",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"saraj",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ogorod",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"reshetki_na_oknah",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"pozharnaya_signalizacziya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"videonablyudenie",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"signalizacziya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"razgruzochnyj_pandus",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"gostevoj_domik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"barbekyu_zona",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"dva_doma_vo_dvore",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"polisadnik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"dopolnitelnaya_pristrojka",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ohrana",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_access_level",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"system_is_rent",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_is_sell",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_is_archive",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_created_by",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"system_only_for_owner",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_allowance",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"prod_czena_sobstvennika_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_czena_sobstvennika_do",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_czena_sobstvennika_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_czena_sobstvennika_do",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_kom_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"rent_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_kom_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prod_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null}],indexes:[{key:"system_metadata",type:"fulltext",status:"available",error:"",attributes:["system_metadata"],orders:["ASC"]}]},{$id:"6509b9124a8ff89af189",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"SERVICE_COMMENT",enabled:!0,documentSecurity:!1,attributes:[{key:"apartment_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"bid_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"comment",type:"string",status:"available",error:"",required:!1,array:!1,size:2048,default:null},{key:"file_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null}],indexes:[{key:"apartment",type:"key",status:"available",error:"",attributes:["apartment_id"],orders:["ASC"]},{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]},{key:"bid",type:"key",status:"available",error:"",attributes:["bid_id"],orders:["ASC"]}]},{$id:"650af9b005b11d0b21a4",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"ROLES",enabled:!0,documentSecurity:!1,attributes:[{key:"title",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"comment",type:"string",status:"available",error:"",required:!1,array:!1,size:2048,default:null},{key:"role_features",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null}],indexes:[]},{$id:"651a9e22bab7ca1094fa",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"NOTIFY",enabled:!0,documentSecurity:!1,attributes:[{key:"user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"title",type:"string",status:"available",error:"",required:!1,array:!1,size:512,default:null},{key:"url",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"is_read",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null}],indexes:[{key:"user",type:"key",status:"available",error:"",attributes:["user_id"],orders:["ASC"]},{key:"user_read",type:"key",status:"available",error:"",attributes:["user_id","is_read"],orders:["ASC","ASC"]}]},{$id:"651bcf6238a18a8fd2f2",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"TASK",enabled:!0,documentSecurity:!1,attributes:[{key:"from_user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"to_user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"type",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"title",type:"string",status:"available",error:"",required:!1,array:!1,size:512,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"moment_stamp",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"is_complete",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"is_meet",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"is_call",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"from_user_fio",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"to_user_fio",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"contact_fio",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"time_stamp",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null}],indexes:[{key:"to_user",type:"key",status:"available",error:"",attributes:["to_user_id"],orders:["ASC"]},{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]},{key:"type",type:"key",status:"available",error:"",attributes:["type"],orders:["ASC"]},{key:"moment_stamp",type:"key",status:"available",error:"",attributes:["moment_stamp"],orders:["ASC"]},{key:"complete",type:"key",status:"available",error:"",attributes:["is_complete"],orders:["ASC"]}]},{$id:"651be76b0bfd3092408e",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"TASK_HISTORY",enabled:!0,documentSecurity:!1,attributes:[{key:"user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"task_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"comment",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null}],indexes:[{key:"user",type:"key",status:"available",error:"",attributes:["user_id"],orders:["ASC"]},{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]},{key:"task",type:"key",status:"available",error:"",attributes:["task_id"],orders:["ASC"]}]},{$id:"65367cf06601589d6b21",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"ADVERTISING",enabled:!0,documentSecurity:!1,attributes:[{key:"podkategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"zagolovok_dlya_reklamy",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie_remonta-kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"obshhaya_ploshhad",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"nazvanie_zhk",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"orientir",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"metro",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rajon",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"primechanie",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"etazhnost",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"etazh",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ulicza",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kolichestvo_komnat",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mestopolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_spalen",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"bassejn",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_sotok",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"raspolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie_remonta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_doma",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_liczenzii",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"naznachenie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"system_created_by",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"apartment_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"apartment_images",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"advertising_images",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"apartment_index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"naznachenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"naznachenie-obekta-zemlya_uchastok",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"nomer_agenta",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"nomer_agenstva",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null}],indexes:[]}],buckets:[{$id:"64c4f91c7f9a4458c4bb",$createdAt:"2023-07-29T11:33:48.524+00:00",$updatedAt:"2023-07-29T14:57:21.610+00:00",$permissions:['create("any")','read("any")','update("any")','delete("any")'],fileSecurity:!1,name:"ROOT",enabled:!0,maximumFileSize:3e9,allowedFileExtensions:[],compression:"none",encryption:!0,antivirus:!0}],functions:[{$id:"6513df8529ea78bf2325",name:"BUN_APARTMENT_PAGINATOR",runtime:"node-16.0",execute:["any"],events:[],schedule:"",timeout:30,entrypoint:"src/index.js",ignore:["node_modules",".npm"],path:"functions/bun-apartment-paginator"},{$id:"6513fbd219052f40b1a8",name:"BUN_BID_PAGINATOR",runtime:"node-16.0",execute:["any"],events:[],schedule:"",timeout:30,entrypoint:"src/index.js",ignore:["node_modules",".npm"],path:"functions/bun-bid-paginator"},{$id:"65141fcd03cbb257e5fc",name:"BUN_CONTACT_PAGINATOR",runtime:"node-16.0",events:[],schedule:"",timeout:30,entrypoint:"src/index.js",ignore:["node_modules",".npm"],path:"functions/bun-contact-paginator"},{$id:"6537a4f838968b0c93a9",name:"BUN_TELEGRAPH_INFORMER",runtime:"bun-1.0",execute:[],events:[],schedule:"",timeout:15,enabled:!0,logging:!0,entrypoint:"src/index.js",commands:"bun install",ignore:["node_modules",".npm"],path:"functions/bun-telegraph-informer"},{$id:"6537a4f838968b0c93e9",name:"BUN_TELEGRAM_INFORMER",runtime:"bun-1.0",execute:[],events:[],schedule:"",timeout:15,enabled:!0,logging:!0,entrypoint:"src/index.js",commands:"bun install",ignore:["node_modules",".npm"],path:"functions/bun-telegram-informer"}]},Ba=function(e){var t=Ia.collections.find((function(t){return t.name===e}));if(!t)throw new Error("params.ts collection not found: ".concat(e));return null==t?void 0:t.$id},ja=function(e){var t=Ia.functions.find((function(t){return t.name===e}));if(!t)throw new Error("params.ts function not found: ".concat(e));return null==t?void 0:t.$id},Da="RealEstate",Ra=1700,qa=500,Pa="/assets",Ea="https://cloud.appwrite.io/v1",Na="64c4de8e7b30179809ef",Oa="64ff425ae6da38de0a60",Ua=Ia.buckets[0].$id,Ha=Ba("USER"),Wa=Ba("SETTINGS"),$a=Ba("EDITTARGET"),Ga=Ba("APARTMENT"),Ya=Ba("CONTACT"),Ka=Ba("FILES"),Za=Ba("BIDS"),Xa=Ba("DEAL"),Ja=Ba("TASK"),Qa=Ba("DEAL_HISTORY"),ei=Ba("SERVICE_COMMENT"),ti=Ba("ROLES"),ni=Ba("NOTIFY"),ri=Ba("TASK_HISTORY"),ai=Ba("ADVERTISING"),ii=ja("BUN_APARTMENT_PAGINATOR"),oi=ja("BUN_CONTACT_PAGINATOR"),ui=ja("BUN_BID_PAGINATOR"),li=ja("BUN_TELEGRAM_INFORMER"),si=ja("BUN_TELEGRAPH_INFORMER"),ci="databases.*.collections.*.documents.*.update",pi="databases.*.collections.*.documents.*.create",di="databases.*.collections.*.documents.*.delete",mi=1024,fi="telegram",yi="youtube",hi="instagram",vi="facebook",bi=function(e){var t=e.$id;return Object.entries(e).map((function(e){var t=l(e,2),n=t[0],r=t[1];return Array.isArray(r)?[n,r.length?r:null]:[n,r]})).reduce((function(e,t){var n=l(t,2),r=n[0],a=n[1];return u(u({},e),{},d({},r,a))}),{id:t})},_i=function(e){return e.map(bi)},gi=function(e){return Object.entries(e).filter((function(e){return"id"!==l(e,1)[0]})).filter((function(e){return!l(e,1)[0].startsWith("$")})).filter((function(e){return!l(e,1)[0].startsWith("system_")})).filter((function(e){return"is_archive"!==l(e,1)[0]})).map((function(e){var t=l(e,2),n=t[0],r=t[1];return Array.isArray(r)?[n,r.length?r:null]:[n,r]})).reduce((function(e,t){var n=l(t,2),r=n[0],a=n[1];return u(u({},e),{},d({},r,a))}),{})};window.toRussian=function(e){return T(e,{engToRus:!0,slug:!0})},window.fromRussian=function(e){return T(e,{slug:!0})};var ki={appwriteService:Symbol.for("appwriteService"),alertService:Symbol.for("alertService"),layoutService:Symbol.for("layoutService"),routerService:Symbol.for("routerService"),errorService:Symbol.for("errorService"),authService:Symbol.for("authService"),dictService:Symbol.for("dictService"),cacheService:Symbol.for("cacheService"),ymapsService:Symbol.for("ymapsService"),loggerService:Symbol.for("loggerService"),realtimeService:Symbol.for("realtimeService")},xi={editTargetService:Symbol.for("editTargetService"),permissionService:Symbol.for("permissionService"),featureService:Symbol.for("featureService"),previewModeService:Symbol.for("previewModeService"),metadataService:Symbol.for("metadataService"),publishService:Symbol.for("publishService")},wi={contactRequestService:Symbol.for("contactRequestService"),dealHistoryRequestService:Symbol.for("dealHistoryRequestService"),dealRequestService:Symbol.for("dealRequestService"),taskRequestService:Symbol.for("taskRequestService"),taskHistoryRequestService:Symbol.for("taskHistoryRequestService"),dashboardRequestService:Symbol.for("dashboardRequestService"),permissionRequestService:Symbol.for("permissionRequestService"),apartmentRequestService:Symbol.for("apartmentRequestService"),bidRequestService:Symbol.for("bidRequestService"),advertisingRequestService:Symbol.for("advertisingRequestService")},Si={settingsDbService:Symbol.for("settingsDbService"),userDbService:Symbol.for("userDbService"),apartmentDbService:Symbol.for("apartmentDbService"),bidDbService:Symbol.for("bidDbService"),dealDbService:Symbol.for("dealDbService"),contactDbService:Symbol.for("contactDbService"),dealHistoryDbService:Symbol.for("dealHistoryDbService"),serviceCommentDbService:Symbol.for("serviceCommentDbService"),roleDbService:Symbol.for("roleDbService"),notifyDbService:Symbol.for("notifyDbService"),taskDbService:Symbol.for("taskDbService"),taskHistoryDbService:Symbol.for("taskHistoryDbService"),advertisingDbService:Symbol.for("advertisingDbService")},zi={settingsViewService:Symbol.for("settingsViewService"),userViewService:Symbol.for("userViewService"),apartmentViewService:Symbol.for("apartmentViewService"),bidViewService:Symbol.for("bidViewService"),dealViewService:Symbol.for("dealViewService"),contactViewService:Symbol.for("contactViewService"),dealHistoryViewService:Symbol.for("dealHistoryViewService"),serviceCommentViewService:Symbol.for("serviceCommentViewService"),roleViewService:Symbol.for("roleViewService"),notifyViewService:Symbol.for("notifyViewService"),taskViewService:Symbol.for("taskViewService"),taskHistoryViewService:Symbol.for("taskHistoryViewService"),advertisingViewService:Symbol.for("advertisingViewService")},Ti=u(u(u(u(u({},ki),wi),Si),zi),xi),Ai="databases.".concat(Na,".collections.").concat(Ga,".documents"),Fi=p((function e(){var t=this;s(this,e),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"featureService",F(Ti.featureService)),d(this,"permissionService",F(Ti.permissionService)),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"createIndex",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ga,[V.limit(1),V.select(["index"])]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,Ga,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"paginate",function(){var e=i(r().mark((function e(n,a,i,o,l,s){var c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.execute(ii,{filterData:u({_accessLevel:t.featureService.readAccessLevel,_search:l},n),pagination:a,sortModel:i,chips:o,search:l,payload:s});case 2:if((c=e.sent)!==M){e.next=5;break}return e.abrupt("return",{rows:[],total:null});case 5:return e.abrupt("return",{rows:_i(c.rows),total:c.total});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a,i,o,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.permissionService.getPermissions();case 2:return o=e.sent,e.t0=t.appwriteService.databases,e.t1=Na,e.t2=Ga,e.t3=t.appwriteService.createId(),e.t4=u,e.t5=u({},gi(n)),e.t6={},e.next=12,t.featureService.getAccessLevel();case 12:return e.t7=e.sent,e.t8=!(null===(a=n.arenda)||void 0===a||!a.length),e.t9=!(null===(i=n.prodazha)||void 0===i||!i.length),e.t10=t.appwriteService.currentUser.$id,e.t11=o.hasManagerAllObjectsExclusivePermission,e.next=19,t.createIndex();case 19:return e.t12=e.sent,e.t13={system_access_level:e.t7,system_is_rent:e.t8,system_is_sell:e.t9,system_created_by:e.t10,system_only_for_owner:e.t11,system_is_archive:!1,system_is_remove:!1,index:e.t12},e.t14=(0,e.t4)(e.t5,e.t6,e.t13),e.next=24,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t14);case 24:return l=e.sent,e.abrupt("return",bi(l));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i,o,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,Ga,n,u(u({},gi(a)),{},{system_is_rent:!(null===(i=a.arenda)||void 0===i||!i.length),system_is_sell:!(null===(o=a.prodazha)||void 0===o||!o.length)}));case 2:return l=e.sent,s=bi(l),t.updateSubject.next([n,s]),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"toggleArchive",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findById(n);case 2:return a=e.sent,i=a.system_is_archive,e.next=6,t.appwriteService.databases.updateDocument(Na,Ga,n,{system_is_archive:!i});case 6:o=e.sent,u=bi(o),t.updateSubject.next([n,u]),t.reloadSubject.next();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"toggleRemove",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findById(n);case 2:return a=e.sent,i=a.system_is_remove,e.next=6,t.appwriteService.databases.updateDocument(Na,Ga,n,{system_is_remove:!i});case 6:o=e.sent,u=bi(o),t.updateSubject.next([n,u]),t.reloadSubject.next();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"toggleOnlyForOwner",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findById(n);case 2:return a=e.sent,i=a.system_only_for_owner,e.next=6,t.appwriteService.databases.updateDocument(Na,Ga,n,{system_only_for_owner:!i});case 6:o=e.sent,u=bi(o),t.updateSubject.next([n,u]),t.reloadSubject.next();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"moveToArchive",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,Ga,n,{system_is_archive:!0});case 2:a=e.sent,i=bi(a),t.updateSubject.next([n,i]),t.reloadSubject.next();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"updateAllowance",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,Ga,n,{system_allowance:a});case 2:i=e.sent,o=bi(i),t.updateSubject.next([n,o]),t.reloadSubject.next();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,Ga,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(Ai,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&t.reloadSubject.next(),n.includes(di)&&t.reloadSubject.next(),n.includes(ci)){var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),Ci=p((function e(){var t=this;s(this,e),d(this,"apartmentDbService",F(Ti.apartmentDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"reloadSubject",this.apartmentDbService.reloadSubject),d(this,"updateSubject",this.apartmentDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService create",n),e.next=3,t.apartmentDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService update",a),e.next=3,t.apartmentDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"toggleArchive",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService toggleArchive"),e.next=3,t.apartmentDbService.toggleArchive(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"toggleRemove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService toggleRemove"),e.next=3,t.apartmentDbService.toggleRemove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"toggleOnlyForOwner",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService toggleOnlyForOwner"),e.next=3,t.apartmentDbService.toggleOnlyForOwner(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"moveToArchive",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService moveToArchive"),e.next=3,t.apartmentDbService.moveToArchive(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"updateAllowance",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService updateAllowance"),e.next=3,t.apartmentDbService.updateAllowance(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService remove",{id:n}),e.next=3,t.apartmentDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService read",{id:n}),e.next=3,t.apartmentDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("apartmentViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"paginate",function(){var e=i(r().mark((function e(n,a,i,o,u,l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("apartmentViewService paginate"),e.next=3,t.apartmentDbService.paginate(n,a,i,o,u,l);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),C(this,{})})),Vi=function(){function e(){var t=this;s(this,e),d(this,"cacheService",F(Ti.cacheService)),d(this,"_client",null),d(this,"_functions",null),d(this,"_account",null),d(this,"_storage",null),d(this,"_databases",null),d(this,"_session",null),d(this,"_currentUser",null),d(this,"createId",(function(){return I.unique()})),d(this,"getCurrentSession",function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.getSession("current");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"init",L(i(r().mark((function e(){var n,a,i,o,u,l,s,c,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ea,a=Oa,(i=new O).setEndpoint(n).setProject(a).setLocale("ru-RU"),o=new R(i),u=new q(i),l=new P(i),s=new E(i),e.next=9,t.getCurrentSession(o);case 9:if(!(c=e.sent)){e.next=16;break}return e.next=13,o.get();case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0=null;case 17:p=e.t0,N((function(){t._client=i,t._account=o,t._session=c,t._databases=u,t._functions=l,t._storage=s,t._currentUser=p}));case 19:case"end":return e.stop()}}),e)}))))),d(this,"readFileName",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.databases.getDocument(Na,Ka,n);case 2:return a=e.sent,i=a.name,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryReadFileName",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.readFileName(n);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"uploadFile",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=z(),e.next=3,t.storage.createFile(Ua,a,n);case 3:return e.next=5,t.databases.createDocument(Na,Ka,a,{name:n.name});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"uploadBlob",function(){var e=i(r().mark((function e(n,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new File([n],a),e.next=3,t.uploadFile(i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"removeFile",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.storage.deleteFile(Ua,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getFileURL",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.storage.getFileView(Ua,n);case 2:return a=e.sent,e.abrupt("return",a.toString());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getImageURL",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,t.cacheService.hasImage(n);case 3:if(e.sent){e.next=7;break}return e.next=6,t.getFileURL(n);case 6:a=e.sent;case 7:return e.next=9,t.cacheService.getImage(a,n);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"execute",B(function(){var e=i(r().mark((function e(n,a){var i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify(a),e.next=3,t.functions.createExecution(n,i,!1);case 3:if(o=e.sent,u=o.responseBody,"failed"!==o.status){e.next=8;break}throw new Error("Function failed ".concat(u));case 8:if(!(l=JSON.parse(u||"{}")).error){e.next=11;break}throw new Error("Function error ".concat(l.error));case 11:return e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),3)),d(this,"prefetch",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}}),e)})))),C(this,{_client:j,_account:j,_session:j,_databases:j,_functions:j,_storage:j,_currentUser:j,client:D,storage:D,account:D,session:D,databases:D,functions:D,isAuthorized:D,currentUser:D}),this.init()}return p(e,[{key:"client",get:function(){return this._client}},{key:"storage",get:function(){return this._storage}},{key:"account",get:function(){return this._account}},{key:"session",get:function(){return this._session}},{key:"databases",get:function(){return this._databases}},{key:"functions",get:function(){return this._functions}},{key:"isAuthorized",get:function(){return!!this._session}},{key:"currentUser",get:function(){return this._currentUser||{}}}]),e}(),Mi={user_role:[],user_features:[],active:!1,middle_name:"",phone:"",email:"",user_files:[],first_name:"",avatar:"",last_name:"",system_metadata:""},Li=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"alertService",F(Ti.alertService)),d(this,"routerService",F(Ti.routerService)),d(this,"tryReadUserData",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.appwriteService.databases.getDocument(Na,Ha,n);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"initUser",L(function(){var e=i(r().mark((function e(n){var a,i,o,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.tryReadUserData(n.userId);case 2:if(a=e.sent){e.next=12;break}return e.next=6,t.appwriteService.databases.listDocuments(Na,Ha,[V.limit(1),V.select(["index"])]);case 6:return i=e.sent,o=i.total,e.next=10,t.appwriteService.databases.createDocument(Na,Ha,n.userId,u(u({},Mi),{},{index:o+1}));case 10:return t.routerService.push("/inactive_page"),e.abrupt("return",!1);case 12:if(!(l=t.appwriteService.currentUser.email)||a.email){e.next=16;break}return e.next=16,t.appwriteService.databases.updateDocument(Na,Ha,n.userId,u(u(u({},Mi),gi(a)),{},{system_metadata:a.system_metadata||"",email:l}));case 16:if(a.active){e.next=19;break}return t.routerService.push("/inactive_page"),e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),d(this,"login",function(){var e=i(r().mark((function e(n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.email,i=n.password,e.prev=1,e.next=4,t.appwriteService.account.createEmailSession(a,i);case 4:return o=e.sent,e.next=7,t.initUser(o);case 7:U(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),t.alertService.notify(e.t0.message||"Unknown error"),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"logout",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.appwriteService.account.deleteSession("current");case 3:U(),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),t.alertService.notify(e.t0.message||"Unknown error"),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))),d(this,"register",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.email,i=n.password,e.prev=1,e.next=4,t.appwriteService.account.create(t.appwriteService.createId(),a,i);case 4:U(),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),t.alertService.notify(e.t0.message||"Unknown error"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.appwriteService.isAuthorized||t.routerService.push("/login_page"),n=t.appwriteService.session,!t.appwriteService.isAuthorized){e.next=5;break}return e.next=5,t.initUser(n);case 5:case"end":return e.stop()}}),e)}))))),C(this,{})})),Ii="databases.".concat(Na,".collections.").concat(Za,".documents"),Bi=p((function e(){var t=this;s(this,e),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"featureService",F(Ti.featureService)),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"permissionService",F(Ti.permissionService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"getMetadata",function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(t.zagolovok),e.abrupt("return",n.join(" ").slice(0,mi));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"createIndex",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Za,[V.limit(1),V.select(["index"])]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,Za,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"paginate",function(){var e=i(r().mark((function e(n,a,i,o,l,s){var c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.execute(ui,{filterData:u({_accessLevel:t.featureService.readAccessLevel,_search:l},n),pagination:a,sortModel:i,chips:o,search:l,payload:s});case 2:if((c=e.sent)!==M){e.next=5;break}return e.abrupt("return",{rows:[],total:null});case 5:return e.abrupt("return",{rows:_i(c.rows),total:c.total});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a,i,o,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.permissionService.getPermissions();case 2:return o=e.sent,e.t0=t.appwriteService.databases,e.t1=Na,e.t2=Za,e.t3=t.appwriteService.createId(),e.t4=u,e.t5=u({},gi(n)),e.t6={},e.next=12,t.getMetadata(n);case 12:return e.t7=e.sent,e.next=15,t.featureService.getAccessLevel();case 15:return e.t8=e.sent,e.t9=!(null===(a=n.arenda)||void 0===a||!a.length),e.t10=!(null===(i=n.prodazha)||void 0===i||!i.length),e.t11=t.appwriteService.currentUser.$id,e.t12=o.hasManagerAllObjectsExclusivePermission,e.next=22,t.createIndex();case 22:return e.t13=e.sent,e.t14={system_metadata:e.t7,system_access_level:e.t8,system_is_rent:e.t9,system_is_sell:e.t10,system_created_by:e.t11,system_only_for_owner:e.t12,system_is_archive:!1,index:e.t13},e.t15=(0,e.t4)(e.t5,e.t6,e.t14),e.next=27,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t15);case 27:return l=e.sent,e.abrupt("return",bi(l));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i,o,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.appwriteService.databases,e.t1=Na,e.t2=Za,e.t3=n,e.t4=u,e.t5=u({},gi(a)),e.t6={},e.next=9,t.getMetadata(a);case 9:return e.t7=e.sent,e.t8=!(null===(i=a.arenda)||void 0===i||!i.length),e.t9=!(null===(o=a.prodazha)||void 0===o||!o.length),e.t10={system_metadata:e.t7,system_is_rent:e.t8,system_is_sell:e.t9},e.t11=(0,e.t4)(e.t5,e.t6,e.t10),e.next=16,e.t0.updateDocument.call(e.t0,e.t1,e.t2,e.t3,e.t11);case 16:return l=e.sent,s=bi(l),t.updateSubject.next([n,s]),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"toggleArchive",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findById(n);case 2:return a=e.sent,i=a.system_is_archive,e.next=6,t.appwriteService.databases.updateDocument(Na,Za,n,{system_is_archive:!i});case 6:o=e.sent,u=bi(o),t.updateSubject.next([n,u]),t.reloadSubject.next();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"toggleOnlyForOwner",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findById(n);case 2:return a=e.sent,i=a.system_only_for_owner,e.next=6,t.appwriteService.databases.updateDocument(Na,Za,n,{system_only_for_owner:!i});case 6:o=e.sent,u=bi(o),t.updateSubject.next([n,u]),t.reloadSubject.next();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"moveToArchive",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,Za,n,{system_is_archive:!0});case 2:a=e.sent,i=bi(a),t.updateSubject.next([n,i]),t.reloadSubject.next();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"updateAllowance",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,Za,n,{system_allowance:a});case 2:i=e.sent,o=bi(i),t.updateSubject.next([n,o]),t.reloadSubject.next();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,Za,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(Ii,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&t.reloadSubject.next(),n.includes(di)&&t.reloadSubject.next(),n.includes(ci)){var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),ji=p((function e(){var t=this;s(this,e),d(this,"bidDbService",F(Ti.bidDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"reloadSubject",this.bidDbService.reloadSubject),d(this,"updateSubject",this.bidDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("bidViewService create",n),e.next=3,t.bidDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("bidViewService update",a),e.next=3,t.bidDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"updateAllowance",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("bidViewService updateAllowance"),e.next=3,t.bidDbService.updateAllowance(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("bidViewService remove",{id:n}),e.next=3,t.bidDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"toggleArchive",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("bidViewService toggleArchive"),e.next=3,t.bidDbService.toggleArchive(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"toggleOnlyForOwner",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("bidViewService toggleOnlyForOwner"),e.next=3,t.bidDbService.toggleOnlyForOwner(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"moveToArchive",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("bidViewService moveToArchive"),e.next=3,t.bidDbService.moveToArchive(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("bidViewService read",{id:n}),e.next=3,t.bidDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("bidViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"paginate",function(){var e=i(r().mark((function e(n,a,i,o,u,l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("bidViewService paginate"),e.next=3,t.bidDbService.paginate(n,a,i,o,u,l);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),C(this,{})})),Di="cache",Ri="realestate",qi=function(e){return new Promise((function(t){var n=document.createElement("img");n.style.position="fixed",n.style.pointerEvents="none",n.style.visibility="hidden",document.body.appendChild(n),n.onload=function(){var e=document.createElement("canvas");e.height=n.height,e.width=n.width;var r=e.getContext("2d");if(!r)return document.body.removeChild(n),void t(null);r.drawImage(n,0,0),e.toBlob((function(e){if(!e)return document.body.removeChild(n),void t(null);document.body.removeChild(n),t(e)}))},n.onerror=function(e){console.error(e),document.body.removeChild(n),t(null)},n.crossOrigin="anonymous",n.src=e}))},Pi=p((function e(){var t=this;s(this,e),d(this,"routerService",F(Ti.routerService)),d(this,"db",null),d(this,"resourceMap",new Map),d(this,"init",(function(){return new Promise((function(e,n){var r=indexedDB.open(Ri,1);r.onupgradeneeded=function(){r.result.createObjectStore(Di)},r.onsuccess=function(){t.db=r.result,t.db.onerror=function(){console.error("Error creating/accessing db")},e()},r.onerror=function(){n()}}))})),d(this,"writeImage",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var i=t.db.transaction([Di],"readwrite").objectStore(Di).put(n,a);i.addEventListener("success",(function(){return e()})),i.addEventListener("error",(function(){return r()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"readImage",(function(e){return new Promise((function(n,r){var a=t.db.transaction([Di],"readonly").objectStore(Di).openCursor(e);a.addEventListener("success",(function(){var e;return n((null===(e=a.result)||void 0===e?void 0:e.value)||null)})),a.addEventListener("error",(function(){return r()}))}))})),d(this,"hasImage",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.resourceMap.has(n)){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,t.readImage(n);case 4:if(!(a=e.sent)){e.next=9;break}return i=URL.createObjectURL(a),t.resourceMap.set(n,i),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getImage",function(){var e=i(r().mark((function e(n,a){var i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=t.resourceMap.get(a))){e.next=3;break}return e.abrupt("return",i);case 3:return e.next=5,t.readImage(a);case 5:if(!(o=e.sent)){e.next=10;break}return u=URL.createObjectURL(o),t.resourceMap.set(a,u),e.abrupt("return",u);case 10:return e.next=12,qi(n);case 12:if(!(l=e.sent)){e.next=19;break}return e.next=16,t.writeImage(l,a);case 16:return e.next=18,t.getImage(n,a);case 18:return e.abrupt("return",e.sent);case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"collectGarbage",(function(){t.resourceMap.forEach((function(e){var n=l(e,2),r=n[0],a=n[1];URL.revokeObjectURL(a),t.resourceMap.delete(r)}))})),d(this,"cleanup",(function(){return new Promise(function(){var e=i(r().mark((function e(t,n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!navigator.storage||!navigator.storage.estimate){e.next=16;break}return e.next=4,navigator.storage.estimate();case 4:if(a=e.sent,i=a.quota,o=a.usage,!i||!o){e.next=16;break}if(!(o/i*100>60)){e.next=14;break}return(u=indexedDB.deleteDatabase(Ri)).addEventListener("success",(function(){return t()})),u.addEventListener("error",(function(){return n()})),e.abrupt("return");case 14:return t(),e.abrupt("return");case 16:t(),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),console.log("cacheService failed to clear cache"),t();case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}())})),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.cleanup();case 2:return e.next=4,t.init();case 4:case"end":return e.stop()}}),e)}))))),C(this,{})})),Ei="databases.".concat(Na,".collections.").concat(Ya,".documents"),Ni=p((function e(){var t=this;s(this,e),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"featureService",F(Ti.featureService)),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"permissionService",F(Ti.permissionService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"getMetadata",function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=[]).push(t.fio),n.push(t.telefon),n.push(t.inn),n.push(t.pinfl),e.abrupt("return",n.join(" ").slice(0,mi));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"createIndex",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ya,[V.limit(1),V.select(["index"])]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,Ya,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"paginate",function(){var e=i(r().mark((function e(n,a,i,o,l,s){var c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.execute(oi,{filterData:u({_accessLevel:t.featureService.readAccessLevel,_search:l},n),pagination:a,sortModel:i,chips:o,search:l,payload:s});case 2:if((c=e.sent)!==M){e.next=5;break}return e.abrupt("return",{rows:[],total:null});case 5:return e.abrupt("return",{rows:_i(c.rows),total:c.total});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.permissionService.getPermissions();case 2:return a=e.sent,e.t0=t.appwriteService.databases,e.t1=Na,e.t2=Ya,e.t3=t.appwriteService.createId(),e.t4=u,e.t5=u({},gi(n)),e.t6={},e.next=12,t.getMetadata(n);case 12:return e.t7=e.sent,e.next=15,t.featureService.getAccessLevel();case 15:return e.t8=e.sent,e.t9=t.appwriteService.currentUser.$id,e.t10=a.hasManagerAllObjectsExclusivePermission,e.next=20,t.createIndex();case 20:return e.t11=e.sent,e.t12={system_metadata:e.t7,system_access_level:e.t8,system_created_by:e.t9,system_only_for_owner:e.t10,index:e.t11},e.t13=(0,e.t4)(e.t5,e.t6,e.t12),e.next=25,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t13);case 25:return i=e.sent,e.abrupt("return",bi(i));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.appwriteService.databases,e.t1=Na,e.t2=Ya,e.t3=n,e.t4=u,e.t5=u({},gi(a)),e.t6={},e.next=9,t.getMetadata(a);case 9:return e.t7=e.sent,e.t8={system_metadata:e.t7},e.t9=(0,e.t4)(e.t5,e.t6,e.t8),e.next=14,e.t0.updateDocument.call(e.t0,e.t1,e.t2,e.t3,e.t9);case 14:return i=e.sent,o=bi(i),t.updateSubject.next([n,o]),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,Ya,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(Ei,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&t.reloadSubject.next(),n.includes(di)&&t.reloadSubject.next(),n.includes(ci)){var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),Oi=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"findDuplicates",function(){var e=i(r().mark((function e(n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.fio,i=n.telefon,t.loggerService.log("contactRequestService findDuplicates",{fio:a,telefon:i}),e.next=4,t.appwriteService.databases.listDocuments(Na,Ya,[].concat(f(a&&[V.search("fio",a)]),f(i&&[V.search("telefon",i)])));case 4:return o=e.sent,e.abrupt("return",{rows:_i(o.documents),total:o.total});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S(this)})),Ui=p((function e(){var t=this;s(this,e),d(this,"contactDbService",F(Ti.contactDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"reloadSubject",this.contactDbService.reloadSubject),d(this,"updateSubject",this.contactDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("contactViewService create",n),e.next=3,t.contactDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("contactViewService update",a),e.next=3,t.contactDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("contactViewService remove",{id:n}),e.next=3,t.contactDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("contactViewService read",{id:n}),e.next=3,t.contactDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("contactViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"paginate",function(){var e=i(r().mark((function e(n,a,i,o,u,l){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("contactViewService paginate"),e.next=3,t.contactDbService.paginate(n,a,i,o,u,l);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),C(this,{})})),Hi="1970-01-01",Wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h(),t=h(Hi);return e.diff(t,"day")},$i=function(e){var t=Wi();return Gi(t+e).utc().format()},Gi=function(e){return h(Hi).add(e,"day")},Yi=function(e){return h().set("hour",0).set("minute",0).add(e,"minute")};window.getMomentStamp=Wi,window.fromMomentStamp=Gi,window.getUtcOffset=$i;var Ki,Zi,Xi={"last-month":$i(-31)},Ji=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"getNewBidsCount",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Za,[V.limit(1),V.select(["index"]),V.greaterThanEqual("$createdAt",Xi[n])]);case 2:return a=e.sent,i=a.total,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getNewApartmentCount",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ga,[V.limit(1),V.select(["index"]),V.greaterThanEqual("$createdAt",Xi[n])]);case 2:return a=e.sent,i=a.total,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getDealsInProgressCount",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.select(["index"]),V.greaterThanEqual("$createdAt",Xi[n]),V.notEqual("status","Закрытая сделка"),V.notEqual("status","Сделка сорвана")]);case 2:return a=e.sent,i=a.total,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getDealsByStatusCount",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.select(["index"]),V.greaterThanEqual("$createdAt",Xi[n]),V.equal("status",a)]);case 2:return i=e.sent,o=i.total,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"getDoneDealsByUserCount",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.select(["index"]),V.greaterThanEqual("$createdAt",Xi[n]),V.equal("user_id",a),V.equal("status","Закрытая сделка")]);case 2:return i=e.sent,o=i.total,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"getTasksByStamp",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ja,[V.greaterThanEqual("moment_stamp",n),V.lessThanEqual("moment_stamp",a)]);case 2:return i=e.sent,o=i.documents,e.abrupt("return",_i(o));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C(this,{})})),Qi=function(){var e=i(r().mark((function e(t,n,a,i,o){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.databases.listDocuments(Na,t,[V.orderDesc("$updatedAt")].concat(f(o?[V.cursorAfter(o)]:[]),[V.limit(n)],f(i),[V.limit(a)]));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}(),eo=function(){var e=function(e){return function(){return new g(e.apply(this,arguments))}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.documentReadDelay,i=void 0===a?100:a,o=n.documentsPageSize,u=void 0===o?5e3:o,l=n.totalDocumentsLimit,s=void 0===l?1e5:l;return r().mark((function n(){var a,o,l,c,p,d,m,f,h,v,b;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=0,o=null,l=Qi(e,u,s,t,null);case 3:if(!(a<s)){n.next=50;break}return console.log("Fetching collection ".concat(e," from ").concat(e," starting from ").concat(o||0)),n.next=7,new k(Promise.all([l,H(i)]),0);case 7:if(c=n.sent,!((p=c[0]).documents.length<u)){n.next=28;break}d=y(p.documents),n.prev=11,d.s();case 13:if((m=d.n()).done){n.next=19;break}return f=m.value,n.next=17,f;case 17:n.next=13;break;case 19:n.next=24;break;case 21:n.prev=21,n.t0=n.catch(11),d.e(n.t0);case 24:return n.prev=24,d.f(),n.finish(24);case 27:return n.abrupt("break",50);case 28:o=p.documents[p.documents.length-1].$id,l=Qi(e,u,s,t,o),h=y(p.documents),n.prev=31,h.s();case 33:if((v=h.n()).done){n.next=39;break}return b=v.value,n.next=37,b;case 37:n.next=33;break;case 39:n.next=44;break;case 41:n.prev=41,n.t1=n.catch(31),h.e(n.t1);case 44:return n.prev=44,h.f(),n.finish(44);case 47:a+=p.documents.length,n.next=3;break;case 50:case"end":return n.stop()}}),n,null,[[11,21,24,27],[31,41,44,47]])}))()}));return function(t){return e.apply(this,arguments)}}(),to=function(){var e=i(r().mark((function e(t){var n,a,i,o,u,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=!1,i=!1,e.prev=3,u=b(t);case 5:return e.next=7,u.next();case 7:if(!(a=!(l=e.sent).done)){e.next=13;break}s=l.value,n.push(s);case 10:a=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,o=e.t0;case 19:if(e.prev=19,e.prev=20,!a||null==u.return){e.next=24;break}return e.next=24,u.return();case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",n);case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})));return function(t){return e.apply(this,arguments)}}(),no=["Новая сделка","В работе","Показы","Переговоры","Задаток/Залог","Оформление","Оплата","Закрытая сделка","Сделка сорвана"],ro=["Аренда","Продажа"],ao="databases.".concat(Na,".collections.").concat(Xa,".documents"),io=p((function e(){var t=this;s(this,e),d(this,"reloadSubject",new A),d(this,"createSubject",new A),d(this,"removeSubject",new A),d(this,"updateSubject",new A),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"createIndex",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.select(["index"])]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),d(this,"findByContactId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.equal("contact_id",n),V.notEqual("status","Сделка сорвана"),V.notEqual("status","Закрытая сделка"),V.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}throw new Error("dealDbService findByContactId document not found");case 8:return e.abrupt("return",bi(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findOccupiedByTargetApartmentId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.equal("target_apartment_id",n),V.notEqual("status","Сделка сорвана"),V.notEqual("status","Закрытая сделка"),V.orderDesc("$createdAt")]);case 2:return a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o,e.abrupt("return",u?bi(u):null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findOccupiedByApartmentId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.equal("apartment_id",n),V.notEqual("status","Сделка сорвана"),V.notEqual("status","Закрытая сделка"),V.orderDesc("$createdAt")]);case 2:return a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o,e.abrupt("return",u?bi(u):null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findOccupiedByTagetBidId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.equal("target_bid_id",n),V.notEqual("status","Сделка сорвана"),V.notEqual("status","Закрытая сделка"),V.orderDesc("$createdAt")]);case 2:return a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o,e.abrupt("return",u?bi(u):null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findOccupiedByBidId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.equal("bid_id",n),V.notEqual("status","Сделка сорвана"),V.notEqual("status","Закрытая сделка"),V.orderDesc("$createdAt")]);case 2:return a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o,e.abrupt("return",u?bi(u):null);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByApartmentId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.equal("apartment_id",n),V.notEqual("status","Сделка сорвана"),V.notEqual("status","Закрытая сделка"),V.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}throw new Error("dealDbService findByApartmentId document not found");case 8:return e.abrupt("return",bi(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByBidId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.limit(1),V.equal("bid_id",n),V.notEqual("status","Сделка сорвана"),V.notEqual("status","Закрытая сделка"),V.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}throw new Error("dealDbService findByBidId document not found");case 8:return e.abrupt("return",bi(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,Xa,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByDealStatus",function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(eo(Xa,[V.equal("status",t)],{totalDocumentsLimit:250}));case 2:return n=e.sent,e.abrupt("return",_i(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.appwriteService.databases,e.t1=Na,e.t2=Xa,e.t3=t.appwriteService.createId(),e.t4=u,e.t5=u({},gi(n)),e.t6={},e.next=9,t.createIndex();case 9:return e.t7=e.sent,e.t8={index:e.t7},e.t9=(0,e.t4)(e.t5,e.t6,e.t8),e.next=14,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t9);case 14:return a=e.sent,i=bi(a),t.createSubject.next(i),e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,Xa,n,u({},gi(a)));case 2:return i=e.sent,o=bi(i),t.updateSubject.next([n,o]),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,Xa,n);case 2:t.removeSubject.next(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L((function(){var e=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(ao,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)){var a=bi(r);t.reloadSubject.next(),t.createSubject.next(a)}if(n.includes(di)&&(t.reloadSubject.next(),t.removeSubject.next(r.$id)),n.includes(ci)){var i=bi(r);t.updateSubject.next([r.$id,i])}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}))),C(this,{})})),oo="databases.".concat(Na,".collections.").concat(Qa,".documents"),uo=p((function e(){var t=this;s(this,e),d(this,"createSubject",new A),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,Qa,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByContactId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Qa,[V.limit(1),V.equal("contact_id",n),V.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}throw new Error("dealHistoryDbService findByContactId document not found");case 8:return e.abrupt("return",bi(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByApartmentId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Qa,[V.limit(1),V.equal("apartment_id",n),V.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}throw new Error("dealHistoryDbService findByApartmentId document not found");case 8:return e.abrupt("return",bi(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByBidId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Qa,[V.limit(1),V.equal("bid_id",n),V.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}throw new Error("dealHistoryDbService findByBidId document not found");case 8:return e.abrupt("return",bi(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.createDocument(Na,Qa,t.appwriteService.createId(),gi(n));case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,Qa,n,gi(a));case 2:return i=e.sent,e.abrupt("return",bi(i));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,Qa,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByApartmentId",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Qa,[V.orderDesc("$createdAt"),V.equal("apartment_id",n)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByContactId",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Qa,[V.orderDesc("$createdAt"),V.equal("contact_id",n)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByBidId",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Qa,[V.orderDesc("$createdAt"),V.equal("bid_id",n)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(oo,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&(t.reloadSubject.next(),t.createSubject.next(r)),n.includes(di)&&t.reloadSubject.next(),n.includes(ci)){var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),lo="deal-begin",so="deal-end",co="deal-reassign",po="deal-status",mo=p((function e(){var t=this;s(this,e),d(this,"dealHistoryViewService",F(Ti.dealHistoryViewService)),d(this,"dealViewService",F(Ti.dealViewService)),d(this,"contactViewService",F(Ti.contactViewService)),d(this,"apartmentViewService",F(Ti.apartmentViewService)),d(this,"bidViewService",F(Ti.bidViewService)),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"layoutService",F(Ti.layoutService)),d(this,"readDealStateByApartment",function(){var e=i(r().mark((function e(n,a){var i,o,u,s,c,p,d,m,f,v,b,_,g,k,x,w,S,z,T;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService readDealStateByApartment",{apartmentId:n,userId:a}),e.next=3,t.appwriteService.databases.listDocuments(Na,Qa,[V.limit(1),V.equal("apartment_id",n),V.equal("type",so),V.orderDesc("$createdAt")]);case 3:return i=e.sent,o=i.documents,e.next=7,t.appwriteService.databases.listDocuments(Na,Qa,[V.limit(1),V.equal("apartment_id",n),V.equal("type",lo),V.orderDesc("$createdAt")]);case 7:if(u=e.sent,s=u.documents,c=l(o,1),p=c[0],d=void 0===p?null:p,m=l(s,1),f=m[0],v=void 0===f?null:f,b=function(){if(!v)return so;if(!d)return lo;var e=h(v.$createdAt),t=h(d.$createdAt);return e.isAfter(t)?lo:so}(),_=[],!v||b!==lo){e.next=21;break}return e.next=17,t.appwriteService.databases.listDocuments(Na,Qa,[V.equal("apartment_id",n),V.cursorBefore(v.$id),V.orderDesc("$createdAt")]);case 17:g=e.sent,k=g.documents,x=y(k);try{for(x.s();!(w=x.n()).done;)(S=w.value).type===co&&_.push(S)}catch(r){x.e(r)}finally{x.f()}case 21:if(z=_[0],!(T=void 0===z?null:z)||!v){e.next=25;break}return _.unshift(v),e.abrupt("return",{status:co,activeItem:T,reassign:_});case 25:return e.abrupt("return",{status:b,activeItem:b===lo?v:null,reassign:_});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"commitApartmentDealBegin",function(){var e=i(r().mark((function e(n,a,i,o,u,l){var s,c,p,d,m,f,y,h,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService commitApartmentDealBegin",{apartmentId:n,userId:a}),e.next=3,t.readDealStateByApartment(n,a);case 3:if(e.sent.status===so){e.next=6;break}throw new Error("commitApartmentDealBegin invalid state");case 6:return s=["<pre>","Создана сделка <text-underline>".concat(i,"</text-underline>"),l?"Комментарий: ".concat(l):"","</pre>"].join("\n"),e.next=9,t.apartmentViewService.read(n);case 9:return c=e.sent,p=c.contact_id,e.next=13,t.contactViewService.read(p);case 13:return d=e.sent,m=d.fio,f=d.telefon,y=d.tip_klienta,e.next=19,t.dealViewService.create({status:"Новая сделка",apartment_id:n,contact_id:p,bid_id:null,type:i,user_id:a,price:o,price_unit:u,target_apartment_id:null,target_bid_id:null,fio:m,telefon:f,tip_klienta:y?y[0]:""});case 19:return h=e.sent,v=h.id,e.next=23,t.dealHistoryViewService.create({deal_id:v,apartment_id:n,contact_id:p,user_id:a,type:lo,comment:s,bid_id:null,payload:null});case 23:t.layoutService.reloadOutlet();case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),d(this,"commitApartmentDealEnd",function(){var e=i(r().mark((function e(n,a,i,o){var u,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService commitApartmentDealEnd",{apartmentId:n,userId:a}),e.next=3,t.readDealStateByApartment(n,a);case 3:if((u=e.sent).status===lo||u.status===co){e.next=6;break}throw new Error("commitApartmentDealEnd invalid state");case 6:if(u.activeItem){e.next=8;break}throw new Error("commitApartmentDealBegin activeItem is null");case 8:return e.next=10,t.dealHistoryViewService.create({contact_id:u.activeItem.contact_id,apartment_id:n,user_id:a,deal_id:u.activeItem.deal_id,type:so,comment:i,bid_id:null,payload:null});case 10:if(!o){e.next=20;break}return e.next=13,t.dealViewService.read(u.activeItem.deal_id);case 13:return l=e.sent,s=l.target_bid_id,e.next=17,t.apartmentViewService.moveToArchive(n);case 17:if(!s){e.next=20;break}return e.next=20,t.bidViewService.moveToArchive(s);case 20:t.layoutService.reloadOutlet();case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),d(this,"commitApartmentDealReassign",function(){var e=i(r().mark((function e(n,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService commitApartmentDealReassign",{apartmentId:n,userId:a}),e.next=3,t.readDealStateByApartment(n,a);case 3:if((i=e.sent).status===lo||i.status===co){e.next=6;break}throw new Error("commitApartmentDealBegin invalid state");case 6:if(i.activeItem){e.next=8;break}throw new Error("commitApartmentDealBegin activeItem is null");case 8:return e.next=10,Promise.all([t.dealHistoryViewService.create({contact_id:i.activeItem.contact_id,apartment_id:n,user_id:a,deal_id:i.activeItem.deal_id,type:co,comment:"",bid_id:null,payload:null}),t.dealViewService.update(i.activeItem.deal_id,{user_id:a})]);case 10:t.layoutService.reloadOutlet();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"readDealStateByBid",function(){var e=i(r().mark((function e(n,a){var i,o,u,s,c,p,d,m,f,v,b,_,g,k,x,w,S,z,T;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService readDealStateByBid",{bidId:n,userId:a}),e.next=3,t.appwriteService.databases.listDocuments(Na,Qa,[V.limit(1),V.equal("bid_id",n),V.equal("type",so),V.orderDesc("$createdAt")]);case 3:return i=e.sent,o=i.documents,e.next=7,t.appwriteService.databases.listDocuments(Na,Qa,[V.limit(1),V.equal("bid_id",n),V.equal("type",lo),V.orderDesc("$createdAt")]);case 7:if(u=e.sent,s=u.documents,c=l(o,1),p=c[0],d=void 0===p?null:p,m=l(s,1),f=m[0],v=void 0===f?null:f,b=function(){if(!v)return so;if(!d)return lo;var e=h(v.$createdAt),t=h(d.$createdAt);return e.isAfter(t)?lo:so}(),_=[],!v||b!==lo){e.next=21;break}return e.next=17,t.appwriteService.databases.listDocuments(Na,Qa,[V.equal("bid_id",n),V.cursorBefore(v.$id),V.orderDesc("$createdAt")]);case 17:g=e.sent,k=g.documents,x=y(k);try{for(x.s();!(w=x.n()).done;)(S=w.value).type===co&&_.push(S)}catch(r){x.e(r)}finally{x.f()}case 21:if(z=_[0],!(T=void 0===z?null:z)||!v){e.next=25;break}return _.unshift(v),e.abrupt("return",{status:co,activeItem:T,reassign:_});case 25:return e.abrupt("return",{status:b,activeItem:b===lo?v:null,reassign:_});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"commitBidDealBegin",function(){var e=i(r().mark((function e(n,a,i,o,u,l){var s,c,p,d,m,f,y,h,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService commitBidDealBegin",{bidId:n,userId:a}),e.next=3,t.readDealStateByBid(n,a);case 3:if(e.sent.status===so){e.next=6;break}throw new Error("commitApartmentDealBegin invalid state");case 6:return e.next=8,t.bidViewService.read(n);case 8:return s=e.sent,c=s.contact_id,e.next=12,t.contactViewService.read(c);case 12:return p=e.sent,d=p.fio,m=p.telefon,f=p.tip_klienta,e.next=18,t.dealViewService.create({status:"Новая сделка",bid_id:n,apartment_id:null,contact_id:c,target_apartment_id:null,target_bid_id:null,type:i,user_id:a,price:o,price_unit:u,fio:d,telefon:m,tip_klienta:f?f[0]:""});case 18:return y=e.sent,h=y.id,v=["<pre>","Создана сделка <text-underline>".concat(i,"</text-underline>"),l?"Комментарий: ".concat(l):"","</pre>"].join("\n"),e.next=23,t.dealHistoryViewService.create({bid_id:n,user_id:a,deal_id:h,type:lo,comment:v,contact_id:c,apartment_id:null,payload:null});case 23:t.layoutService.reloadOutlet();case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),d(this,"commitBidDealEnd",function(){var e=i(r().mark((function e(n,a,i,o){var u,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService commitBidDealEnd",{bidId:n,userId:a}),e.next=3,t.readDealStateByBid(n,a);case 3:if((u=e.sent).status===lo||u.status===co){e.next=6;break}throw new Error("commitBidDealEnd invalid state");case 6:if(u.activeItem){e.next=8;break}throw new Error("commitBidDealEnd activeItem is null");case 8:return e.next=10,t.dealHistoryViewService.create({bid_id:n,user_id:a,type:so,deal_id:u.activeItem.deal_id,comment:i,contact_id:u.activeItem.contact_id,apartment_id:null,payload:null});case 10:if(!o){e.next=20;break}return e.next=13,t.dealViewService.read(u.activeItem.deal_id);case 13:return l=e.sent,s=l.target_apartment_id,e.next=17,t.bidViewService.moveToArchive(n);case 17:if(!s){e.next=20;break}return e.next=20,t.apartmentViewService.moveToArchive(s);case 20:t.layoutService.reloadOutlet();case 21:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),d(this,"commitBidDealReassign",function(){var e=i(r().mark((function e(n,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService commitBidDealReassign",{bidId:n,userId:a}),e.next=3,t.readDealStateByBid(n,a);case 3:if((i=e.sent).status===lo||i.status===co){e.next=6;break}throw new Error("commitApartmentDealBegin invalid state");case 6:if(i.activeItem){e.next=8;break}throw new Error("commitApartmentDealBegin activeItem is null");case 8:return e.next=10,Promise.all([t.dealHistoryViewService.create({bid_id:n,user_id:a,type:co,deal_id:i.activeItem.deal_id,contact_id:i.activeItem.contact_id,comment:"",apartment_id:null,payload:null}),t.dealViewService.update(i.activeItem.deal_id,{user_id:a})]);case 10:t.layoutService.reloadOutlet();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"commitDealStatusByApartment",function(){var e=i(r().mark((function e(n,a,i,o){var u,l,s,c,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService commitDealStatusByApartment",{apartmentId:n}),e.next=3,t.dealHistoryViewService.findByApartmentId(n);case 3:if(u=e.sent,l=u.deal_id,s=u.contact_id,c=t.appwriteService.currentUser.$id,p=["<pre>","Статус изменен из <text-underline>".concat(a,"</text-underline> в <text-underline>").concat(i,"</text-underline>"),o?"Комментарий: ".concat(o):"","</pre>"].join("\n"),"Закрытая сделка"!==i&&"Сделка сорвана"!==i){e.next=12;break}return e.next=11,t.commitApartmentDealEnd(n,c,p,"Закрытая сделка"===i);case 11:return e.abrupt("return");case 12:return e.next=14,t.dealHistoryViewService.create({contact_id:s,bid_id:null,user_id:c,type:po,deal_id:l,comment:p,apartment_id:n,payload:null});case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),d(this,"commitDealStatusByBid",function(){var e=i(r().mark((function e(n,a,i,o){var u,l,s,c,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryRequestService commitDealStatusByBid",{bidId:n}),e.next=3,t.dealHistoryViewService.findByBidId(n);case 3:if(u=e.sent,l=u.deal_id,s=u.contact_id,c=t.appwriteService.currentUser.$id,p=["<pre>","Статус изменен из <text-underline>".concat(a,"</text-underline> в <text-underline>").concat(i,"</text-underline>"),o?"Комментарий: ".concat(o):"","</pre>"].join("\n"),"Закрытая сделка"!==i&&"Сделка сорвана"!==i){e.next=12;break}return e.next=11,t.commitBidDealEnd(n,c,p,"Закрытая сделка"===i);case 11:return e.abrupt("return");case 12:return e.next=14,t.dealHistoryViewService.create({bid_id:n,user_id:c,type:po,deal_id:l,comment:p,contact_id:s,apartment_id:null,payload:null});case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),C(this,{})})),fo=p((function e(){var t=this;s(this,e),d(this,"dealHistoryDbService",F(Ti.dealHistoryDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"createSubject",this.dealHistoryDbService.createSubject),d(this,"reloadSubject",this.dealHistoryDbService.reloadSubject),d(this,"updateSubject",this.dealHistoryDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryViewService create",n),e.next=3,t.dealHistoryDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryViewService update",a),e.next=3,t.dealHistoryDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryViewService remove",{id:n}),e.next=3,t.dealHistoryDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryViewService read",{id:n}),e.next=3,t.dealHistoryDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByApartmentId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryViewService findByApartmentId"),e.next=3,t.dealHistoryDbService.findByApartmentId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByBidId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryViewService findByBidId"),e.next=3,t.dealHistoryDbService.findByBidId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByContactId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealHistoryViewService findByContactId"),e.next=3,t.dealHistoryDbService.findByContactId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByApartmentId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("dealHistoryViewService findAllByApartmentId"),n){e.next=3;break}throw new Error("dealHistoryViewService findAllByApartmentId id is null");case 3:return e.next=5,t.dealHistoryDbService.findAllByApartmentId(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByBidId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("dealHistoryViewService findAllByBidId"),n){e.next=3;break}throw new Error("dealHistoryViewService findAllByBidId id is null");case 3:return e.next=5,t.dealHistoryDbService.findAllByBidId(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByContactId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("dealHistoryViewService findAllByContactId"),n){e.next=3;break}throw new Error("dealHistoryViewService findAllByContactId id is null");case 3:return e.next=5,t.dealHistoryDbService.findAllByContactId(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("dealHistoryViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),C(this,{})})),yo=p((function e(){var t=this;s(this,e),d(this,"dealHistoryRequestService",F(Ti.dealHistoryRequestService)),d(this,"dealViewService",F(Ti.dealViewService)),d(this,"commidDealHistoryInternal",function(){var e=i(r().mark((function e(n,a,i,o,u){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=5;break}return e.next=4,t.dealHistoryRequestService.commitDealStatusByApartment(n,i,o,u);case 4:return e.abrupt("return");case 5:if(!a){e.next=9;break}return e.next=8,t.dealHistoryRequestService.commitDealStatusByBid(a,i,o,u);case 8:return e.abrupt("return");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),d(this,"commitDealStatusChange",function(){var e=i(r().mark((function e(n,a,i,o,u,l,s,c){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([t.commidDealHistoryInternal(a,i,l,s,c),t.dealViewService.update(n,{status:s,target_apartment_id:o,target_bid_id:u})]);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,u,l){return e.apply(this,arguments)}}()),d(this,"commitBidDealEnd",function(){var e=i(r().mark((function e(n,a,i,o){var u,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dealViewService.findByBidId(n);case 2:return u=e.sent,l=u.$id,s=u.status,e.next=7,t.commitDealStatusChange(l,null,n,a,null,s,i,o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),d(this,"commitApartmentDealEnd",function(){var e=i(r().mark((function e(n,a,i,o){var u,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.dealViewService.findByApartmentId(n);case 2:return u=e.sent,l=u.$id,s=u.status,e.next=7,t.commitDealStatusChange(l,n,null,null,a,s,i,o);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),C(this,{})})),ho=p((function e(){var t=this;s(this,e),d(this,"dealDbService",F(Ti.dealDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"reloadSubject",this.dealDbService.reloadSubject),d(this,"createSubject",this.dealDbService.createSubject),d(this,"removeSubject",this.dealDbService.removeSubject),d(this,"updateSubject",this.dealDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService create",n),e.next=3,t.dealDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService update",a),e.next=3,t.dealDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService remove",{id:n}),e.next=3,t.dealDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService read",{id:n}),e.next=3,t.dealDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("dealViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"readStatusByApartmentId",function(){var e=i(r().mark((function e(n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService readStatusByApartmentId"),a="",e.prev=2,e.next=5,t.dealDbService.findByApartmentId(n);case 5:i=e.sent,o=i.status,a=o,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a="Свободно";case 13:return e.prev=13,e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"readStatusByBidId",function(){var e=i(r().mark((function e(n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService readStatusByBidId"),a="",e.prev=2,e.next=5,t.dealDbService.findByBidId(n);case 5:i=e.sent,o=i.status,a=o,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a="Свободно";case 13:return e.prev=13,e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"readStatusByContactId",function(){var e=i(r().mark((function e(n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService readStatusByContactId"),a="",e.prev=2,e.next=5,t.dealDbService.findByContactId(n);case 5:i=e.sent,o=i.status,a=o,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a="";case 13:return e.prev=13,e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByDealStatus",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService findByDealStatus"),e.next=3,t.dealDbService.findByDealStatus(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByApartmentId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService findByApartmentId"),e.next=3,t.dealDbService.findByApartmentId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByBidId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService findByBidId"),e.next=3,t.dealDbService.findByBidId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByContactId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService findByContactId"),e.next=3,t.dealDbService.findByContactId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findOccupiedByTargetApartmentId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService findOccupiedByTargetApartmentId"),e.next=3,t.dealDbService.findOccupiedByTargetApartmentId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findOccupiedByTagetBidId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService findOccupiedByTagetBidId"),e.next=3,t.dealDbService.findOccupiedByTagetBidId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findOccupiedByApartmentId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService findOccupiedByApartmentId"),e.next=3,t.dealDbService.findOccupiedByApartmentId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findOccupiedByBidId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("dealViewService findOccupiedByBidId"),e.next=3,t.dealDbService.findOccupiedByBidId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C(this,{})})),vo=p((function e(){var t=this;s(this,e),d(this,"roleViewService",F(Ti.roleViewService)),d(this,"settingsViewService",F(Ti.settingsViewService)),d(this,"getCurrencyType",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{eur:"EUR",usd:"USD",uzs:"UZS"});case 1:case"end":return e.stop()}}),e)}))))),d(this,"getUserRoles",i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.roleViewService.findAll();case 2:return n=e.sent,e.abrupt("return",n.reduce((function(e,t){var n=t.id,r=t.title;return u(u({},e),{},d({},n,r))}),{}));case 4:case"end":return e.stop()}}),e)})))),d(this,"getMasterDetailMode",i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(d(t={},W.Tabs,"Вкладки"),d(t,W.Paper,"Скроллер"),t));case 1:case"end":return e.stop()}}),e)})))),d(this,"getCountries",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("".concat(Pa,"/country-list.json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))),d(this,"getMahallya",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("".concat(Pa,"/mahallya.json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))),d(this,"getUlicza",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("".concat(Pa,"/ulicza.json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))),d(this,"getSocialMediaLinksRaw",L(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.settingsViewService.getValue();case 2:return n=e.sent,a=[hi,fi,yi,vi],e.abrupt("return",f(new Array(1)).flatMap((function(e,t){return a.map((function(e){return{type:e,id:t+1,label:e,link:G.get(n,"".concat(e,"_link_").concat(t+1)),enabled:G.get(n,"".concat(e,"_link_enabled_").concat(t+1))}}))})).filter((function(e){return e.enabled})).reduce((function(e,t){var n=t.id,r=t.type,a=t.label,i=t.link,o=t.enabled;return u(u({},e),{},d({},"".concat(r,"-").concat(n),{label:a,link:i,enabled:o}))}),{}));case 5:case"end":return e.stop()}}),e)}))))),d(this,"getInstagramPrimaryLink",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSocialMediaLinksRaw();case 2:return n=e.sent,a=Object.entries(n).filter((function(e){return l(e,1)[0].includes(hi)})),e.abrupt("return",a.length?a[0][1].link:null);case 5:case"end":return e.stop()}}),e)})))),d(this,"getTelegramPrimaryLink",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSocialMediaLinksRaw();case 2:return n=e.sent,a=Object.entries(n).filter((function(e){return l(e,1)[0].includes(fi)})),e.abrupt("return",a.length?a[0][1].link:null);case 5:case"end":return e.stop()}}),e)})))),d(this,"getFacebookPrimaryLink",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSocialMediaLinksRaw();case 2:return n=e.sent,a=Object.entries(n).filter((function(e){return l(e,1)[0].includes(vi)})),e.abrupt("return",a.length?a[0][1].link:null);case 5:case"end":return e.stop()}}),e)})))),d(this,"getYoutubePrimaryLink",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getSocialMediaLinksRaw();case 2:return n=e.sent,a=Object.entries(n).filter((function(e){return l(e,1)[0].includes(yi)})),e.abrupt("return",a.length?a[0][1].link:null);case 5:case"end":return e.stop()}}),e)})))),d(this,"getTelegramMapRaw",L(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.settingsViewService.getValue();case 2:return n=e.sent,a=f(new Array(5)).map((function(e,t){return{id:t+1,token:G.get(n,"telegram_token_".concat(t+1)),channel:G.get(n,"telegram_channel_".concat(t+1)),enabled:G.get(n,"telegram_channel_enabled_".concat(t+1))}})).filter((function(e){return e.enabled})),e.abrupt("return",a.reduce((function(e,t){return u(u({},e),{},d({},t.id,t))}),{}));case 5:case"end":return e.stop()}}),e)}))))),d(this,"getTelegramMap",i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getTelegramMapRaw();case 2:return n=e.sent,e.abrupt("return",Object.entries(n).reduce((function(e,t){var n=l(t,2),r=n[0],a=n[1].channel;return u(u({},e),{},d({},r,a))}),{}));case 4:case"end":return e.stop()}}),e)})))),d(this,"getAgencyMapRaw",L(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.settingsViewService.getValue();case 2:return n=e.sent,a=f(new Array(5)).map((function(e,t){return{id:t+1,phone:G.get(n,"telegram_agency_".concat(t+1)),telegram:G.get(n,"telegram_agency_nickname_".concat(t+1)),enabled:G.get(n,"telegram_agency_enabled_".concat(t+1))}})).filter((function(e){return e.enabled})),e.abrupt("return",a.reduce((function(e,t){return u(u({},e),{},d({},t.id,t))}),{}));case 5:case"end":return e.stop()}}),e)}))))),d(this,"getAgencyMap",i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAgencyMapRaw();case 2:return n=e.sent,e.abrupt("return",Object.entries(n).reduce((function(e,t){var n=l(t,2),r=n[0],a=n[1],i=a.phone,o=a.telegram;return u(u({},e),{},d({},r,"".concat(i," - ").concat(o)))}),{}));case 4:case"end":return e.stop()}}),e)})))),d(this,"getAgentMapRaw",L(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.settingsViewService.getValue();case 2:return n=e.sent,a=f(new Array(5)).map((function(e,t){return{id:t+1,phone:G.get(n,"telegram_agent_".concat(t+1)),telegram:G.get(n,"telegram_agent_nickname_".concat(t+1)),enabled:G.get(n,"telegram_agent_enabled_".concat(t+1))}})).filter((function(e){return e.enabled})),e.abrupt("return",a.reduce((function(e,t){return u(u({},e),{},d({},t.id,t))}),{}));case 5:case"end":return e.stop()}}),e)}))))),d(this,"getAgentMap",i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getAgentMapRaw();case 2:return n=e.sent,e.abrupt("return",Object.entries(n).reduce((function(e,t){var n=l(t,2),r=n[0],a=n[1],i=a.phone,o=a.telegram;return u(u({},e),{},d({},r,"".concat(i," - ").concat(o)))}),{}));case 4:case"end":return e.stop()}}),e)})))),d(this,"prefetch",L((function(){return Promise.all([t.getCountries(),t.getMahallya(),t.getUlicza(),t.getAgencyMapRaw(),t.getAgentMapRaw(),t.getTelegramMapRaw(),t.getSocialMediaLinksRaw()])}))),C(this,{})})),bo=function(){function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"userViewService",F(Ti.userViewService)),d(this,"_alerts",[]),d(this,"getDocument",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,$a,[V.equal("$id",n),V.limit(1)]);case 2:if(a=e.sent,(i=a.documents).length){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",i[0]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAll",i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,$a,[V.orderDesc("$createdAt")]);case 2:return n=e.sent,e.abrupt("return",_i(n.documents));case 4:case"end":return e.stop()}}),e)})))),d(this,"handleBuildAlerts",function(){var e=i(r().mark((function e(n){var a,o,u,l,s,c,p,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rv()||{},o=a.sideMenu,u=void 0===o?null:o,l=es(),s=l.id,c=void 0===s?null:s,e.next=4,Promise.all(n.filter((function(e){return null!==e.path})).filter((function(e){return null!==e.entity_id})).filter((function(e){return e.path===u})).filter((function(e){return e.entity_id===c})).filter((function(e){return e.id!==t.appwriteService.currentUser.$id})).filter((function(e){return"create"!==e.id})).filter((function(e){var t=e.$updatedAt,n=h(t);return h().diff(n,"minute")<15})).map(function(){var e=i(r().mark((function e(n){var a,i,o,u,l,s,c,p,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.id,i=n.$updatedAt,e.next=3,t.userViewService.tryRead(a);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return u=[o.first_name,o.last_name,o.middle_name].join(" "),l=h(i),s=l.get("hour").toString(),c=l.get("minute").toString(),p=l.get("second").toString(),s=1===s.length?"0"+s:s,c=1===c.length?"0"+c:c,p=1===p.length?"0"+p:p,d="Сотрудник ".concat(u," смотрит форму (Время ").concat(s,":").concat(c,":").concat(p,")"),e.abrupt("return",{color:"error",content:d});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return p=e.sent,d=p.filter((function(e){return!!e})),e.abrupt("return",d);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"handleFetch",K(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findAll();case 2:return n=e.sent,e.next=5,t.handleBuildAlerts(n);case 5:a=e.sent,N((function(){t._alerts=a}));case 7:case"end":return e.stop()}}),e)}))))),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.createDocument(Na,$a,t.appwriteService.currentUser.$id,gi(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,$a,t.appwriteService.currentUser.$id,gi(n));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.appwriteService.isAuthorized){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.handleFetch();case 4:t.appwriteService.client.subscribe("databases.".concat(Na,".collections.").concat($a,".documents"),i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.handleFetch();case 2:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)}))))),C(this,{_alerts:j,alerts:D})}return p(e,[{key:"alerts",get:function(){return Y(this._alerts)}}]),e}(),_o=p((function e(){var t=this;s(this,e),d(this,"routerService",F(Ti.routerService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"errorSubject",new A),d(this,"handleGlobalError",(function(e){console.error(e),t.loggerService.error(e),t.routerService.push("/error_page"),t.errorSubject.next()})),S(this)})),go=function(){function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"userViewService",F(Ti.userViewService)),d(this,"roleViewService",F(Ti.roleViewService)),d(this,"_features",[]),d(this,"getFeaturesByUserId",function(){var e=i(r().mark((function e(n){var a,i,o,u,l,s,c,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.userViewService.tryRead(n);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return a=e.t0,i=a.user_role,o=void 0===i?null:i,u=a.user_features,l=void 0===u?[]:u,e.next=12,t.roleViewService.tryRead(o?o[0]:"unknown");case 12:return s=e.sent,c=(null==s?void 0:s.role_features)||[],p=[].concat(f(l||[]),f(c)),e.abrupt("return",f(new Set(p)));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"init",L(i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.isAuthorized){e.next=3;break}return t.init.clear(),e.abrupt("return");case 3:return e.next=5,t.getFeaturesByUserId(t.appwriteService.currentUser.$id);case 5:n=e.sent,N((function(){t._features=n}));case 7:case"end":return e.stop()}}),e)}))))),d(this,"getFeatures",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:return e.abrupt("return",t.features);case 3:case"end":return e.stop()}}),e)})))),d(this,"getAccessLevel",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:return e.abrupt("return",t.accessLevel);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasFeature",i(r().mark((function e(){var n,a,i,o,u=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getFeatures();case 2:for(n=e.sent,a=u.length,i=new Array(a),o=0;o<a;o++)i[o]=u[o];return e.abrupt("return",i.some((function(e){return n.includes(e)})));case 5:case"end":return e.stop()}}),e)})))),C(this,{_features:j,features:D,accessLevel:D})}return p(e,[{key:"isAuthorized",get:function(){return this.appwriteService.isAuthorized}},{key:"features",get:function(){return Y(this._features)}},{key:"readAccessLevel",get:function(){var e=new Set(this.features).has("vizhu_vse_urovni")?5:0;return Math.max(this.accessLevel,e)}},{key:"accessLevel",get:function(){var e=new Set(this.features),t=f(new Array(5)).map((function(e,t){return t+1})).reverse();if(e.has("vizhu_vse_urovni"))return 5;var n,r=y(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(e.has("level-".concat(a)))return a}}catch(i){r.e(i)}finally{r.f()}return console.warn("FeatureService accessLevel unset level"),0}}]),e}(),ko=function(){function e(){var t=this;s(this,e),d(this,"appbarSubject",new A),d(this,"modalSubject",new A),d(this,"reloadOutletSubject",new A),d(this,"_modalLoading",0),d(this,"_appbarLoading",0),d(this,"setModalLoader",(function(e){t._modalLoading=Math.max(t._modalLoading+(e?1:-1),0),t.modalSubject.next(e)})),d(this,"setAppbarLoader",(function(e){t._appbarLoading=Math.max(t._appbarLoading+(e?1:-1),0),t.appbarSubject.next(e)})),d(this,"dropModalLoader",(function(){t._modalLoading=0,t.modalSubject.next(!1)})),d(this,"dropAppbarLoader",(function(){t._appbarLoading=0,t.appbarSubject.next(!1)})),d(this,"reloadOutlet",(function(){t.reloadOutletSubject.next()})),S(this)}return p(e,[{key:"hasModalLoader",get:function(){return!!this._modalLoading}},{key:"hasAppbarLoader",get:function(){return!!this._appbarLoading}}]),e}(),xo=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"error",(function(e){Z((function(n){n.setExtra("user_id",t.appwriteService.currentUser.$id),n.setExtra("email",t.appwriteService.currentUser.email),X(e)}))})),d(this,"log",(function(e,n){console.log(e),Z((function(r){r.setExtra("user_id",t.appwriteService.currentUser.$id),r.setExtra("email",t.appwriteService.currentUser.email),r.setExtra("msg",e),n&&r.setExtra("data",n),J("Log for ".concat(t.appwriteService.currentUser.email))}))})),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Q({dsn:"https://8cba9840891744e8835be09bf6f2c5e6@o4505477865996288.ingest.sentry.io/4505477935726592",environment:"frontend"});case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),wo=(Ki=null,Zi=null,function(){var e,t,n,r,a=Xl.routerService.location.pathname;return Ki!==a&&(e=Ql("id"),t=!1,n=!1,r=!1,e&&Xl.routerService.location.pathname.startsWith("/bid")&&(r=!0),e&&Xl.routerService.location.pathname.startsWith("/apartment")&&(n=!0),e&&Xl.routerService.location.pathname.startsWith("/contact")&&(t=!0),Zi={id:e||"unknown",isContact:t,isApartment:n,isBid:r},Ki=a),Zi}),So=["system_created_by","system_only_for_owner","system_allowance"],zo={system_created_by:null,system_only_for_owner:!1,system_allowance:[]},To=function(){var e=i(r().mark((function e(t,n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.databases.listDocuments(Na,t,[V.select([].concat(So)),V.equal("$id",n),V.limit(1),V.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}return e.abrupt("return",zo);case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();window.readOwnerMetadata=To;var Ao,Fo,Co,Vo,Mo,Lo,Io,Bo,jo,Do,Ro,qo,Po,Eo,No,Oo,Uo,Ho,Wo,$o,Go,Yo,Ko,Zo,Xo,Jo,Qo,eu,tu=p((function e(){s(this,e),d(this,"getMetadata",i(r().mark((function e(){var t,n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=wo(),n=t.id,a=t.isApartment,i=t.isBid,o=t.isContact,!i){e.next=5;break}return e.next=4,To(Za,n);case 4:case 8:case 12:return e.abrupt("return",e.sent);case 5:if(!a){e.next=9;break}return e.next=8,To(Ga,n);case 9:if(!o){e.next=13;break}return e.next=12,To(Ya,n);case 13:case"end":return e.stop()}}),e)})))),C(this,{})})),nu="databases.".concat(Na,".collections.").concat(ni,".documents"),ru=p((function e(){var t=this;s(this,e),d(this,"createSubject",new A),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"findAllByUserId",L(function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ni,[V.equal("user_id",n),V.orderDesc("$createdAt")]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),d(this,"findAllUnreadByUserId",L(function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ni,[V.equal("user_id",n),V.equal("is_read",[!1]),V.orderDesc("$createdAt")]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,ni,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.createDocument(Na,ni,t.appwriteService.createId(),u({is_read:!1},gi(n)));case 2:return a=e.sent,t.findAllByUserId.clear(),t.findAllUnreadByUserId.clear(),i=bi(a),t.createSubject.next(i),t.reloadSubject.next(),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,ni,n,u({is_read:!1},gi(a)));case 2:return i=e.sent,t.findAllByUserId.clear(),t.findAllUnreadByUserId.clear(),o=bi(i),t.updateSubject.next([n,o]),t.reloadSubject.next(),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,ni,n);case 2:t.findAllByUserId.clear(),t.findAllUnreadByUserId.clear(),t.reloadSubject.next();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(nu,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&(t.findAllByUserId.clear(),t.findAllUnreadByUserId.clear(),t.reloadSubject.next(),t.createSubject.next(r)),n.includes(di)&&(t.findAllByUserId.clear(),t.findAllUnreadByUserId.clear(),t.reloadSubject.next()),n.includes(ci)){t.findAllByUserId.clear(),t.findAllUnreadByUserId.clear();var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),au=p((function e(){var t=this;s(this,e),d(this,"notifyDbService",F(Ti.notifyDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"createSubject",this.notifyDbService.createSubject),d(this,"reloadSubject",this.notifyDbService.reloadSubject),d(this,"updateSubject",this.notifyDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService create",n),e.next=3,t.notifyDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByUserId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService findAllByUserId"),e.next=3,t.notifyDbService.findAllByUserId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllUnreadByUserId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService findAllUnreadByUserId"),e.next=3,t.notifyDbService.findAllUnreadByUserId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"toggleReadAllByUserId",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService toggleReadAllByUserId"),e.next=3,t.notifyDbService.findAllUnreadByUserId(n);case 3:return a=e.sent,e.next=6,Promise.all(a.map(function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.$id,t.notifyDbService.update(a,{is_read:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService update",a),e.next=3,t.notifyDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService remove",{id:n}),e.next=3,t.notifyDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService read",{id:n}),e.next=3,t.notifyDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("roleViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),C(this,{})})),iu=ee(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(Za,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ou=ee(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(Ya,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),uu=ee(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,To(Ga,t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),lu=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"featureService",F(Ti.featureService)),d(this,"routerService",F(Ti.routerService)),d(this,"dealViewService",F(Ti.dealViewService)),d(this,"hasReassignDelayFlagByApartmentId",function(){var e=i(r().mark((function e(n){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=i(r().mark((function e(){var a,i,o,u,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Qa,[V.limit(1),V.select(["$id"]),V.equal("apartment_id",n),V.notEqual("type","deal-status"),V.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}return e.abrupt("return",!0);case 8:if("deal-end"!==u.type){e.next=10;break}return e.abrupt("return",!0);case 10:return s=Wi(),e.abrupt("return",s-Wi(h(u.$createdAt))>3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,te(ne(t.featureService.hasFeature("zaderzhka_perenaznacheniya_otvetstvennogo")),a());case 3:return o=e.sent,e.abrupt("return",ne(o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"hasReassignDelayFlagByBidId",function(){var e=i(r().mark((function e(n){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=i(r().mark((function e(){var a,i,o,u,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Qa,[V.limit(1),V.select(["$id"]),V.equal("bid_id",n),V.notEqual("type","deal-status"),V.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}return e.abrupt("return",!0);case 8:if("deal-end"!==u.type){e.next=10;break}return e.abrupt("return",!0);case 10:return s=Wi(),e.abrupt("return",s-Wi(h(u.$createdAt))>3);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,te(ne(t.featureService.hasFeature("zaderzhka_perenaznacheniya_otvetstvennogo")),a());case 3:return o=e.sent,e.abrupt("return",ne(o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getOwnerContactPermissionByApartmentId",(function(e){var n,a=t.appwriteService.currentUser.$id,o=ee(i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,To(Ga,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),u=function(){var e=i(r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return t=e.sent,n=t.system_created_by,i=t.system_only_for_owner,e.abrupt("return",!i||n===a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var n=i(r().mark((function n(){var i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.dealViewService.findOccupiedByApartmentId(e);case 2:return i=n.sent,n.abrupt("return",!i||i.user_id===a);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=i(r().mark((function n(){var i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.dealViewService.findOccupiedByTargetApartmentId(e);case 2:return i=n.sent,n.abrupt("return",!i||i.user_id===a);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return te(t.featureService.hasFeature("vizhu_kontakty_pod_bronyu"),re((n=function(){var e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return t=e.sent,n=t.system_created_by,e.abrupt("return",n===a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te(ne(t.featureService.hasFeature("ne_vizhu_nomera_telefonov_chuzhih_kontaktov")),n())),u(),l(),s()))})),d(this,"getOwnerContactPermissionByBidId",(function(e){var n,a=t.appwriteService.currentUser.$id,o=ee(i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,To(Za,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),u=function(){var e=i(r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return t=e.sent,n=t.system_created_by,i=t.system_only_for_owner,e.abrupt("return",!i||n===a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var n=i(r().mark((function n(){var i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.dealViewService.findOccupiedByBidId(e);case 2:return i=n.sent,n.abrupt("return",!i||i.user_id===a);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=i(r().mark((function n(){var i;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.dealViewService.findOccupiedByTagetBidId(e);case 2:return i=n.sent,n.abrupt("return",!i||i.user_id===a);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return te(t.featureService.hasFeature("vizhu_kontakty_pod_bronyu"),re((n=function(){var e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return t=e.sent,n=t.system_created_by,e.abrupt("return",n===a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te(ne(t.featureService.hasFeature("ne_vizhu_nomera_telefonov_chuzhih_kontaktov")),n())),u(),l(),s()))})),d(this,"getOwnerContactPermissionByContactId",(function(e){var n,a=t.appwriteService.currentUser.$id,o=ee(i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,To(Ya,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))),u=function(){var e=i(r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return t=e.sent,n=t.system_created_by,i=t.system_only_for_owner,e.abrupt("return",!i||n===a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return re((n=function(){var e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o();case 2:return t=e.sent,n=t.system_created_by,e.abrupt("return",n===a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te(ne(t.featureService.hasFeature("ne_vizhu_nomera_telefonov_chuzhih_kontaktov")),n())),u())})),d(this,"hasInternOwnerContactPermission",ee(i(r().mark((function e(){var n,a,i,o,u,l,s,c,p,d,m,f,y,h,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=wo(),a=n.id,i=n.isApartment,o=n.isBid,u=n.isContact,e.next=3,t.featureService.hasFeature("ne_vizhu_nomera_telefonov_chuzhih_kontaktov");case 3:if(l=e.sent,s=!1,c=!1,p=!1,!l){e.next=26;break}if(!o){e.next=14;break}return e.next=11,iu(a);case 11:d=e.sent,m=d.system_created_by,p=t.appwriteService.currentUser.$id===m;case 14:if(!i){e.next=20;break}return e.next=17,uu(a);case 17:f=e.sent,y=f.system_created_by,c=t.appwriteService.currentUser.$id===y;case 20:if(!u){e.next=26;break}return e.next=23,ou(a);case 23:h=e.sent,v=h.system_created_by,s=t.appwriteService.currentUser.$id===v;case 26:return e.abrupt("return",te(!l,s,c,p));case 27:case"end":return e.stop()}}),e)}))))),d(this,"hasExclusiveOwnerContactPermission",ee(i(r().mark((function e(){var n,a,i,o,u,l,s,c,p,d,m,f,y,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=wo(),a=n.id,i=n.isApartment,o=n.isBid,u=n.isContact,l=!0,s=!0,c=!0,!i){e.next=11;break}return e.next=7,uu(a);case 7:p=e.sent,d=p.system_created_by,p.system_only_for_owner&&(l=d===t.appwriteService.currentUser.$id);case 11:if(!u){e.next=18;break}return e.next=14,ou(a);case 14:m=e.sent,f=m.system_created_by,m.system_only_for_owner&&(s=f===t.appwriteService.currentUser.$id);case 18:if(!o){e.next=25;break}return e.next=21,iu(a);case 21:y=e.sent,h=y.system_created_by,y.system_only_for_owner&&(c=h===t.appwriteService.currentUser.$id);case 25:return e.abrupt("return",re(l,s,c));case 26:case"end":return e.stop()}}),e)}))))),d(this,"hasOccupationOwnerContactPermission",ee(i(r().mark((function e(){var n,a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=wo(),a=n.id,i=n.isApartment,o=n.isBid,u=!0,l=!0,!i){e.next=8;break}return e.next=6,t.dealViewService.findOccupiedByApartmentId(a);case 6:(s=e.sent)&&(u=s.user_id===t.appwriteService.currentUser.$id);case 8:if(!o){e.next=13;break}return e.next=11,t.dealViewService.findOccupiedByBidId(a);case 11:(c=e.sent)&&(u=c.user_id===t.appwriteService.currentUser.$id);case 13:return e.abrupt("return",re(u,l));case 14:case"end":return e.stop()}}),e)}))))),d(this,"hasTargetOccupationOwnerContactPermission",ee(i(r().mark((function e(){var n,a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=wo(),a=n.id,i=n.isApartment,o=n.isBid,u=!0,l=!0,!i){e.next=8;break}return e.next=6,t.dealViewService.findOccupiedByTargetApartmentId(a);case 6:(s=e.sent)&&(u=s.user_id===t.appwriteService.currentUser.$id);case 8:if(!o){e.next=13;break}return e.next=11,t.dealViewService.findOccupiedByTagetBidId(a);case 11:(c=e.sent)&&(u=c.user_id===t.appwriteService.currentUser.$id);case 13:return e.abrupt("return",re(u,l));case 14:case"end":return e.stop()}}),e)}))))),d(this,"hasAllOwnerContactPermission",ee((function(){return te(t.featureService.hasFeature("vizhu_kontakty_pod_bronyu"),re(t.hasInternOwnerContactPermission(),t.hasExclusiveOwnerContactPermission(),t.hasOccupationOwnerContactPermission(),t.hasTargetOccupationOwnerContactPermission()))}))),C(this,{})})),su=p((function e(){var t=this;s(this,e),d(this,"featureService",F(Ti.featureService)),d(this,"routerService",F(Ti.routerService)),d(this,"permissionRequestService",F(Ti.permissionRequestService)),d(this,"previewModeService",F(Ti.previewModeService)),d(this,"hasContactNumberPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled(),t.permissionRequestService.hasAllOwnerContactPermission());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasContactEmailPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled(),t.permissionRequestService.hasAllOwnerContactPermission());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasApartmentHouseNumberPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasBidHouseNumberPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasResponsiblePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasOwnerPricePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasCommissionPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasMasterDetailPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasDescriptionPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasFioPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(t.previewModeService.hasPreviewModeDisabled());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"hasApartmentViewPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("prosmotr_obekta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasBidViewPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("prosmotr_zayavki");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasContactViewPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("prosmotr_kontakta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasApartmentCreatePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("sozdanie_obekta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasBidCreatePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("sozdanie_zayavki");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasContactCreatePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("sozdanie_kontakta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasApartmentUpdatePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("redaktirovanie_obekta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasBidUpdatePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("redaktirovanie_zayavki");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasContactUpdatePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("redaktirovanie_kontakta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasUsersUpdatePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("redaktirovanie_sotrudnika");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasSettingsCreateRolePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("sozdanie_roli");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasSettingsEditRolePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("redaktirovanie_roli");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasUsersViewPhoneAndEmailPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("prosmotr_nomera_telefona_i_email");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasUserServiceCommentMentionPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("upominanie_polzovatelya");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasUserServiceCommentAddingFilePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("dobavlenie_fajla");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasUsersAccessLevelsPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("nastrojka_urovnej_dostupa");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasSettingsEditPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("dostup_k_nastrojkam");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasManagerAllObjectsExclusivePermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("vse_obekty_eksklyuzivny");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasAdvertisingPublicationPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("publikacziya_reklamy");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"hasAdvertisingKategoryAddPermission",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=te,e.next=3,t.featureService.hasFeature("dobavlenie_kategorii_i_podkategorii");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),d(this,"getPermissions",i(r().mark((function e(){var n,a,i,o,u,l,s,c,p,d,m,f,y,h,v,b,_,g,k,x,w,S,z,T,A,F,C,V,M,L,I;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,a=!1,i=!1,o=!1,u=!1,l=!1,s=!1,c=!1,p=!1,d=!1,m=!1,f=!1,y=!1,h=!1,v=!1,b=!1,_=!1,g=!1,k=!1,x=!1,w=!1,S=!1,z=!1,T=!1,A=!1,F=!1,C=!1,V=!1,M=!1,L=!1,I=!1,e.next=33,Promise.all([t.previewModeService.hasPreviewModeDisabled().then((function(e){return n=e})),t.hasContactNumberPermission().then((function(e){return a=e})),t.hasContactEmailPermission().then((function(e){return i=e})),t.hasApartmentHouseNumberPermission().then((function(e){return o=e})),t.hasBidHouseNumberPermission().then((function(e){return u=e})),t.hasResponsiblePermission().then((function(e){return l=e})),t.hasOwnerPricePermission().then((function(e){return s=e})),t.hasCommissionPermission().then((function(e){return c=e})),t.hasMasterDetailPermission().then((function(e){return p=e})),t.hasDescriptionPermission().then((function(e){return d=e})),t.hasFioPermission().then((function(e){return m=e})),t.hasApartmentViewPermission().then((function(e){return f=e})),t.hasBidViewPermission().then((function(e){return y=e})),t.hasContactViewPermission().then((function(e){return h=e})),t.hasApartmentCreatePermission().then((function(e){return v=e})),t.hasBidCreatePermission().then((function(e){return b=e})),t.hasContactCreatePermission().then((function(e){return _=e})),t.hasApartmentUpdatePermission().then((function(e){return g=e})),t.hasBidUpdatePermission().then((function(e){return k=e})),t.hasContactUpdatePermission().then((function(e){return x=e})),t.hasUsersUpdatePermission().then((function(e){return w=e})),t.hasSettingsCreateRolePermission().then((function(e){return S=e})),t.hasSettingsEditRolePermission().then((function(e){return z=e})),t.hasUsersViewPhoneAndEmailPermission().then((function(e){return T=e})),t.hasUserServiceCommentMentionPermission().then((function(e){return A=e})),t.hasUserServiceCommentAddingFilePermission().then((function(e){return F=e})),t.hasUsersAccessLevelsPermission().then((function(e){return C=e})),t.hasSettingsEditPermission().then((function(e){return V=e})),t.hasManagerAllObjectsExclusivePermission().then((function(e){return M=e})),t.hasAdvertisingPublicationPermission().then((function(e){return L=e})),t.hasAdvertisingKategoryAddPermission().then((function(e){return I=e}))]);case 33:return e.abrupt("return",{hasPreviewModeDisabled:n,hasContactNumberPermission:a,hasContactEmailPermission:i,hasApartmentHouseNumberPermission:o,hasBidHouseNumberPermission:u,hasResponsiblePermission:l,hasOwnerPricePermission:s,hasCommissionPermission:c,hasMasterDetailPermission:p,hasDescriptionPermission:d,hasFioPermission:m,hasApartmentViewPermission:f,hasBidViewPermission:y,hasContactViewPermission:h,hasApartmentCreatePermission:v,hasBidCreatePermission:b,hasContactCreatePermission:_,hasApartmentUpdatePermission:g,hasBidUpdatePermission:k,hasContactUpdatePermission:x,hasUsersUpdatePermission:w,hasSettingsCreateRolePermission:S,hasSettingsEditRolePermission:z,hasUsersViewPhoneAndEmailPermission:T,hasUserServiceCommentMentionPermission:A,hasUserServiceCommentAddingFilePermission:F,hasUsersAccessLevelsPermission:C,hasSettingsEditPermission:V,hasManagerAllObjectsExclusivePermission:M,hasAdvertisingPublicationPermission:L,hasAdvertisingKategoryAddPermission:I});case 34:case"end":return e.stop()}}),e)})))),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getPermissions();case 2:case"end":return e.stop()}}),e)})))))})),cu=ae("REAL_ESTATE_PREVIEW_MODE"),pu=function(){function e(){var t=this;s(this,e),d(this,"togglePreviewMode",(function(){cu.setValue(!t.previewMode),U()})),d(this,"hasPreviewModeDisabled",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(!t.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),C(this,{})}return p(e,[{key:"previewMode",get:function(){return cu.getValue()||!1}}]),e}(),du=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"errorService",F(Ti.errorService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"subscribeAppwrite",(function(e,n){return t.loggerService.log("realtimeService appwrite event bus fallback"),t.appwriteService.client.subscribe(e,n)})),d(this,"subscribe",(function(e,n){return t.subscribeAppwrite(e,n)})),C(this,{})})),mu="databases.".concat(Na,".collections.").concat(ti,".documents"),fu=p((function e(){var t=this;s(this,e),d(this,"createSubject",new A),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"findById",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findAll();case 2:if(a=e.sent,i=a.find((function(e){return e.id===n}))){e.next=6;break}throw new Error("roleDbService findById user not found");case 6:return e.abrupt("return",bi(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAll",L(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ti,[V.orderDesc("$createdAt")]);case 2:return n=e.sent,a=n.documents,e.abrupt("return",_i(a));case 5:case"end":return e.stop()}}),e)}))))),d(this,"create",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.createDocument(Na,ti,t.appwriteService.createId(),gi(n));case 2:return a=e.sent,t.findAll.clear(),i=bi(a),t.createSubject.next(i),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,ti,n,gi(a));case 2:return i=e.sent,t.findAll.clear(),o=bi(i),t.updateSubject.next([n,o]),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,ti,n);case 2:t.findAll.clear(),t.reloadSubject.next();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(mu,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&(t.findAll.clear(),t.reloadSubject.next(),t.createSubject.next(r)),n.includes(di)&&(t.findAll.clear(),t.reloadSubject.next()),n.includes(ci)){t.findAll.clear();var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),yu=p((function e(){var t=this;s(this,e),d(this,"roleDbService",F(Ti.roleDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"createSubject",this.roleDbService.createSubject),d(this,"reloadSubject",this.roleDbService.reloadSubject),d(this,"updateSubject",this.roleDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService create",n),e.next=3,t.roleDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAll",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService findAll"),e.next=3,t.roleDbService.findAll();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService update",a),e.next=3,t.roleDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService remove",{id:n}),e.next=3,t.roleDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("roleViewService read",{id:n}),e.next=3,t.roleDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("roleViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),C(this,{})})),hu=ie(),vu=function(){function e(){var t=this;s(this,e),d(this,"previousPath","/"),d(this,"location",hu.location),d(this,"action",hu.action),d(this,"hasViewRedirectFlag",(function(){return!!t.locationState.viewRedirectFlag})),d(this,"updateState",(function(){var e,n=hu.location,r=hu.action;t.previousPath=(null===(e=t.location)||void 0===e?void 0:e.pathname)||"/",t.location=n,t.action=r})),d(this,"createHref",(function(e){var n=hu.createHref(e);return t.updateState(),n})),d(this,"push",(function(e,n){var r=hu.push(e,n);return t.updateState(),r})),d(this,"replace",(function(e,n){var r=hu.replace(e,n);return t.updateState(),r})),d(this,"go",(function(e){var n=hu.go(e);return t.updateState(),n})),d(this,"back",(function(){var e=hu.back();return t.updateState(),e})),d(this,"forward",(function(){var e=hu.forward();return t.updateState(),e})),d(this,"listen",(function(e){var n=hu.listen(e);return t.updateState(),n})),d(this,"block",(function(e){var n=hu.block(e);return t.updateState(),n})),S(this)}return p(e,[{key:"locationState",get:function(){return this.location.state?Y(this.location.state):{}}}]),e}(),bu="databases.".concat(Na,".collections.").concat(ei,".documents"),_u=p((function e(){var t=this;s(this,e),d(this,"createSubject",new A),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,ei,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.createDocument(Na,ei,t.appwriteService.createId(),gi(n));case 2:return a=e.sent,i=bi(a),t.createSubject.next(i),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,ei,n,gi(a));case 2:return i=e.sent,e.abrupt("return",bi(i));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,ei,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByApartmentId",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ei,[V.orderDesc("$createdAt"),V.equal("apartment_id",n)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByBidId",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ei,[V.orderDesc("$createdAt"),V.equal("bid_id",n)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(bu,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&(t.reloadSubject.next(),t.createSubject.next(r)),n.includes(di)&&t.reloadSubject.next(),n.includes(ci)){var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),gu=p((function e(){var t=this;s(this,e),d(this,"serviceCommentDbService",F(Ti.serviceCommentDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"createSubject",this.serviceCommentDbService.createSubject),d(this,"reloadSubject",this.serviceCommentDbService.reloadSubject),d(this,"updateSubject",this.serviceCommentDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("serviceCommentViewService create",n),e.next=3,t.serviceCommentDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("serviceCommentViewService update",a),e.next=3,t.serviceCommentDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("serviceCommentViewService remove",{id:n}),e.next=3,t.serviceCommentDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("serviceCommentViewService read",{id:n}),e.next=3,t.serviceCommentDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByApartmentId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("serviceCommentViewService findAllByApartmentId"),n){e.next=3;break}throw new Error("serviceCommentViewService findAllByApartmentId id is null");case 3:return e.next=5,t.serviceCommentDbService.findAllByApartmentId(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByBidId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("serviceCommentViewService findByBidId"),n){e.next=3;break}throw new Error("serviceCommentViewService findByBidId id is null");case 3:return e.next=5,t.serviceCommentDbService.findByBidId(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("serviceCommentViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),C(this,{})})),ku={usd_eur:"0.9",usd_uzs:"1000",watermark_file_id:null,masterdetail_mode:[W.Paper]},xu="settings",wu="databases.".concat(Na,".collections.").concat(Wa,".documents"),Su=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"updateSubject",new A),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"create",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.createDocument(Na,Wa,xu,ku);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),d(this,"read",L(i(r().mark((function e(){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,Wa,xu);case 2:return n=e.sent,e.abrupt("return",u(u({},ku),bi(n)));case 4:case"end":return e.stop()}}),e)}))))),d(this,"update",K(function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(1e3);case 2:return e.next=4,t.appwriteService.databases.updateDocument(Na,Wa,xu,u(u({},ku),gi(n)));case 4:return a=e.sent,i=bi(a),t.updateSubject.next([null,i]),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,xu,n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(wu,(function(e){var n=e.payload;t.read.clear();var r=bi(n);t.updateSubject.next([null,r])}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),zu=p((function e(){var t=this;s(this,e),d(this,"settingsDbService",F(Ti.settingsDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"updateSubject",this.settingsDbService.updateSubject),d(this,"getExchangeRate",function(){var e=i(r().mark((function e(n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getValue();case 2:if(a=e.sent,i=a.usd_eur,o=a.usd_uzs,"usd_eur"!==n||isNaN(i)){e.next=7;break}return e.abrupt("return",parseFloat(i));case 7:if("usd_uzs"!==n||isNaN(o)){e.next=9;break}return e.abrupt("return",parseFloat(o));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getMasterDetailMode",i(r().mark((function e(){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getValue();case 2:if(n=e.sent,a=n.masterdetail_mode,(i=null!=a&&a.length?a[0]:null)!==W.Tabs){e.next=7;break}return e.abrupt("return",W.Tabs);case 7:if(i!==W.Paper){e.next=9;break}return e.abrupt("return",W.Paper);case 9:return e.abrupt("return",W.Paper);case 10:case"end":return e.stop()}}),e)})))),d(this,"getValue",ee(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("settingsViewService getValue"),e.prev=1,e.next=4,t.settingsDbService.read();case 4:case 11:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,t.settingsDbService.create();case 12:case"end":return e.stop()}}),e,null,[[1,7]])}))))),d(this,"setValue",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("settingsViewService setValue",n),e.next=3,t.settingsDbService.update(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C(this,{})})),Tu=["Просрочено","Новые задачи","На сегодня","На завтра","На следующую неделю","Выполненные задачи"],Au={"На завтра":Wi()+1,"На сегодня":Wi(),"На следующую неделю":Wi()+7,"Просрочено":Wi()-1},Fu=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t){e.next=2;break}return e.abrupt("return","Новые задачи");case 2:if(!(t<=Au["Просрочено"])){e.next=4;break}return e.abrupt("return","Просрочено");case 4:if(t!==Au["На сегодня"]){e.next=6;break}return e.abrupt("return","На сегодня");case 6:if(t!==Au["На завтра"]){e.next=8;break}return e.abrupt("return","На завтра");case 8:if(!(t>Au["На завтра"]&&t<=Au["На следующую неделю"])){e.next=10;break}return e.abrupt("return","На следующую неделю");case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cu=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.is_complete){e.next=2;break}return e.abrupt("return","Выполненные задачи");case 2:return e.next=4,Fu(t.moment_stamp);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vu="databases.".concat(Na,".collections.").concat(Ja,".documents"),Mu=p((function e(){var t=this;s(this,e),d(this,"reloadSubject",new A),d(this,"createSubject",new A),d(this,"removeSubject",new A),d(this,"updateSubject",new A),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"createIndex",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ja,[V.limit(1),V.select(["index"])]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,Ja,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByTaskStatus",function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],"Просрочено"!==t){e.next=5;break}return e.next=4,to(eo(Ja,[V.lessThanEqual("moment_stamp",Au.Просрочено)],{totalDocumentsLimit:250}));case 4:n=e.sent;case 5:if("На сегодня"!==t){e.next=9;break}return e.next=8,to(eo(Ja,[V.equal("moment_stamp",Au["На сегодня"])],{totalDocumentsLimit:250}));case 8:n=e.sent;case 9:if("На завтра"!==t){e.next=13;break}return e.next=12,to(eo(Ja,[V.equal("moment_stamp",Au["На завтра"])],{totalDocumentsLimit:250}));case 12:n=e.sent;case 13:if("На следующую неделю"!==t){e.next=17;break}return e.next=16,to(eo(Ja,[V.greaterThan("moment_stamp",Au["На завтра"]),V.lessThanEqual("moment_stamp",Au["На следующую неделю"])],{totalDocumentsLimit:250}));case 16:n=e.sent;case 17:if("Новые задачи"!==t){e.next=21;break}return e.next=20,to(eo(Ja,[V.isNull("moment_stamp"),V.equal("is_complete",!1)],{totalDocumentsLimit:250}));case 20:n=e.sent;case 21:if("Выполненные задачи"!==t){e.next=25;break}return e.next=24,to(eo(Ja,[V.equal("is_complete",!0)],{totalDocumentsLimit:250}));case 24:n=e.sent;case 25:return e.abrupt("return",_i(n));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.appwriteService.databases,e.t1=Na,e.t2=Ja,e.t3=t.appwriteService.createId(),e.t4=u,e.t5=u({is_complete:!1},gi(n)),e.t6={},e.next=9,t.createIndex();case 9:return e.t7=e.sent,e.t8={index:e.t7},e.t9=(0,e.t4)(e.t5,e.t6,e.t8),e.next=14,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t9);case 14:return a=e.sent,i=bi(a),t.createSubject.next(i),e.abrupt("return",i);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,Ja,n,u({},gi(a)));case 2:return i=e.sent,o=bi(i),t.updateSubject.next([n,o]),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,Ja,n);case 2:t.removeSubject.next(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L((function(){var e=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(Vu,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)){var a=bi(r);t.reloadSubject.next(),t.createSubject.next(a)}if(n.includes(di)&&(t.reloadSubject.next(),t.removeSubject.next(r.$id)),n.includes(ci)){var i=bi(r);t.updateSubject.next([r.$id,i])}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}))),C(this,{})})),Lu="databases.".concat(Na,".collections.").concat(ri,".documents"),Iu=p((function e(){var t=this;s(this,e),d(this,"createSubject",new A),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,ri,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.createDocument(Na,ri,t.appwriteService.createId(),gi(n));case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,ri,n,gi(a));case 2:return i=e.sent,e.abrupt("return",bi(i));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,ri,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByContactId",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ri,[V.orderDesc("$createdAt"),V.equal("contact_id",n)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByTaskId",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ri,[V.orderDesc("$createdAt"),V.equal("task_id",n)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByUserId",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ri,[V.orderDesc("$createdAt"),V.equal("user_id",n)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",_i(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(Lu,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&(t.reloadSubject.next(),t.createSubject.next(r)),n.includes(di)&&t.reloadSubject.next(),n.includes(ci)){var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),Bu=p((function e(){var t=this;s(this,e),d(this,"taskHistoryViewService",F(Ti.taskHistoryViewService)),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"contactViewService",F(Ti.contactViewService)),d(this,"userViewService",F(Ti.userViewService)),d(this,"todoTaskCommit",function(){var e=i(r().mark((function e(n,a,i,o,u){var l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.appwriteService.currentUser.$id,s=null===a?"создал задачу":"перенес задачу (<text-underline>".concat(a,"</text-underline> -> <text-underline>").concat(i,"</text-underline>)"),c=["Сотрудник ".concat(s),u?"Задача: ".concat(u):null,"Комментарий: ".concat(o)].filter((function(e){return e})).join("\n"),e.next=5,t.taskHistoryViewService.create({user_id:l,task_id:n,contact_id:null,comment:c});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),d(this,"clientTaskCommit",function(){var e=i(r().mark((function e(n,a,i,o,u,l){var s,c,p,d,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.appwriteService.currentUser.$id,e.next=3,t.contactViewService.read(a);case 3:return c=e.sent,p=c.fio,d=null===i?"создал задачу":"перенес задачу (<text-underline>".concat(i,"</text-underline> -> <text-underline>").concat(o,"</text-underline>)"),m=["Сотрудник ".concat(d),"Контакт: ".concat(p),l?"Задача: ".concat(l):null,"Комментарий: ".concat(u)].filter((function(e){return e})).join("\n"),e.next=9,t.taskHistoryViewService.create({user_id:s,task_id:n,contact_id:a,comment:m});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),C(this,{})})),ju=p((function e(){var t=this;s(this,e),d(this,"taskHistoryDbService",F(Ti.taskHistoryDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"createSubject",this.taskHistoryDbService.createSubject),d(this,"reloadSubject",this.taskHistoryDbService.reloadSubject),d(this,"updateSubject",this.taskHistoryDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskHistoryViewService create",n),e.next=3,t.taskHistoryDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskHistoryViewService update",a),e.next=3,t.taskHistoryDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskHistoryViewService remove",{id:n}),e.next=3,t.taskHistoryDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskHistoryViewService read",{id:n}),e.next=3,t.taskHistoryDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByContactId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskHistoryViewService findAllByContactId"),e.next=3,t.taskHistoryDbService.findAllByContactId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByTaskId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskHistoryViewService findAllByTaskId"),e.next=3,t.taskHistoryDbService.findAllByTaskId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAllByUserId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskHistoryViewService findAllByTaskId"),e.next=3,t.taskHistoryDbService.findAllByUserId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("taskHistoryViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),C(this,{})})),Du="Wrong or invalid email!",Ru="Your password is incorrect !",qu="The user was not found !",Pu="Unexpected error, please try again later.",Eu=function(e){return"auth/user-not-found"===e.code?qu:"auth/wrong-password"===e.code?Ru:"auth/invalid-email"===e.code?Du:oe(e)||Pu},Nu=p((function e(){var t=this;s(this,e),d(this,"taskHistoryRequestService",F(Ti.taskHistoryRequestService)),d(this,"taskViewService",F(Ti.taskViewService)),d(this,"userViewService",F(Ti.userViewService)),d(this,"contactViewService",F(Ti.contactViewService)),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"notifyViewService",F(Ti.notifyViewService)),d(this,"tryCommitTodoTask",function(){var e=i(r().mark((function e(n,a,i,o,u){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.taskHistoryRequestService.todoTaskCommit(n,a,i,o,u);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(Eu(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),d(this,"tryCommitClientTask",function(){var e=i(r().mark((function e(n,a,i,o,u){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.taskHistoryRequestService.clientTaskCommit(n,a,i,o,u);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(Eu(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),d(this,"createTodoTask",function(){var e=i(r().mark((function e(n,a,i,o,u){var l,s,c,p,d,m,f,y,h,v,b,_,g,k;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=t.appwriteService.currentUser.$id,e.next=3,t.userViewService.read(l);case 3:return p=e.sent,d=p.first_name,m=p.last_name,f=p.middle_name,s=[m,d,f].filter((function(e){return e})).join(" "),e.next=10,t.userViewService.read(n);case 10:return y=e.sent,h=y.first_name,v=y.last_name,b=y.middle_name,c=[v,h,b].filter((function(e){return e})).join(" "),e.next=17,t.taskViewService.create({from_user_id:l,to_user_id:n,contact_id:null,moment_stamp:a,time_stamp:i,type:"Внутренняя",is_call:!1,is_meet:!1,from_user_fio:s,to_user_fio:c,contact_fio:"",title:o});case 17:return _=e.sent,g=_.id,e.next=21,Fu(a);case 21:return k=e.sent,e.next=24,Promise.all([t.tryCommitTodoTask(g,null,k||"Новые задачи",u,o),t.notifyViewService.create({title:"На вас назначена внутренняя задача",url:"/task",user_id:n})]);case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),d(this,"createClientTask",function(){var e=i(r().mark((function e(n,a,i,o,u,l,s,c){var p,d,m,f,y,h,v,b,_,g,k,x,w,S,z,T,A;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=t.appwriteService.currentUser.$id,e.next=3,t.userViewService.read(p);case 3:return y=e.sent,h=y.first_name,v=y.last_name,b=y.middle_name,d=[v,h,b].filter((function(e){return e})).join(" "),e.next=10,t.userViewService.read(n);case 10:return _=e.sent,g=_.first_name,k=_.last_name,x=_.middle_name,m=[k,g,x].filter((function(e){return e})).join(" "),e.next=17,t.contactViewService.read(a);case 17:return w=e.sent,S=w.fio,f=S,e.next=22,t.taskViewService.create({from_user_id:p,to_user_id:n,contact_id:a,moment_stamp:i,time_stamp:o,is_call:l,is_meet:s,type:"Клиент",from_user_fio:d,to_user_fio:m,contact_fio:f,title:u});case 22:return z=e.sent,T=z.id,e.next=26,Fu(i);case 26:return A=e.sent,e.next=29,Promise.all([t.tryCommitClientTask(T,a,null,A||"Новые задачи",c),t.notifyViewService.create({title:"На вас назначена задача по клиенту",url:"/task",user_id:n})]);case 29:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,u,l){return e.apply(this,arguments)}}()),d(this,"updateTodoTask",function(){var e=i(r().mark((function e(n,a,i,o,u,l,s,c){var p,d,m,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p=t.appwriteService.currentUser.$id,e.next=3,t.taskViewService.update(n,{from_user_id:p,to_user_id:a,contact_id:null,moment_stamp:o,time_stamp:u,is_complete:l,is_call:!1,is_meet:!1,type:"Внутренняя",title:s});case 3:return d=e.sent,m=d.id,e.next=7,Fu(o);case 7:return f=e.sent,e.next=10,t.tryCommitTodoTask(m,i,f||(l?"Выполненные задачи":"Новые задачи"),c,s);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,u,l){return e.apply(this,arguments)}}()),d(this,"updateClientTask",function(){var e=i(r().mark((function e(n,a,i,o,u,l,s,c,p,d,m){var f,y,h,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=t.appwriteService.currentUser.$id,e.next=3,t.taskViewService.update(n,{from_user_id:f,to_user_id:a,contact_id:o,moment_stamp:u,time_stamp:l,is_complete:s,is_meet:p,is_call:c,type:"Клиент",title:d});case 3:return y=e.sent,h=y.id,e.next=7,Fu(u);case 7:return v=e.sent,e.next=10,t.tryCommitClientTask(h,o,i,v||(s?"Выполненные задачи":"Новые задачи"),m);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,u,l,s,c,p){return e.apply(this,arguments)}}()),C(this,{})})),Ou=p((function e(){var t=this;s(this,e),d(this,"taskDbService",F(Ti.taskDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"reloadSubject",this.taskDbService.reloadSubject),d(this,"createSubject",this.taskDbService.createSubject),d(this,"removeSubject",this.taskDbService.removeSubject),d(this,"updateSubject",this.taskDbService.updateSubject),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskViewService create",n),e.next=3,t.taskDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskViewService update",a),e.next=3,t.taskDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskViewService remove",{id:n}),e.next=3,t.taskDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskViewService read",{id:n}),e.next=3,t.taskDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("taskViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByTaskStatus",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("taskViewService findByTaskStatus"),e.next=3,t.taskDbService.findByTaskStatus(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),C(this,{})})),Uu="databases.".concat(Na,".collections.").concat(Ha,".documents"),Hu=p((function e(){var t=this;s(this,e),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"getMetadata",(function(e){var t=[];return t.push(e.middle_name),t.push(e.last_name),t.push(e.first_name),t.push(e.email),t.push(e.phone),t.join(" ").slice(0,mi)})),d(this,"createIndex",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ya,[V.limit(1),V.select(["index"])]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),d(this,"findById",function(){var e=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.findAll();case 2:if(a=e.sent,i=a.find((function(e){return e.id===n}))){e.next=6;break}throw new Error("userDbService findById user not found");case 6:return e.abrupt("return",bi(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAll",L(i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(eo(Ha));case 2:return t=e.sent,e.abrupt("return",_i(t));case 4:case"end":return e.stop()}}),e)}))))),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.appwriteService.databases,e.t1=Na,e.t2=Ha,e.t3=n,e.t4=u,e.t5=u({},gi(a)),e.t6={},e.next=9,t.getMetadata(a);case 9:return e.t7=e.sent,e.t8={system_metadata:e.t7},e.t9=(0,e.t4)(e.t5,e.t6,e.t8),e.next=14,e.t0.updateDocument.call(e.t0,e.t1,e.t2,e.t3,e.t9);case 14:return i=e.sent,t.findAll.clear(),o=bi(i),t.updateSubject.next([n,o]),e.abrupt("return",o);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.findAll.clear(),e.next=3,t.appwriteService.databases.deleteDocument(Na,Ha,n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(Uu,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&(t.findAll.clear(),t.reloadSubject.next()),n.includes(di)&&(t.findAll.clear(),t.reloadSubject.next()),n.includes(ci)){t.findAll.clear();var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),Wu=p((function e(){var t=this;s(this,e),d(this,"userDbService",F(Ti.userDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"reloadSubject",this.userDbService.reloadSubject),d(this,"updateSubject",this.userDbService.updateSubject),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("userViewService update",a),e.next=3,t.userDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("userViewService remove",{id:n}),e.next=3,t.userDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("userViewService read",{id:n}),e.next=3,t.userDbService.findById(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("userViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"findAll",i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("userViewService findAll"),e.next=3,t.userDbService.findAll();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),C(this,{})})),$u=p((function e(){var t=this;s(this,e),d(this,"suggest",function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ymaps.suggest(t);case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return e.value})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"geocode",function(){var e=i(r().mark((function e(t){var n,a,i,o,u,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ymaps.geocode(t);case 2:if(n=e.sent,!(a=n.geoObjects.get(0))){e.next=7;break}return i=a.geometry.getCoordinates(),o=l(i,2),u=o[0],s=o[1],e.abrupt("return",{lat:u,lon:s});case 7:return e.abrupt("return",{lat:null,lon:null});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"openAddress",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.geocode(n);case 2:a=e.sent,i=a.lat,o=a.lon,i&&o&&((u=new URL("https://maps.yandex.com")).searchParams.set("ll","".concat(o,", ").concat(i)),u.searchParams.set("text",n),u.searchParams.set("z","16"),ue(u.toString()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getAddressString",function(){var e=i(r().mark((function e(t){var n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,a=t.lon,i=[n,a],e.next=4,ymaps.geocode(i);case 4:return o=e.sent,u=o.geoObjects.get(0),e.abrupt("return",u.getAddressLine());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getAddress",function(){var e=i(r().mark((function e(t){var n,a,i,o,u,l,s,c,p,d,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,a=t.lon,i=[n,a],e.next=4,ymaps.geocode(i);case 4:return o=e.sent,u=o.geoObjects.get(0),l=u.getAdministrativeAreas()||"",s=u.getPremise()||"",c=u.getLocalities()||"",p=u.getThoroughfare()||"",d=u.getCountry()||"",m=u.getPremiseNumber()||"",Array.isArray(c)&&(c=c[1]||""),Array.isArray(p)&&(p=p[0]||""),Array.isArray(s)&&(s=s[0]||""),Array.isArray(l)&&(l=l[0]||""),Array.isArray(d)&&(d=d[0]||""),Array.isArray(m)&&(m=m[0]||""),e.abrupt("return",{strana:d.toString(),gorod:l.toString(),nomer_doma:m.toString(),rajon:c.toString(),ulicza:p.toString(),metro:null,mahallya:s.toString()});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"drawMap",(function(e,n){var a=n.address,o=n.change,u=null,l=null;console.log({address:a});var s=function(){var n=i(r().mark((function n(){var s,c,p,d;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!a){n.next=6;break}return n.next=3,t.geocode(a);case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0={lat:null,lon:null};case 7:if(s=n.t0,!(s.lat&&s.lon)){n.next=15;break}u=new ymaps.Map(e,{center:[s.lat,s.lon],zoom:9}),l=new ymaps.Placemark([s.lat,s.lon],{iconCaption:a},{preset:"islands#violetDotIconWithCaption",draggable:!0}),u.geoObjects.add(l),n.next=21;break;case 15:return n.next=17,t.geocode("Ташкент, Узбекистан");case 17:c=n.sent,p=c.lat,d=c.lon,u=new ymaps.Map(e,{center:[p,d],zoom:10});case 21:u.events.add("click",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.get("coords"),l||(l=new ymaps.Placemark(a,{iconCaption:"поиск..."},{preset:"islands#violetDotIconWithCaption",draggable:!0}),u&&u.geoObjects.add(l)),l.geometry.setCoordinates(a),l.properties.set({iconCaption:"поиск..."}),e.t0=l.properties,e.next=7,t.getAddressString({lat:a[0],lon:a[1]});case 7:e.t1=e.sent,e.t2={iconCaption:e.t1},e.t0.set.call(e.t0,e.t2),o({lat:a[0],lon:a[1]});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 22:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return s(),function(){var e;null===(e=u)||void 0===e||e.destroy(),u=null}})),d(this,"prefetch",L(i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new URL("2.1","https://api-maps.yandex.ru")).searchParams.set("apikey","03219f2d-b9b3-4850-98ea-9db0670d8a6b"),t.searchParams.set("lang","ru"),t.searchParams.set("load","SuggestView,suggest,geocode,Map,Placemark"),e.next=6,le(t.toString());case 6:return e.next=8,ymaps.ready();case 8:case"end":return e.stop()}}),e)}))))),C(this,{})})),Gu=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"getAllApartmentCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ga,[V.select(["$id"]),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getRentApartmentCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ga,[V.select(["$id"]),V.equal("system_is_rent",!0),V.equal("system_is_archive",!1),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getSellApartmentCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ga,[V.select(["$id"]),V.equal("system_is_sell",!0),V.equal("system_is_archive",!1),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getArchiveApartmentCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ga,[V.select(["$id"]),V.equal("system_is_archive",!0),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getNewApartmentCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Ga,[V.select(["$id"]),V.equal("system_is_rent",!1),V.equal("system_is_sell",!1),V.equal("system_is_archive",!1),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getTotalDealCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.select(["$id"]),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getMyDealCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.select(["$id"]),V.equal("user_id",t.appwriteService.currentUser.$id),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getNewDealCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.select(["$id"]),V.equal("status","Новая сделка"),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getArchiveDealCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Xa,[V.select(["$id"]),V.equal("status",["Закрытая сделка","Сделка сорвана"]),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),C(this,{})})),Yu="databases.".concat(Na,".collections.").concat(ai,".documents"),Ku=p((function e(){var t=this;s(this,e),d(this,"reloadSubject",new A),d(this,"updateSubject",new A),d(this,"featureService",F(Ti.featureService)),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"permissionService",F(Ti.permissionService)),d(this,"realtimeService",F(Ti.realtimeService)),d(this,"createIndex",i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ai,[V.limit(1),V.select(["index"])]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),d(this,"getIdByApartment",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ai,[V.equal("apartment_id",n),V.select(["$id"]),V.limit(1)]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}throw new Error("advertisingDbService getIdByApartment document not found");case 8:return e.abrupt("return",u.$id);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findById",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.getDocument(Na,ai,n);case 2:return a=e.sent,e.abrupt("return",bi(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"findByApartmentId",function(){var e=i(r().mark((function e(n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,ai,[V.equal("apartment_id",n),V.limit(1)]);case 2:if(a=e.sent,i=l(a.documents,1),o=i[0],u=void 0===o?null:o){e.next=8;break}throw new Error("advertisingDbService findByApartmentId document not found");case 8:return e.abrupt("return",bi(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t.appwriteService.databases,e.t1=Na,e.t2=ai,e.t3=t.appwriteService.createId(),e.t4=u,e.t5=u({},gi(n)),e.t6={},e.t7=t.appwriteService.currentUser.$id,e.next=10,t.createIndex();case 10:return e.t8=e.sent,e.t9={system_created_by:e.t7,index:e.t8},e.t10=(0,e.t4)(e.t5,e.t6,e.t9),e.next=15,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t10);case 15:return a=e.sent,e.abrupt("return",bi(a));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){var i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.updateDocument(Na,ai,n,u({},gi(a)));case 2:return i=e.sent,o=bi(i),t.updateSubject.next([n,o]),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.deleteDocument(Na,ai,n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"prefetch",L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.realtimeService.subscribe(Yu,(function(e){var n=e.events,r=e.payload;if(n.includes(pi)&&t.reloadSubject.next(),n.includes(di)&&t.reloadSubject.next(),n.includes(ci)){var a=bi(r);t.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),C(this,{})})),Zu=p((function e(){var t=this;s(this,e),d(this,"advertisingDbService",F(Ti.advertisingDbService)),d(this,"loggerService",F(Ti.loggerService)),d(this,"reloadSubject",this.advertisingDbService.reloadSubject),d(this,"updateSubject",this.advertisingDbService.updateSubject),d(this,"findByApartmentId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("advertisingViewService findByApartmentId"),e.next=3,t.advertisingDbService.findByApartmentId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"create",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("advertisingViewService create",n),e.next=3,t.advertisingDbService.create(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"update",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("advertisingViewService update",a),e.next=3,t.advertisingDbService.update(n,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),d(this,"remove",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("advertisingViewService remove",{id:n}),e.next=3,t.advertisingDbService.remove(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"read",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("advertisingViewService read",{id:n}),e.next=3,t.advertisingDbService.findById(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"getIdByApartment",function(){var e=i(r().mark((function e(n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loggerService.log("advertisingViewService getIdByApartment",{apartmentId:n}),e.next=3,t.advertisingDbService.getIdByApartment(n);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryRead",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("advertisingViewService tryRead",{id:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.read(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),d(this,"tryReadByApartmentId",function(){var e=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loggerService.log("tryReadByApartmentId tryRead",{apartmentId:n}),e.prev=1,"create"!==n){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==n){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,t.advertisingDbService.findByApartmentId(n);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),C(this,{})})),Xu=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"getAllBidCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Za,[V.select(["$id"]),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getRentBidCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Za,[V.select(["$id"]),V.equal("system_is_rent",!0),V.equal("system_is_archive",!1),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getSellBidCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Za,[V.select(["$id"]),V.equal("system_is_sell",!0),V.equal("system_is_archive",!1),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getArchiveBidCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Za,[V.select(["$id"]),V.equal("system_is_archive",!0),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),d(this,"getNewBidCount",se(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.databases.listDocuments(Na,Za,[V.select(["$id"]),V.equal("system_is_rent",!1),V.equal("system_is_sell",!1),V.equal("system_is_archive",!1),V.limit(1)]);case 2:return n=e.sent,a=n.total,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)}))))),C(this,{})})),Ju=l(ce(),2),Qu=Ju[0],el=Ju[1],tl=l(ce(),2),nl=tl[0],rl=tl[1],al=pe({useTheme:de}).makeStyles,il=function(){var e=i(r().mark((function e(t,n){var a,i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.createElement("img"),i=document.createElement("img"),e.next=4,Xl.settingsViewService.getValue();case 4:if(o=e.sent,!(u=o.watermark_file_id)){e.next=12;break}return e.next=9,Xl.appwriteService.getImageURL(u);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=new URL("/watermark.png",window.origin);case 13:return l=e.t0,i.src=l.toString(),i.crossOrigin="anonymous",a.src=t,a.crossOrigin="anonymous",e.abrupt("return",Promise.resolve().then((function(){return Promise.all([new Promise((function(e,t){i.addEventListener("load",(function(){return e()})),i.addEventListener("error",(function(){return t()}))})),new Promise((function(e,t){a.addEventListener("load",(function(){return e()})),a.addEventListener("error",(function(){return t()}))}))])})).then((function(){return new Promise((function(e,t){var r=document.createElement("canvas");r.width=a.width,r.height=a.height;var o=r.getContext("2d");if(o){if(o.translate(r.width/2,r.height/2),o.drawImage(a,-a.width/2,-a.height/2),n){var u=.07*Math.min(a.height,a.width);o.lineWidth=.05*u,o.font="bold ".concat(u,"px Segoe UI, Arial, sans-serif"),o.fillStyle="white",o.strokeStyle="black",o.fillText(String(n||""),-1*a.width/2+10,a.height/2-10),o.strokeText(String(n||""),-1*a.width/2+10,a.height/2-10)}o.globalAlpha=1;var l=.3*Math.min(r.width/i.naturalWidth,r.height/i.naturalHeight),s=i.naturalWidth*l,c=i.naturalHeight*l;o.drawImage(i,-s/2,-c/2,s,c),r.toBlob((function(n){n?e(n):t("there's an error")}))}else t("there's an error")}))})));case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ol=function(){var e=i(r().mark((function e(t,n){var a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,il(t,n);case 3:return a=e.sent,e.abrupt("return",a?URL.createObjectURL(a):null);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),ul=me.createLoader(96),ll=al()((function(e){return{square:{position:"relative"},dragHoverActive:{background:fe(e.palette.primary.main,.5)},dragHoverInactive:{background:"#ccc"},prev:{position:"absolute",margin:"auto",left:"0",top:"0",bottom:0,zIndex:"2 !important",color:e.palette.background.paper,width:"30%"},next:{position:"absolute",margin:"auto",right:"10px",top:"10px",bottom:"5px",zIndex:"2 !important",color:e.palette.background.paper,width:"30%"},action:{zIndex:"5 !important"},defaultIcon:{position:"absolute",right:10,bottom:10,height:35,width:35,fill:"orange",background:"white",borderRadius:"50%",padding:"1.5px",zIndex:"1"},"tss-nuqny4-root":{zIndex:"5 !important"}}})),sl=function(e){var t,n=e.dropSubject,a=e.className,o=e.readonly,u=e.image,s=e.apartment_images,c=e.advertising_images,p=e.text,m=e.sx,y=e.onClick,h=e.onChange,v=e.drag,b=ll().classes,_=l(ye.useState(!1),2),g=_[0],k=_[1],x=he(n),w=he(),S=s||[],z=c||[];ye.useEffect((function(){return function(){w.next()}}),[]),ye.useEffect((function(){return x.subscribe((function(){k(!1)}))}),[]);var T,A=l(el(),2)[1],F=l(rl(),2)[1],C=ye.useMemo((function(){return f(z).sort((function(e,t){return Math.max(S.indexOf(t),0)-Math.max(S.indexOf(e),0)})).reverse()[0]||"unknown"}),[S,z]),V=ye.useMemo((function(){return z.includes(u)}),[u,z]);return ve(ge,{className:a,sx:m,onClick:function(){return y&&y(u)},children:ve(be,{draggable:v,onDragStart:function(){return A(u)},onDragOver:function(e){e.preventDefault(),F(u)},onDragLeave:function(){return k(!1)},onDragEnter:function(){return k(!0)},className:b.square,children:[u===C&&ve(_e,{className:b.defaultIcon}),ve(ge,{className:ke((t={},d(t,b.dragHoverActive,g),d(t,b.dragHoverInactive,!g),t)),component:"div",sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[ve(ge,{sx:{position:"absolute",top:10,left:10,transition:"opacity 150ms",background:"white",borderRadius:"50%",zIndex:"5 !important"},children:ve(xe,{size:"small",disabled:o,checked:V,onClick:function(e){var t;e.preventDefault(),e.stopPropagation(),(t=new Set(z)).has(u)?t.delete(u):t.add(u),h({advertising_images:f(t),apartment_images:S})}})}),ve(we,{Loader:ul,payload:u,children:(T=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",ve(Se,{sx:{fontSize:96,fill:"white"}}));case 2:return e.next=4,Xl.appwriteService.getImageURL(t);case 4:return n=e.sent,e.next=7,ol(n,p);case 7:return a=e.sent,w.once((function(){a&&URL.revokeObjectURL(a)})),e.abrupt("return",ve("img",{crossOrigin:"anonymous",loading:"lazy",alt:t,src:a||n,style:{objectFit:"contain",height:"100%",width:"100%",pointerEvents:"none"}}));case 10:case"end":return e.stop()}}),e)}))),function(e){return T.apply(this,arguments)})})]})]})})},cl=al()((function(e){return{root:{position:"fixed",padding:20,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",transform:"translate(-50%, -50%)",backgroundColor:e.palette.background.paper,borderRadius:5,gap:5,top:"50%",left:"50%",width:"calc(100vmin - 50px)",height:"calc(100vmin - 50px)",outline:"none"},content:{overflow:"hidden",padding:e.spacing(1),flex:1},container:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flex:1,overflow:"hidden",paddingTop:e.spacing(1)},title:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},submit:{marginTop:15},disabled:{opacity:.5,pointerEvents:"none"},indicatorTransparent:{height:6,background:e.palette.primary.main},tabRootTransparent:{minHeight:54,height:54},tabsRoot:{minHeight:54,height:54,marginLeft:"0 !important",marginRight:"0 !important"},prev:{position:"absolute",margin:"auto",left:"10px",top:"10px",bottom:"5px",zIndex:"2 !important",color:e.palette.background.paper,width:"30%"},next:{position:"absolute",margin:"auto",right:"10px",top:"10px",bottom:"5px",zIndex:"2 !important",color:e.palette.background.paper,width:"30%"},icon_border:{border:"1px solid black"}}})),pl=function(e){var t=e.apartment_images,n=e.advertising_images,r=e._fieldData,a=e.payload,i=e.readonly,o=e.onChange,u=l(el(),1)[0],s=l(rl(),1)[0],c=n||[],p=t||[],d=function(e){var t=e._fieldData,n=e.advertising_images,r=e.apartment_images,a=e.readonly,i=e.payload,o=e.onChange,u=l(ye.useState(""),2),s=u[0],c=u[1],p=l(ye.useState(!1),2),d=p[0],m=p[1],f=(null==r?void 0:r.length)||0,y=l(ye.useState(0),2),h=y[0],v=y[1],b=l(ye.useState(!1),2),_=b[0],g=b[1],k=l(ye.useState(0),2),x=k[0],w=k[1],S=l(ye.useState(!1),2),z=S[0],T=S[1];ye.useEffect((function(){v((null==r?void 0:r.indexOf(s))||0)}),[s]);var A=cl(),F=A.classes,C=(A.cx,function(){x||(c(""),v(0),g(!1))}),V=function(){w((function(e){return e+1}))},M=function(){w((function(e){return e-1}))},L=function(e){e.preventDefault(),e.stopPropagation(),c(r?r[h+1]:"")},I=function(e){e.preventDefault(),e.stopPropagation(),c(r?r[h-1]:"")};return{render:function(){return ve(Ve,{open:_,onClose:C,sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:ve("div",{className:F.root,onMouseEnter:function(){m(!0)},onMouseLeave:function(){m(!1)},onClick:function(){return g(!1)},children:ve("div",{className:F.container,children:[ve(ze,{className:F.prev,onClick:I,disabled:0===h,onMouseOver:function(){return T(!0)},onMouseLeave:function(){return T(!1)}}),ve(ze,{className:F.next,onClick:L,disabled:h===f-1,onMouseOver:function(){return T(!0)},onMouseLeave:function(){return T(!1)}}),ve(sl,{onLoadEnd:M,onLoadStart:V,className:F.content,advertising_images:n,apartment_images:r,text:"№".concat(t.apartment_index),payload:i,onChange:o,image:s,readonly:a,drag:!1,onMouseOver:z}),f>1&&ve(ge,{sx:{position:"absolute",left:0,bottom:0,width:"100%",height:75,display:"flex",alignItems:"space-beetween",justifyContent:"center",transition:"opacity 150ms",opacity:d?1:0},children:ve(Te,{onClick:function(e){e.preventDefault(),e.stopPropagation()},steps:f,position:"static",activeStep:h,nextButton:ve(Ae,{size:"small",sx:{ml:1},onClick:L,disabled:h===f-1,children:ve(Fe,{})}),backButton:ve(Ae,{size:"small",sx:{mr:1},onClick:I,disabled:0===h,children:ve(Ce,{})}),sx:{height:"45px",backdropFilter:"blur(20px)",backgroundColor:"#00000012",borderRadius:"25px",zIndex:"1000"}})})]})})})},handleNext:L,handleBack:I,pickImage:function(e){c(e),g(!0)}}}({_fieldData:r,payload:a,apartment_images:p,advertising_images:c,onChange:function(e){var t=e.apartment_images,n=e.advertising_images;o({apartment_images:t,advertising_images:n})},readonly:i}),m=d.pickImage,f=d.render,y=he();return ve(Le,{children:[ve(Me,{gap:1,sx:{pointerEvents:"all"},flexWrap:"wrap",direction:"row",onDrop:function(){!function(){if(u!=s){var e=p.indexOf(u),t=p.indexOf(s),n=p[e];p[e]=p[t],p[t]=n,o({apartment_images:p,advertising_images:c})}}(),y.next()},children:p.filter((function(e){return!i||c.includes(e)})).map((function(e,t){return ve(sl,{sx:{width:275},image:e,apartment_images:p,advertising_images:c,onChange:function(e){var t=e.apartment_images,n=e.advertising_images;o({apartment_images:t,advertising_images:n})},text:"№".concat(r.apartment_index),dropSubject:y,drag:!i,payload:a,readonly:i,onClick:m},t)}))}),f()]})},dl=function(e){return ve(Qu,{initialState:"",children:ve(nl,{initialState:"",children:ve(pl,u({},e))})})},ml=[{type:o.Fragment,isVisible:function(e){return null===e.kategoriya_obekta||!(!Ie(e.kategoriya_obekta,"Жилая")||!Ie(e.podkategoriya_obekta,"Квартиры"))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая квартира)"})}},{type:o.Text,outlined:!1,name:"zagolovok_dlya_reklamy",title:"Заголовок для рекламы"},{type:o.Text,outlined:!1,name:"rajon",title:"Район"},{type:o.Text,outlined:!1,name:"ulicza",title:"Адрес"},{type:o.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Text,outlined:!1,name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Text,outlined:!1,name:"etazh",title:"Этаж"},{type:o.Text,outlined:!1,name:"etazhnost",title:"Этажность"},{type:o.Text,outlined:!1,name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Combo,outlined:!1,name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Text,outlined:!1,name:"nazvanie_zhk",title:"Новостройка или Вторичка"},{type:o.Text,outlined:!1,inputRows:4,name:"primechanie",title:"Примечание"},{type:o.Combo,outlined:!1,name:"nomer_agenstva",itemList:(eu=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return eu.apply(this,arguments)}),tr:(Qo=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Qo.apply(this,arguments)}),title:"Номер агенства"},{type:o.Combo,outlined:!1,name:"nomer_agenta",itemList:(Jo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Jo.apply(this,arguments)}),tr:(Xo=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Xo.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Жилая")||!Ie(e.podkategoriya_obekta,"Дома"))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилой дом)"})}},{type:o.Text,outlined:!1,name:"zagolovok_dlya_reklamy",title:"Заголовок для рекламы"},{type:o.Text,outlined:!1,name:"rajon",title:"Район"},{type:o.Text,outlined:!1,name:"ulicza",title:"Адрес"},{type:o.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Text,outlined:!1,name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Text,outlined:!1,name:"etazhnost",title:"Этажность"},{type:o.Text,outlined:!1,name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Items,freeSolo:!1,outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},{type:o.Text,outlined:!1,name:"ploshhad_doma",title:"Площадь дома М²"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Combo,outlined:!1,name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Text,outlined:!1,inputRows:4,name:"primechanie",title:"Примечание"},{type:o.Combo,outlined:!1,name:"nomer_agenstva",itemList:(Zo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Zo.apply(this,arguments)}),tr:(Ko=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Ko.apply(this,arguments)}),title:"Номер агенства"},{type:o.Combo,outlined:!1,name:"nomer_agenta",itemList:(Yo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Yo.apply(this,arguments)}),tr:(Go=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Go.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return null===e.kategoriya_obekta||!(!Ie(e.kategoriya_obekta,"Жилая")||!Ie(e.podkategoriya_obekta,"Земля/Участок"))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая земля/участок)"})}},{type:o.Text,outlined:!1,name:"zagolovok_dlya_reklamy",title:"Заголовок для рекламы"},{type:o.Component,sx:{pr:1,mb:2},name:"naznachenie-obekta_zemlya",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Combo,freeSolo:!0,outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:o.Text,outlined:!1,name:"rajon",title:"Район"},{type:o.Text,outlined:!1,name:"ulicza",title:"Адрес"},{type:o.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Text,outlined:!1,name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Items,freeSolo:!1,outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]},{type:o.Text,outlined:!1,inputRows:4,name:"primechanie",title:"Примечание"},{type:o.Combo,outlined:!1,name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Combo,outlined:!1,name:"nomer_agenstva",itemList:($o=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return $o.apply(this,arguments)}),tr:(Wo=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Wo.apply(this,arguments)}),title:"Номер агенства"},{type:o.Combo,outlined:!1,name:"nomer_agenta",itemList:(Ho=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Ho.apply(this,arguments)}),tr:(Uo=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Uo.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return(!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.kategoriya_obekta,"Коммерческая")))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая недвижимость)"})}},{type:o.Text,outlined:!1,name:"zagolovok_dlya_reklamy",title:"Заголовок для рекламы"},{type:o.Component,sx:{pr:1,mb:2},name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Items,freeSolo:!1,outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Text,outlined:!1,name:"rajon",title:"Район"},{type:o.Text,outlined:!1,name:"ulicza",title:"Адрес"},{type:o.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Text,outlined:!1,name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Text,outlined:!1,name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Text,outlined:!1,name:"etazh",title:"Этаж"},{type:o.Text,outlined:!1,name:"etazhnost",title:"Этажность"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Text,outlined:!1,inputRows:4,name:"primechanie",title:"Примечание"},{type:o.Combo,outlined:!1,name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Combo,outlined:!1,name:"nomer_agenstva",itemList:(Oo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Oo.apply(this,arguments)}),tr:(No=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return No.apply(this,arguments)}),title:"Номер агенства"},{type:o.Combo,outlined:!1,name:"nomer_agenta",itemList:(Eo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Eo.apply(this,arguments)}),tr:(Po=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Po.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return null===e.kategoriya_obekta||!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Квартиры"))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая квартира)"})}},{type:o.Text,outlined:!1,name:"zagolovok_dlya_reklamy",title:"Заголовок для рекламы"},{type:o.Component,sx:{pr:1,mb:2},name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Items,freeSolo:!1,outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Text,outlined:!1,name:"rajon",title:"Район"},{type:o.Text,outlined:!1,name:"ulicza",title:"Адрес"},{type:o.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Text,outlined:!1,name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Text,outlined:!1,name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Text,outlined:!1,inputRows:4,name:"primechanie",title:"Примечание"},{type:o.Combo,outlined:!1,name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Combo,outlined:!1,name:"nomer_agenstva",itemList:(qo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return qo.apply(this,arguments)}),tr:(Ro=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Ro.apply(this,arguments)}),title:"Номер агенства"},{type:o.Combo,outlined:!1,name:"nomer_agenta",itemList:(Do=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Do.apply(this,arguments)}),tr:(jo=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return jo.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return null===e.kategoriya_obekta||!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Дома"))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческий дом)"})}},{type:o.Text,outlined:!1,name:"zagolovok_dlya_reklamy",title:"Заголовок для рекламы"},{type:o.Component,sx:{pr:1,mb:2},name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Items,freeSolo:!1,outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Text,outlined:!1,name:"rajon",title:"Район"},{type:o.Text,outlined:!1,name:"ulicza",title:"Адрес"},{type:o.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Text,outlined:!1,name:"ploshhad_doma",title:"Площадь дома М²"},{type:o.Text,outlined:!1,name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Text,outlined:!1,name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Text,outlined:!1,name:"etazhnost",title:"Этажность"},{type:o.Text,outlined:!1,inputRows:4,name:"primechanie",title:"Примечание"},{type:o.Combo,outlined:!1,name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Combo,outlined:!1,name:"nomer_agenstva",itemList:(Bo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Bo.apply(this,arguments)}),tr:(Io=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Io.apply(this,arguments)}),title:"Номер агенства"},{type:o.Combo,outlined:!1,name:"nomer_agenta",itemList:(Lo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Lo.apply(this,arguments)}),tr:(Mo=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Mo.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return null===e.kategoriya_obekta||!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Земля/Участок"))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая земля/участок)"})}},{type:o.Text,outlined:!1,name:"zagolovok_dlya_reklamy",title:"Заголовок для рекламы"},{type:o.Component,sx:{pr:1,mb:2},name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Combo,freeSolo:!0,outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:o.Text,outlined:!1,name:"rajon",title:"Район"},{type:o.Text,outlined:!1,name:"ulicza",title:"Адрес"},{type:o.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Text,outlined:!1,name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Items,freeSolo:!1,outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]},{type:o.Text,outlined:!1,inputRows:4,name:"primechanie",title:"Примечание"},{type:o.Combo,outlined:!1,name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Combo,outlined:!1,name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Combo,outlined:!1,name:"nomer_agenstva",itemList:(Vo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Vo.apply(this,arguments)}),tr:(Co=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgencyMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Co.apply(this,arguments)}),title:"Номер агенства"},{type:o.Combo,outlined:!1,name:"nomer_agenta",itemList:(Fo=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Fo.apply(this,arguments)}),tr:(Ao=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getAgentMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Ao.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]}];window.advertising_fields=ml;var fl=p((function e(){var t=this;s(this,e),d(this,"advertisingViewService",F(Ti.advertisingViewService)),d(this,"apartmentViewService",F(Ti.apartmentViewService)),d(this,"layoutService",F(Ti.layoutService)),d(this,"createAdvertisingByApartment",function(){var e=i(r().mark((function e(n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.apartmentViewService.read(n);case 2:return a=e.sent,i={},De(ml).forEach((function(e){var t=e.name;if(t){var n=G.get(a,t);G.set(i,t,n)}})),G.set(i,"apartment_id",n),G.set(i,"apartment_index",G.get(a,"index")),G.set(i,"apartment_images",a.apartment_images),G.set(i,"advertising_images",[]),e.next=11,t.advertisingViewService.create(i);case 11:return o=e.sent,t.layoutService.reloadOutlet(),e.abrupt("return",bi(o));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d(this,"updateAdvertisingByApartment",function(){var e=i(r().mark((function e(n,a){var i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.advertisingViewService.findByApartmentId(n);case 2:return i=e.sent,e.next=5,t.advertisingViewService.findByApartmentId(n);case 5:return o=e.sent,De(ml).forEach((function(e){var t=e.name;if(t){var n=G.get(a,t)||G.get(i,t);G.set(o,t,n)}})),G.set(o,"apartment_id",n),G.set(o,"apartment_index",G.get(a,"index")),G.set(o,"apartment_images",a.apartment_images),G.set(o,"advertising_images",[]),e.next=13,t.advertisingViewService.update(i.id,o);case 13:return u=e.sent,t.layoutService.reloadOutlet(),e.abrupt("return",bi(u));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C(this,{})})),yl=p((function e(){var t=this;s(this,e),d(this,"appwriteService",F(Ti.appwriteService)),d(this,"dictService",F(Ti.dictService)),d(this,"publishTelegram",function(){var e=i(r().mark((function e(n,a,o){var u,l,s,c=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=c.length>3&&void 0!==c[3]?c[3]:"",e.next=3,t.dictService.getTelegramMapRaw();case 3:if(l=e.sent,s=G.get(l,n)){e.next=7;break}throw new Error("publishService unknown telegram id");case 7:if(!o){e.next=11;break}return e.next=10,Promise.all(o.map(function(){var e=i(r().mark((function e(n){var a,i,o,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.getImageURL(n);case 2:return a=e.sent,e.next=5,ol(a,u);case 5:if(!(i=e.sent)){e.next=18;break}return e.next=9,fetch(i).then((function(e){return e.blob()}));case 9:return o=e.sent,URL.revokeObjectURL(i),e.next=13,t.appwriteService.uploadBlob(o,"__DANGEROUS_WILL_BE_REMOVED_TELEGRAM__.png");case 13:return l=e.sent,e.next=16,t.appwriteService.getFileURL(l);case 16:return s=e.sent,e.abrupt("return",s);case 18:return e.abrupt("return",t.appwriteService.getFileURL(n));case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:o=e.sent;case 11:return e.next=13,t.appwriteService.execute(li,{msg:a,channel:s.channel,token:s.token,images:o});case 13:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),d(this,"publishTelegraph",function(){var e=i(r().mark((function e(n,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.appwriteService.execute(si,{appName:Da,appLink:"https://github.com/tripolskypetr",title:n,content:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),C(this,{})}));Re(Ti.appwriteService,(function(){return new Vi})),Re(Ti.authService,(function(){return new Li})),Re(Ti.alertService,(function(){return new La})),Re(Ti.layoutService,(function(){return new ko})),Re(Ti.routerService,(function(){return new vu})),Re(Ti.errorService,(function(){return new _o})),Re(Ti.dictService,(function(){return new vo})),Re(Ti.cacheService,(function(){return new Pi})),Re(Ti.ymapsService,(function(){return new $u})),Re(Ti.loggerService,(function(){return new xo})),Re(Ti.realtimeService,(function(){return new du})),Re(Ti.editTargetService,(function(){return new bo})),Re(Ti.permissionService,(function(){return new su})),Re(Ti.featureService,(function(){return new go})),Re(Ti.previewModeService,(function(){return new pu})),Re(Ti.metadataService,(function(){return new tu})),Re(Ti.publishService,(function(){return new yl})),Re(Ti.userDbService,(function(){return new Hu})),Re(Ti.settingsDbService,(function(){return new Su})),Re(Ti.apartmentDbService,(function(){return new Fi})),Re(Ti.bidDbService,(function(){return new Bi})),Re(Ti.dealDbService,(function(){return new io})),Re(Ti.contactDbService,(function(){return new Ni})),Re(Ti.dealHistoryDbService,(function(){return new uo})),Re(Ti.serviceCommentDbService,(function(){return new _u})),Re(Ti.roleDbService,(function(){return new fu})),Re(Ti.notifyDbService,(function(){return new ru})),Re(Ti.taskDbService,(function(){return new Mu})),Re(Ti.taskHistoryDbService,(function(){return new Iu})),Re(Ti.advertisingDbService,(function(){return new Ku})),Re(Ti.contactRequestService,(function(){return new Oi})),Re(Ti.dealHistoryRequestService,(function(){return new mo})),Re(Ti.dealRequestService,(function(){return new yo})),Re(Ti.taskRequestService,(function(){return new Nu})),Re(Ti.taskHistoryRequestService,(function(){return new Bu})),Re(Ti.dashboardRequestService,(function(){return new Ji})),Re(Ti.permissionRequestService,(function(){return new lu})),Re(Ti.apartmentRequestService,(function(){return new Gu})),Re(Ti.bidRequestService,(function(){return new Xu})),Re(Ti.advertisingRequestService,(function(){return new fl})),Re(Ti.userViewService,(function(){return new Wu})),Re(Ti.settingsViewService,(function(){return new zu})),Re(Ti.apartmentViewService,(function(){return new Ci})),Re(Ti.bidViewService,(function(){return new ji})),Re(Ti.dealViewService,(function(){return new ho})),Re(Ti.contactViewService,(function(){return new Ui})),Re(Ti.dealHistoryViewService,(function(){return new fo})),Re(Ti.serviceCommentViewService,(function(){return new gu})),Re(Ti.roleViewService,(function(){return new yu})),Re(Ti.notifyViewService,(function(){return new au})),Re(Ti.taskViewService,(function(){return new Ou})),Re(Ti.taskHistoryViewService,(function(){return new ju})),Re(Ti.advertisingViewService,(function(){return new Zu}));var hl={appwriteService:F(Ti.appwriteService),authService:F(Ti.authService),alertService:F(Ti.alertService),routerService:F(Ti.routerService),layoutService:F(Ti.layoutService),errorService:F(Ti.errorService),dictService:F(Ti.dictService),cacheService:F(Ti.cacheService),ymapsService:F(Ti.ymapsService),loggerService:F(Ti.loggerService),realtimeService:F(Ti.realtimeService)},vl={editTargetService:F(Ti.editTargetService),permissionService:F(Ti.permissionService),featureService:F(Ti.featureService),previewModeService:F(Ti.previewModeService),metadataService:F(Ti.metadataService),publishService:F(Ti.publishService)},bl={contactRequestService:F(Ti.contactRequestService),dealHistoryRequestService:F(Ti.dealHistoryRequestService),dealRequestService:F(Ti.dealRequestService),taskRequestService:F(Ti.taskRequestService),taskHistoryRequestService:F(Ti.taskHistoryRequestService),dashboardRequestService:F(Ti.dashboardRequestService),permissionRequestService:F(Ti.permissionRequestService),apartmentRequestService:F(Ti.apartmentRequestService),bidRequestService:F(Ti.bidRequestService),advertisingRequestService:F(Ti.advertisingRequestService)},_l={settingsDbService:F(Ti.settingsDbService),apartmentDbService:F(Ti.apartmentDbService),bidDbService:F(Ti.bidDbService),dealDbService:F(Ti.dealDbService),userDbService:F(Ti.userDbService),contactDbService:F(Ti.contactDbService),dealHistoryDbService:F(Ti.dealHistoryDbService),serviceCommentDbService:F(Ti.serviceCommentDbService),roleDbService:F(Ti.roleDbService),notifyDbService:F(Ti.notifyDbService),taskDbService:F(Ti.taskDbService),taskHistoryDbService:F(Ti.taskHistoryDbService),advertisingDbService:F(Ti.advertisingDbService)},gl={userViewService:F(Ti.userViewService),apartmentViewService:F(Ti.apartmentViewService),bidViewService:F(Ti.bidViewService),dealViewService:F(Ti.dealViewService),settingsViewService:F(Ti.settingsViewService),contactViewService:F(Ti.contactViewService),dealHistoryViewService:F(Ti.dealHistoryViewService),serviceCommentViewService:F(Ti.serviceCommentViewService),roleViewService:F(Ti.roleViewService),notifyViewService:F(Ti.notifyViewService),taskViewService:F(Ti.taskViewService),taskHistoryViewService:F(Ti.taskHistoryViewService),advertisingViewService:F(Ti.advertisingViewService)},kl=u(u(u(u(u({},hl),_l),gl),vl),bl);window.addEventListener("unhandledrejection",(function(e){kl.errorService.handleGlobalError(new Error(e.reason))})),window.addEventListener("offline",(function(){U()})),window.addEventListener("error",(function(e){e instanceof qe&&kl.errorService.handleGlobalError(e)})),kl.layoutService.setModalLoader(!0),kl.layoutService.appbarSubject.filter((function(e){return!e})).filter((function(){return!kl.layoutService.hasAppbarLoader})).operator(Pe.take(1)).debounce(1e3).once((function(){kl.layoutService.setModalLoader(!1)})),Ee.join([kl.layoutService.appbarSubject.toObserver(),Ee.fromInterval(1e4)],{race:!0}).reduce((function(e,t){return l(t,1)[0]?e+1:0}),0).filter((function(e){return 3===e})).connect((function(){kl.layoutService.hasModalLoader||kl.layoutService.dropAppbarLoader()})),kl.routerService.listen((function(e){"PUSH"===e.action&&kl.cacheService.collectGarbage()})),kl.routerService.listen((function(){kl.appwriteService.execute.cancel()})),kl.userViewService.updateSubject.subscribe((function(e){var t=l(e,1)[0];kl.appwriteService.currentUser.$id===t&&U()})),window.ioc=kl;var xl,wl,Sl,zl,Tl,Al,Fl,Cl,Vl,Ml,Ll,Il,Bl,jl,Dl,Rl,ql,Pl,El,Nl,Ol,Ul,Hl,Wl,$l,Gl,Yl,Kl,Zl,Xl=kl,Jl=function(){var e=null,t={};return function(){var n=Xl.routerService.location.pathname;return e!==n&&(t=Ne(Iv,Xl.routerService.location.pathname)||{},e=n),t}}(),Ql=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Jl();return G.get(n,e)||t},es=Jl,ts=ye.forwardRef((function(e,t){var n=e.sx,r=e.variant,a=void 0===r?"filled":r,i=l(ye.useState([]),2),o=i[0],s=i[1];return ye.useEffect((function(){return Oe((function(){return Xl.editTargetService.alerts}),(function(){s(Xl.editTargetService.alerts)}))}),[]),ye.useEffect((function(){s(Xl.editTargetService.alerts)}),[]),ve(Ue,{ref:t,sx:u(u({},n),{},{mb:2}),variant:a,items:o})})),ns=function(e){var t=e.children,n=He(i(r().mark((function e(){var t,n,a,i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Rv()||{},n=t.sideMenu,a=void 0===n?null:n,i=es(),o=i.id,u=void 0===o?null:o,Xl.appwriteService.isAuthorized){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Xl.editTargetService.getDocument(Xl.appwriteService.currentUser.$id);case 6:if(l=e.sent){e.next=11;break}return e.next=10,Xl.editTargetService.create({entity_id:u,path:a});case 10:return e.abrupt("return");case 11:if(!(!1||l.entity_id!==u||l.path!==a)){e.next=17;break}return e.next=17,Xl.editTargetService.update({entity_id:u,path:a});case 17:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError}).execute;return ye.useEffect((function(){return Oe((function(){return Xl.routerService.location.pathname}),(function(){Xl.appwriteService.isAuthorized&&n()}))}),[]),ve(Le,{children:t})},rs=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xl.routerService.location.pathname;return!!We(Iv.filter((function(t){var n=t.path;return e.includes(n)})),t)},as=[{id:"owner_contact",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Контакт",isActive:function(){return rs(["/apartment_view/:id/owner_contact"])}},{id:"object",label:"Объект",isActive:function(){return rs(["/apartment_view/:id","/apartment_view/:id/object"])}},{id:"tasks",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Задачи",isActive:function(){return rs(["/apartment_view/:id/tasks"])}},{id:"advertising",label:"Реклама",isDisabled:function(e){return!e.hasAdvertising},isActive:function(){return rs(["/apartment_view/:id/advertising"])}},{id:"service_comment",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Служебный комментарий",isActive:function(){return rs(["/apartment_view/:id/service_comment"])}},{id:"history",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"История",isActive:function(){return rs(["/apartment_view/:id/history"])}},{id:"documents",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Документы",isActive:function(){return rs(["/apartment_view/:id/documents"])}},{id:"commission_and_status",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Комиссия и статус",isDisabled:function(){return!0},isActive:function(){return rs(["/apartment_view/:id/commission_and_status"])}}],is=function(e,t){if(!t){var n=Ql("id","create");"owner_contact"===e&&Xl.routerService.replace("/apartment_view/".concat(n,"/owner_contact")),"object"===e&&Xl.routerService.replace("/apartment_view/".concat(n,"/object")),"tasks"===e&&Xl.routerService.replace("/apartment_view/".concat(n,"/tasks")),"advertising"===e&&Xl.routerService.replace("/apartment_view/".concat(n,"/advertising")),"service_comment"===e&&Xl.routerService.replace("/apartment_view/".concat(n,"/service_comment")),"history"===e&&Xl.routerService.replace("/apartment_view/".concat(n,"/history")),"documents"===e&&Xl.routerService.replace("/apartment_view/".concat(n,"/documents")),"commission_and_status"===e&&Xl.routerService.replace("/apartment_view/".concat(n,"/commission_and_status"))}},os=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?W.Paper:r,i=ye.useMemo((function(){return"tabs"===a?W.Tabs:W.Paper}),[a]);return ve($e,{withFixedPos:!0,payload:n,fixedPosHeaderAdjust:a===W.Paper?85:64,mode:i,options:as,onActiveOptionChange:is,children:t})},us=function(e){for(var t=!1,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var i=0,o=r;i<o.length;i++){var u=o[i];String(e[u]||"").length&&(t=!0)}return t},ls=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&Ie(e.podkategoriya_obekta,"Квартиры"))&&Ie(e.kategoriya_obekta,"Жилая"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая квартира)"})}},{type:o.Text,isVisible:function(e){return us(e,"zagolovok_dlya_reklamy")},outlined:!1,compute:function(e){return e.zagolovok_dlya_reklamy||""},title:"Заголовок для рекламы"},{type:o.Text,outlined:!1,compute:(Ol=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apartment_id,e.next=3,Xl.apartmentViewService.tryRead(n);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","");case 6:if(i=a.arenda,!(o=a.prodazha)||!i){e.next=11;break}return e.abrupt("return","Продажа, Аренда");case 11:if(!o){e.next=15;break}return e.abrupt("return","Продажа");case 15:if(!i){e.next=19;break}return e.abrupt("return","Аренда");case 19:return e.abrupt("return","");case 20:case"end":return e.stop()}}),e)}))),function(e){return Ol.apply(this,arguments)}),title:"Тип сделки"},{type:o.Text,isVisible:function(e){return us(e,"rajon")},outlined:!1,compute:function(e){return e.rajon||""},title:"Район"},{type:o.Text,isVisible:function(e){return us(e,"ulicza")},outlined:!1,compute:function(e){return e.ulicza||""},title:"Адрес"},{type:o.Text,isVisible:function(e){return us(e,"orientir")},outlined:!1,compute:function(e){return e.orientir||""},title:"Ориентир"},{type:o.Text,isVisible:function(e){return us(e,"metro")},outlined:!1,compute:function(e){return e.metro||""},title:"Метро"},{type:o.Text,isVisible:function(e){return us(e,"kolichestvo_komnat")},outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},title:"Количество комнат"},{type:o.Text,isVisible:function(e){return us(e,"etazh")},outlined:!1,compute:function(e){return e.etazh||""},title:"Этаж"},{type:o.Text,isVisible:function(e){return us(e,"etazhnost")},outlined:!1,compute:function(e){return e.etazhnost||""},title:"Этажность"},{type:o.Text,isVisible:function(e){return us(e,"obshhaya_ploshhad")},outlined:!1,compute:function(e){return e.obshhaya_ploshhad||""},title:"Общая площадь М²"},{type:o.Text,outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"kategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return[e.kategoriya_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},title:"Категория объекта"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"podkategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return e.podkategoriya_obekta||""},title:"Подкатегория объекта"},{type:o.Text,isVisible:function(e){return us(e,"nazvanie_zhk")},outlined:!1,compute:function(e){return e.nazvanie_zhk||""},title:"Новостройка или Вторичка"},{type:o.Text,isVisible:function(e){return us(e,"primechanie")},outlined:!1,inputRows:4,compute:function(e){return e.primechanie||""},title:"Примечание"},{type:o.Text,outlined:!1,compute:(Nl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenstva,e.next=3,Xl.dictService.getAgencyMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return Nl.apply(this,arguments)}),title:"Номер агенства"},{type:o.Text,outlined:!1,compute:(El=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenta,e.next=3,Xl.dictService.getAgentMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return El.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&Ie(e.podkategoriya_obekta,"Дома"))&&Ie(e.kategoriya_obekta,"Жилая"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилой дом)"})}},{type:o.Text,isVisible:function(e){return us(e,"zagolovok_dlya_reklamy")},outlined:!1,compute:function(e){return e.zagolovok_dlya_reklamy||""},title:"Заголовок для рекламы"},{type:o.Text,outlined:!1,compute:(Pl=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apartment_id,e.next=3,Xl.apartmentViewService.tryRead(n);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","");case 6:if(i=a.arenda,!(o=a.prodazha)||!i){e.next=11;break}return e.abrupt("return","Продажа, Аренда");case 11:if(!o){e.next=15;break}return e.abrupt("return","Продажа");case 15:if(!i){e.next=19;break}return e.abrupt("return","Аренда");case 19:return e.abrupt("return","");case 20:case"end":return e.stop()}}),e)}))),function(e){return Pl.apply(this,arguments)}),title:"Тип сделки"},{type:o.Text,isVisible:function(e){return us(e,"rajon")},outlined:!1,compute:function(e){return e.rajon||""},title:"Район"},{type:o.Text,isVisible:function(e){return us(e,"ulicza")},outlined:!1,compute:function(e){return e.ulicza||""},title:"Адрес"},{type:o.Text,isVisible:function(e){return us(e,"orientir")},outlined:!1,compute:function(e){return e.orientir||""},title:"Ориентир"},{type:o.Text,isVisible:function(e){return us(e,"metro")},outlined:!1,compute:function(e){return e.metro||""},title:"Метро"},{type:o.Text,isVisible:function(e){return us(e,"kolichestvo_komnat")},outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},title:"Количество комнат"},{type:o.Text,isVisible:function(e){return us(e,"etazhnost")},outlined:!1,compute:function(e){return e.etazhnost||""},title:"Этажность"},{type:o.Text,isVisible:function(e){return us(e,"kolichestvo_sotok")},outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},title:"Количество соток"},{type:o.Text,outlined:!1,compute:function(e){return[e.bassejn||""].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"bassejn")},title:"Бассейн"},{type:o.Text,isVisible:function(e){return us(e,"ploshhad_doma")},outlined:!1,compute:function(e){return e.ploshhad_doma||""},title:"Площадь дома М²"},{type:o.Text,outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"kategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return[e.kategoriya_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},title:"Категория объекта"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"podkategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return e.podkategoriya_obekta||""},title:"Подкатегория объекта"},{type:o.Text,isVisible:function(e){return us(e,"primechanie")},outlined:!1,inputRows:4,compute:function(e){return e.primechanie||""},title:"Примечание"},{type:o.Text,outlined:!1,compute:(ql=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenstva,e.next=3,Xl.dictService.getAgencyMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return ql.apply(this,arguments)}),title:"Номер агенства"},{type:o.Text,outlined:!1,compute:(Rl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenta,e.next=3,Xl.dictService.getAgentMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return Rl.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&Ie(e.podkategoriya_obekta,"Земля/Участок"))&&Ie(e.kategoriya_obekta,"Жилая"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая земля/участок)"})}},{type:o.Text,isVisible:function(e){return us(e,"zagolovok_dlya_reklamy")},outlined:!1,compute:function(e){return e.zagolovok_dlya_reklamy||""},title:"Заголовок для рекламы"},{type:o.Text,outlined:!1,compute:(Dl=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apartment_id,e.next=3,Xl.apartmentViewService.tryRead(n);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","");case 6:if(i=a.arenda,!(o=a.prodazha)||!i){e.next=11;break}return e.abrupt("return","Продажа, Аренда");case 11:if(!o){e.next=15;break}return e.abrupt("return","Продажа");case 15:if(!i){e.next=19;break}return e.abrupt("return","Аренда");case 19:return e.abrupt("return","");case 20:case"end":return e.stop()}}),e)}))),function(e){return Dl.apply(this,arguments)}),title:"Тип сделки"},{type:o.Text,outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Text,outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},{type:o.Text,isVisible:function(e){return us(e,"rajon")},outlined:!1,compute:function(e){return e.rajon||""},title:"Район"},{type:o.Text,isVisible:function(e){return us(e,"ulicza")},outlined:!1,compute:function(e){return e.ulicza||""},title:"Адрес"},{type:o.Text,isVisible:function(e){return us(e,"orientir")},outlined:!1,compute:function(e){return e.orientir||""},title:"Ориентир"},{type:o.Text,isVisible:function(e){return us(e,"metro")},outlined:!1,compute:function(e){return e.metro||""},title:"Метро"},{type:o.Text,isVisible:function(e){return us(e,"kolichestvo_sotok")},outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},title:"Количество соток"},{type:o.Text,outlined:!1,compute:function(e){return[e.vid_liczenzii].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"vid_liczenzii")},title:"Вид лицензии"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"kategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return[e.kategoriya_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},title:"Категория объекта"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"podkategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return e.podkategoriya_obekta||""},title:"Подкатегория объекта"},{type:o.Text,isVisible:function(e){return us(e,"primechanie")},outlined:!1,inputRows:4,compute:function(e){return e.primechanie||""},title:"Примечание"},{type:o.Text,outlined:!1,compute:(jl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenstva,e.next=3,Xl.dictService.getAgencyMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return jl.apply(this,arguments)}),title:"Номер агенства"},{type:o.Text,outlined:!1,compute:(Bl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenta,e.next=3,Xl.dictService.getAgentMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return Bl.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return(!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.kategoriya_obekta,"Коммерческая")))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая недвижимость)"})}},{type:o.Text,isVisible:function(e){return us(e,"zagolovok_dlya_reklamy")},outlined:!1,compute:function(e){return e.zagolovok_dlya_reklamy||""},title:"Заголовок для рекламы"},{type:o.Text,outlined:!1,compute:(Il=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apartment_id,e.next=3,Xl.apartmentViewService.tryRead(n);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","");case 6:if(i=a.arenda,!(o=a.prodazha)||!i){e.next=11;break}return e.abrupt("return","Продажа, Аренда");case 11:if(!o){e.next=15;break}return e.abrupt("return","Продажа");case 15:if(!i){e.next=19;break}return e.abrupt("return","Аренда");case 19:return e.abrupt("return","");case 20:case"end":return e.stop()}}),e)}))),function(e){return Il.apply(this,arguments)}),title:"Тип сделки"},{type:o.Text,outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Text,outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"raspolozhenie_obekta")},title:"Расположение объекта"},{type:o.Text,isVisible:function(e){return us(e,"rajon")},outlined:!1,compute:function(e){return e.rajon||""},title:"Район"},{type:o.Text,isVisible:function(e){return us(e,"ulicza")},outlined:!1,compute:function(e){return e.ulicza||""},title:"Адрес"},{type:o.Text,isVisible:function(e){return us(e,"orientir")},outlined:!1,compute:function(e){return e.orientir||""},title:"Ориентир"},{type:o.Text,isVisible:function(e){return us(e,"metro")},outlined:!1,compute:function(e){return e.metro||""},title:"Метро"},{type:o.Text,isVisible:function(e){return us(e,"obshhaya_ploshhad")},outlined:!1,compute:function(e){return e.obshhaya_ploshhad||""},title:"Общая площадь М²"},{type:o.Text,isVisible:function(e){return us(e,"kolichestvo_komnat")},outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},title:"Количество комнат"},{type:o.Text,isVisible:function(e){return us(e,"etazh")},outlined:!1,compute:function(e){return e.etazh||""},title:"Этаж"},{type:o.Text,isVisible:function(e){return us(e,"etazhnost")},outlined:!1,compute:function(e){return e.etazhnost||""},title:"Этажность"},{type:o.Text,outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Text,isVisible:function(e){return us(e,"primechanie")},outlined:!1,inputRows:4,compute:function(e){return e.primechanie||""},title:"Примечание"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"kategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return[e.kategoriya_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},title:"Категория объекта"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"podkategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return e.podkategoriya_obekta||""},title:"Подкатегория объекта"},{type:o.Text,outlined:!1,compute:(Ll=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenstva,e.next=3,Xl.dictService.getAgencyMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return Ll.apply(this,arguments)}),title:"Номер агенства"},{type:o.Text,outlined:!1,compute:(Ml=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenta,e.next=3,Xl.dictService.getAgentMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return Ml.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Квартиры"))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая квартира)"})}},{type:o.Text,isVisible:function(e){return us(e,"zagolovok_dlya_reklamy")},outlined:!1,compute:function(e){return e.zagolovok_dlya_reklamy||""},title:"Заголовок для рекламы"},{type:o.Text,outlined:!1,compute:(Vl=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apartment_id,e.next=3,Xl.apartmentViewService.tryRead(n);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","");case 6:if(i=a.arenda,!(o=a.prodazha)||!i){e.next=11;break}return e.abrupt("return","Продажа, Аренда");case 11:if(!o){e.next=15;break}return e.abrupt("return","Продажа");case 15:if(!i){e.next=19;break}return e.abrupt("return","Аренда");case 19:return e.abrupt("return","");case 20:case"end":return e.stop()}}),e)}))),function(e){return Vl.apply(this,arguments)}),title:"Тип сделки"},{type:o.Text,outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Text,outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"raspolozhenie_obekta")},title:"Расположение объекта"},{type:o.Text,isVisible:function(e){return us(e,"rajon")},outlined:!1,compute:function(e){return e.rajon||""},title:"Район"},{type:o.Text,isVisible:function(e){return us(e,"ulicza")},outlined:!1,compute:function(e){return e.ulicza||""},title:"Адрес"},{type:o.Text,isVisible:function(e){return us(e,"orientir")},outlined:!1,compute:function(e){return e.orientir||""},title:"Ориентир"},{type:o.Text,isVisible:function(e){return us(e,"metro")},outlined:!1,compute:function(e){return e.metro||""},title:"Метро"},{type:o.Text,isVisible:function(e){return us(e,"obshhaya_ploshhad")},outlined:!1,compute:function(e){return e.obshhaya_ploshhad||""},title:"Общая площадь М²"},{type:o.Text,isVisible:function(e){return us(e,"kolichestvo_komnat")},outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},title:"Количество комнат"},{type:o.Text,outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Text,isVisible:function(e){return us(e,"primechanie")},outlined:!1,inputRows:4,compute:function(e){return e.primechanie||""},title:"Примечание"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"kategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return[e.kategoriya_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},title:"Категория объекта"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"podkategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return e.podkategoriya_obekta||""},title:"Подкатегория объекта"},{type:o.Text,outlined:!1,compute:(Cl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenstva,e.next=3,Xl.dictService.getAgencyMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return Cl.apply(this,arguments)}),title:"Номер агенства"},{type:o.Text,outlined:!1,compute:(Fl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenta,e.next=3,Xl.dictService.getAgentMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return Fl.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Дома"))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческий дом)"})}},{type:o.Text,isVisible:function(e){return us(e,"zagolovok_dlya_reklamy")},outlined:!1,compute:function(e){return e.zagolovok_dlya_reklamy||""},title:"Заголовок для рекламы"},{type:o.Text,outlined:!1,compute:(Al=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apartment_id,e.next=3,Xl.apartmentViewService.tryRead(n);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","");case 6:if(i=a.arenda,!(o=a.prodazha)||!i){e.next=11;break}return e.abrupt("return","Продажа, Аренда");case 11:if(!o){e.next=15;break}return e.abrupt("return","Продажа");case 15:if(!i){e.next=19;break}return e.abrupt("return","Аренда");case 19:return e.abrupt("return","");case 20:case"end":return e.stop()}}),e)}))),function(e){return Al.apply(this,arguments)}),title:"Тип сделки"},{type:o.Text,outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Text,outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"raspolozhenie_obekta")},title:"Расположение объекта"},{type:o.Text,isVisible:function(e){return us(e,"rajon")},outlined:!1,compute:function(e){return e.rajon||""},title:"Район"},{type:o.Text,isVisible:function(e){return us(e,"ulicza")},outlined:!1,compute:function(e){return e.ulicza||""},title:"Адрес"},{type:o.Text,isVisible:function(e){return us(e,"orientir")},outlined:!1,compute:function(e){return e.orientir||""},title:"Ориентир"},{type:o.Text,isVisible:function(e){return us(e,"metro")},outlined:!1,compute:function(e){return e.metro||""},title:"Метро"},{type:o.Text,isVisible:function(e){return us(e,"ploshhad_doma")},outlined:!1,compute:function(e){return e.ploshhad_doma||""},title:"Площадь дома М²"},{type:o.Text,isVisible:function(e){return us(e,"kolichestvo_komnat")},outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},title:"Количество комнат"},{type:o.Text,outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Text,isVisible:function(e){return us(e,"kolichestvo_sotok")},outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},title:"Количество соток"},{type:o.Text,isVisible:function(e){return us(e,"etazhnost")},outlined:!1,compute:function(e){return e.etazhnost||""},title:"Этажность"},{type:o.Text,isVisible:function(e){return us(e,"primechanie")},outlined:!1,inputRows:4,compute:function(e){return e.primechanie||""},title:"Примечание"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"kategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return[e.kategoriya_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},title:"Категория объекта"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"podkategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return e.podkategoriya_obekta||""},title:"Подкатегория объекта"},{type:o.Text,outlined:!1,compute:(Tl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenstva,e.next=3,Xl.dictService.getAgencyMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return Tl.apply(this,arguments)}),title:"Номер агенства"},{type:o.Text,outlined:!1,compute:(zl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenta,e.next=3,Xl.dictService.getAgentMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return zl.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Земля/Участок"))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая земля/участок)"})}},{type:o.Text,isVisible:function(e){return us(e,"zagolovok_dlya_reklamy")},outlined:!1,compute:function(e){return e.zagolovok_dlya_reklamy||""},title:"Заголовок для рекламы"},{type:o.Text,outlined:!1,compute:(Sl=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apartment_id,e.next=3,Xl.apartmentViewService.tryRead(n);case 3:if(a=e.sent){e.next=6;break}return e.abrupt("return","");case 6:if(i=a.arenda,!(o=a.prodazha)||!i){e.next=11;break}return e.abrupt("return","Продажа, Аренда");case 11:if(!o){e.next=15;break}return e.abrupt("return","Продажа");case 15:if(!i){e.next=19;break}return e.abrupt("return","Аренда");case 19:return e.abrupt("return","");case 20:case"end":return e.stop()}}),e)}))),function(e){return Sl.apply(this,arguments)}),title:"Тип сделки"},{type:o.Text,outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Text,outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},{type:o.Text,isVisible:function(e){return us(e,"rajon")},outlined:!1,compute:function(e){return e.rajon||""},title:"Район"},{type:o.Text,isVisible:function(e){return us(e,"ulicza")},outlined:!1,compute:function(e){return e.ulicza||""},title:"Адрес"},{type:o.Text,isVisible:function(e){return us(e,"orientir")},outlined:!1,compute:function(e){return e.orientir||""},title:"Ориентир"},{type:o.Text,isVisible:function(e){return us(e,"metro")},outlined:!1,compute:function(e){return e.metro||""},title:"Метро"},{type:o.Text,isVisible:function(e){return us(e,"kolichestvo_sotok")},outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},title:"Количество соток"},{type:o.Text,outlined:!1,compute:function(e){return[e.vid_liczenzii].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},isVisible:function(e){return us(e,"vid_liczenzii")},title:"Вид лицензии"},{type:o.Text,isVisible:function(e){return us(e,"primechanie")},outlined:!1,inputRows:4,compute:function(e){return e.primechanie||""},title:"Примечание"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"kategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return[e.kategoriya_obekta].filter((function(e){return e})).flatMap((function(e){return e})).join(", ")||""},title:"Категория объекта"},{type:o.Text,isVisible:function(e,t){var n=t.permissions;return re(us(e,"podkategoriya_obekta"),n.hasAdvertisingKategoryAddPermission)},outlined:!1,compute:function(e){return e.podkategoriya_obekta||""},title:"Подкатегория объекта"},{type:o.Text,outlined:!1,compute:(wl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenstva,e.next=3,Xl.dictService.getAgencyMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return wl.apply(this,arguments)}),title:"Номер агенства"},{type:o.Text,outlined:!1,compute:(xl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nomer_agenta,e.next=3,Xl.dictService.getAgentMap();case 3:return a=e.sent,e.abrupt("return",G.get(a,n)||n);case 5:case"end":return e.stop()}}),e)}))),function(e){return xl.apply(this,arguments)}),title:"Номер агента"}]},{type:o.Group,columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:dl}]}]}]}],ss=[".","-",'"',"'",",","(",")"],cs=function(e){var t=function(e){return"#"+Ge.apply(void 0,[e.split(" ").join("_").split("/").join("_")].concat(ss))};return e.includes(", ")?e.split(", ").map(t).join(", "):t(e)},ps={"Категория объекта":"📌","Подкатегория объекта":"📌","Новостройка или Вторичка":"👷","Район":"📍","Адрес":"🛣️","Ориентир":"🚏","Метро":"🚊","Количество комнат":"🚪","Количество спален":"🛏️","Количество соток":"🏡","Этаж":"🪜","Этажность":"🏢","Бассейн":"🏊","Общая площадь М²":"📐","Площадь дома М²":"📐","Состояние ремонта":"⚒️","Назначение объекта":"✅","Расположение объекта":"🏫","Состояние объекта":"📊","Примечание":"💡","Тип сделки":"🔹"},ds={etazh:{1:cs("Первый этаж"),2:cs("Второй этаж"),3:cs("Третий этаж"),4:cs("Четвертый этаж"),5:cs("Пятый этаж"),6:cs("Шестой этаж"),7:cs("Седьмой этаж"),8:cs("Восьмой этаж"),9:cs("Девятый этаж"),10:cs("Десятый этаж"),11:cs("Одиннадцатый этаж"),12:cs("Двенадцатый этаж"),13:cs("Тринадцатый этаж"),14:cs("Четырнадцатый этаж"),15:cs("Пятнадцатый этаж"),16:cs("Шестнадцатый этаж"),17:cs("Семнадцатый этаж"),18:cs("Восемнадцатый этаж"),19:cs("Девятнадцатый этаж"),20:cs("Двадцатый этаж"),21:cs("Двадцать первый этаж"),22:cs("Двадцать второй этаж"),23:cs("Двадцать третий этаж"),24:cs("Двадцать четвертый этаж"),25:cs("Двадцать пятый этаж"),26:cs("Двадцать шестой этаж"),27:cs("Двадцать седьмой этаж"),28:cs("Двадцать восьмой этаж"),29:cs("Двадцать девятый этаж"),30:cs("Тридцатый этаж")},etazhnost:{1:cs("Одноэтажный"),2:cs("Двухэтажный"),3:cs("Трехэтажный"),4:cs("Четырехэтажный"),5:cs("Пятиэтажный"),6:cs("Шестиэтажный"),7:cs("Семиэтажный"),8:cs("Восьмиэтажный"),9:cs("Девятиэтажный"),10:cs("Десятиэтажный")},kolichestvo_komnat:{1:cs("Одна комната"),2:cs("Две комнаты"),3:cs("Три комнаты"),4:cs("Четыре комнаты"),5:cs("Пять комнат"),6:cs("Шесть комнат"),7:cs("Семь комнат"),8:cs("Восемь комнат"),9:cs("Девять комнат"),10:cs("Десять комнат"),11:cs("Одиннадцать комнат"),12:cs("Двенадцать комнат"),13:cs("Тринадцать комнат"),14:cs("Четырнадцать комнат"),15:cs("Пятнадцать комнат"),16:cs("Шестнадцать комнат"),17:cs("Семнадцать комнат"),18:cs("Восемнадцать комнат"),19:cs("Девятнадцать комнат"),20:cs("Двадцать комнат"),21:cs("Двадцать одна комната"),22:cs("Двадцать две комнаты"),23:cs("Двадцать три комнаты"),24:cs("Двадцать четыре комнаты"),25:cs("Двадцать пять комнат")}},ms=function(e){return function(t){return t=String(t),"Метро"===e&&(t=cs(t)),"Район"===e&&(t=cs(t)),"Адрес"===e&&(t=cs(t)),"Состояние ремонта"===e&&(t=cs(t)),"Новостройка или Вторичка"===e&&(t=cs(t)),"Категория объекта"===e&&(t=cs(t)),"Подкатегория объекта"===e&&(t=cs(t)),"Состояние объекта"===e&&(t=cs(t)),"Назначение объекта"===e&&(t=cs(t)),"Расположение объекта"===e&&(t=cs(t)),"Местоположение объекта"===e&&(t=cs(t)),"Бассейн"===e&&(t=cs(t)),"Тип сделки"===e&&(t=cs(t)),t}},fs=function e(t,n,r){var a=t.isVisible;if(!(void 0===a?function(){return!0}:a)(n,r)){if(t.fields){var i,o=y(t.fields);try{for(o.s();!(i=o.n()).done;){var u=i.value;u.isVisible=function(){return!1},e(u,n,r)}}catch(l){o.e(l)}finally{o.f()}}t.child&&(t.child.isVisible=function(){return!1},e(t.child,n,r))}},ys=function(){var e=i(r().mark((function e(t,n){var a,i,o,u,l,s,c,p,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="",i=G.cloneDeep(ls),(i=De(i)).forEach((function(e){return fs(e,t,n)})),o=y(i),e.prev=5,o.s();case 7:if((u=o.n()).done){e.next=31;break}if(l=u.value,s=l.title,c=l.isVisible,p=void 0===c?function(){return!0}:c,d=l.compute,p(t,n)){e.next=11;break}return e.abrupt("continue",29);case 11:if(d&&s){e.next=13;break}return e.abrupt("continue",29);case 13:if("Заголовок для рекламы"!==s){e.next=15;break}return e.abrupt("continue",29);case 15:if("Номер агента"!==s){e.next=17;break}return e.abrupt("continue",29);case 17:if("Номер агенства"!==s){e.next=19;break}return e.abrupt("continue",29);case 19:return e.t0=a,e.t1="".concat(ps[s]||"➡️"," <b>").concat(s,":</b> "),e.t2=ms(s),e.next=24,d(t,{});case 24:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),a=e.t0+=e.t1.concat.call(e.t1,e.t4,"\n"),"Метро"===s&&(a+="\n"),"Состояние ремонта"===s&&(a+="\n");case 29:e.next=7;break;case 31:e.next=36;break;case 33:e.prev=33,e.t5=e.catch(5),o.e(e.t5);case 36:return e.prev=36,o.f(),e.finish(36);case 39:return e.abrupt("return",a);case 40:case"end":return e.stop()}}),e,null,[[5,33,36,39]])})));return function(t,n){return e.apply(this,arguments)}}(),hs=function(){var e=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentViewService.read(t);case 2:return n=e.sent,a="",i=function(e){return"uzs"===e?"сум":"у.е."},o=!1,Ie(n.kategoriya_obekta,"Коммерческая")?(n.prodazha&&n.prod_kom_startovaya_czena&&(a+="💵 <b>Продажа:</b> ".concat(n.prod_kom_startovaya_czena," ").concat(i(n.prod_kom_startovaya_czena_valyuta),"\n"),o=!0),n.arenda&&n.rent_kom_startovaya_czena&&(a+="🔑 <b>В аренду:</b> ".concat(n.rent_kom_startovaya_czena," ").concat(i(n.rent_kom_startovaya_czena_valyuta)),n.rent_kom_komissiya_agenstva&&(a+=" (Есть комиссия)"),a+="\n",o=!0)):Ie(n.kategoriya_obekta,"Жилая","Новостройка")&&(n.prodazha&&n.prod_startovaya_czena&&(a+="💵 <b>Продажа:</b> ".concat(n.prod_startovaya_czena," ").concat(i(n.prod_startovaya_czena_valyuta),"\n"),o=!0),n.arenda&&n.rent_startovaya_czena&&(a+="🔑 <b>В аренду:</b> ".concat(n.rent_startovaya_czena," ").concat(i(n.rent_startovaya_czena_valyuta)),n.rent_komissiya_agenstva&&(a+=" (Есть комиссия)"),a+="\n",o=!0)),o&&(a+="\n\n"),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vs=function(){var e=i(r().mark((function e(t,n,a){var i,o,u,s,c,p,d,m,f,y,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="",t.zagolovok_dlya_reklamy&&(i+="🏛️ <b>".concat(t.zagolovok_dlya_reklamy,"</b>\n\n")),e.t0=i,e.next=5,ys(t,a);case 5:return i=e.t0+=e.sent,e.next=8,Xl.dictService.getAgentMapRaw();case 8:return o=e.sent,e.next=11,Xl.dictService.getAgencyMapRaw();case 11:if(u=e.sent,t.nomer_agenstva&&(s=G.get(u,t.nomer_agenstva),c=s.phone,p=s.telegram,i+="\n<b>Агенство:</b>\n",i+="📲 <a href='tel:".concat(c,"'>").concat(c,"</a>\n"),i+="📩 <a href='https://t.me/".concat(p,"'>").concat(p,"</a>\n")),t.nomer_agenta&&(d=G.get(o,t.nomer_agenta),m=d.phone,f=d.telegram,i+="\n<b>Агент:</b>\n",i+="📲 <a href='tel:".concat(m,"'>").concat(m,"</a>\n"),i+="📩 <a href='https://t.me/".concat(f,"'>").concat(f,"</a>\n")),i+="\n",y=[],Object.entries(t).forEach((function(e){var t=l(e,2),n=t[0],r=t[1],a=G.get(ds,n);a&&y.push(G.get(a,r))})),!t.apartment_id){e.next=22;break}return e.t1=i,e.next=21,hs(t.apartment_id);case 21:i=e.t1+=e.sent;case 22:return e.next=24,Xl.dictService.getYoutubePrimaryLink();case 24:return e.t2=e.sent,e.next=27,Xl.dictService.getInstagramPrimaryLink();case 27:return e.t3=e.sent,e.next=30,Xl.dictService.getFacebookPrimaryLink();case 30:return e.t4=e.sent,e.next=33,Xl.dictService.getTelegramPrimaryLink();case 33:return e.t5=e.sent,h={YouTube:e.t2,Instagram:e.t3,Facebook:e.t4,Telegram:e.t5},i+=Object.entries(h).filter((function(e){return l(e,2)[1]})).map((function(e){var t=l(e,2),n=t[0],r=t[1];return"<a href='".concat(r,"'>").concat(n,"</a>")})).join(" | "),i+="\n\n",i+=y.filter((function(e){return e})).join(" "),e.abrupt("return",i);case 39:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),bs=[{type:o.Combo,outlined:!1,name:"telegram_channel",itemList:(Hl=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getTelegramMap();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Hl.apply(this,arguments)}),tr:(Ul=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getTelegramMap();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Ul.apply(this,arguments)}),title:"Канал Telegram"}],_s=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",label:"Просмотр рекламы"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasAdvertisingPublicationPermission},action:"publish-action",label:"Опубликовать в канал"},{type:Ye.Button,action:"edit-action",label:"Редактировать"}],gs=[{type:o.Fragment,isVisible:function(e){return 0===e.activeStep},fields:[{type:o.Component,element:function(){return ve(je,{variant:"h6",fontWeight:"bold",mb:2,children:"Данные контакта"})}},{type:o.Text,outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:o.Text,outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]},{type:o.Fragment,isVisible:function(e){return 2===e.activeStep},fields:[{type:o.Component,element:function(){return ve(je,{variant:"h6",fontWeight:"bold",mb:1,children:"Предпросмотр"})}},{type:o.Component,isVisible:function(e){return!e.contact_id},element:function(){return ve(rt,{variant:"outlined",color:"warning",sx:{mb:2},children:"Создавая новый объект, убедитесь, что нет дубликата контакта"})}},{type:o.Component,isVisible:function(e){return!!e.contact_id},element:function(){return ve(rt,{variant:"outlined",color:"info",sx:{mb:2},children:"Убедитесь, что это контактные данные клиента"})}},{type:o.Text,isVisible:function(e){return!!e.contact_id},compute:($l=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.fio,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return $l.apply(this,arguments)}),disabled:!0,outlined:!0,title:"Ф.И.О"},{type:o.Text,isVisible:function(e){return!!e.contact_id},compute:(Wl=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.telefon,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return Wl.apply(this,arguments)}),fieldBottomMargin:"0",disabled:!0,outlined:!0,title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000"},{type:o.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:o.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]}],ks=[{type:Ye.Link,action:"list-action",label:"Список объектов"},{type:Ye.Link,action:"list-action",label:"Создание объекта"}],xs=al()((function(e){return{root:{position:"relative",overflow:"hidden"},header:{position:"absolute",top:0,left:0,height:65,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),background:"whitesmoke",width:"100%"},content:{minHeight:300},adjust:{paddingBottom:65},listItemBackground:{background:fe(e.palette.primary.main,.05)}}})),ws=me.createLoader(12),Ss=[{id:"owner_contact",label:"Контакт",isActive:function(){return rs(["/apartment_edit/:id/owner_contact"])}},{id:"object",label:"Объект",isActive:function(){return rs(["/apartment_edit/:id","/apartment_edit/:id/object"])}},{id:"tasks",isDisabled:function(){return!0},label:"Задачи",isActive:function(){return rs(["/apartment_edit/:id/tasks"])}},{id:"advertising",isDisabled:function(){return!0},label:"Реклама",isActive:function(){return rs(["/apartment_edit/:id/advertising"])}},{id:"service_comment",isDisabled:function(){return!0},label:"Служебный комментарий",isActive:function(){return rs(["/apartment_edit/:id/service_comment"])}},{id:"history",isDisabled:function(){return!0},label:"История",isActive:function(){return rs(["/apartment_edit/:id/history"])}},{id:"documents",label:"Документы",isActive:function(){return rs(["/apartment_edit/:id/documents"])}},{id:"commission_and_status",label:"Комиссия и статус",isDisabled:function(){return!0},isActive:function(){return rs(["/apartment_edit/:id/commission_and_status"])}}],zs=function(e,t){if(!t){var n=Ql("id","create");"owner_contact"===e&&Xl.routerService.replace("/apartment_edit/".concat(n,"/owner_contact")),"object"===e&&Xl.routerService.replace("/apartment_edit/".concat(n,"/object")),"tasks"===e&&Xl.routerService.replace("/apartment_edit/".concat(n,"/tasks")),"advertising"===e&&Xl.routerService.replace("/apartment_edit/".concat(n,"/advertising")),"service_comment"===e&&Xl.routerService.replace("/apartment_edit/".concat(n,"/service_comment")),"history"===e&&Xl.routerService.replace("/apartment_edit/".concat(n,"/history")),"documents"===e&&Xl.routerService.replace("/apartment_edit/".concat(n,"/documents")),"commission_and_status"===e&&Xl.routerService.replace("/apartment_edit/".concat(n,"/commission_and_status"))}},Ts=function(e){var t=e.payload,n=e.children,r=e.mode,a=void 0===r?W.Paper:r,i=ye.useMemo((function(){return"tabs"===a?W.Tabs:W.Paper}),[a]);return ve($e,{withFixedPos:!0,fixedPosHeaderAdjust:a===W.Paper?85:64,mode:i,options:Ss,payload:t,onActiveOptionChange:zs,children:n})},As=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование документа"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание документа"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],Fs=function(e){var t,n,a=e.data,o=e.onSubmit,u=e.onChange,l=e.fullScreen,s=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),c=s.handleLoadStart,p=s.handleLoadEnd,d=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return e.next=3,o(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return gt({data:a,fullScreen:l,fallback:Xl.errorService.handleGlobalError,onClick:(n=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getFileURL(t);case 2:return n=e.sent,e.next=5,Xl.appwriteService.readFileName(t);case 5:a=e.sent,_t(n,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onUpload:function(e){return Xl.appwriteService.uploadFile(e)},onLoadStart:c,onLoadEnd:p,onSubmit:d,onChange:u,submitLabel:"Сохранить",tr:(t=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.tryReadFileName(t);case 2:return n=e.sent,e.abrupt("return",n||t);case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})},Cs=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",label:"Просмотр документа"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasApartmentUpdatePermission},action:"edit-action",label:"Редактировать"}],Vs={allowCustomElements:!0,allowElements:["text-underline","blank-link"],allowAttributes:{href:["blank-link"]}},Ms=ye.forwardRef((function(e,t){var n,a,o=e.item,u=e.loading,l=e.className,s=e.style;return ve("div",{className:l,style:s,ref:t,children:ve(it,{sx:{position:"relative",overflow:"hidden"},children:[ve(kt,{children:[ve(xt,{children:ve(we,{loading:u,payload:o,Loader:function(){return ve(wt,{variant:"circular",width:40,height:40})},children:(a=i(r().mark((function e(t){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,e.next=3,Xl.userViewService.tryRead(n);case 3:if(null==(a=e.sent)||!a.avatar){e.next=10;break}return e.next=7,Xl.appwriteService.getImageURL(a.avatar);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=void 0;case 11:return i=e.t0,e.abrupt("return",ve(St,{alt:null==a?void 0:a.email,src:i,sx:{height:40,mr:2,width:40}}));case 13:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})})}),ve(we,{loading:u,payload:o,Loader:function(){return ve(Me,{flex:1,children:[ve(wt,{sx:{mb:1},variant:"rectangular",width:210,height:22}),ve(wt,{variant:"rectangular",width:170,height:22})]})},children:(n=i(r().mark((function e(t){var n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,a=t.type,e.next=3,Xl.userViewService.tryRead(n);case 3:return i=e.sent,o=[null==i?void 0:i.first_name,null==i?void 0:i.last_name,null==i?void 0:i.middle_name].filter((function(e){return e})).join(" "),u=function(){return"deal-begin"===a?"Создал сделку":"deal-end"===a?"Завершил сделку":"deal-reassign"===a?"Взял ответственность":"deal-status"===a?"Изменил статус":"Что-то сделал"},e.abrupt("return",ve(ft,{primary:o,secondary:u()}));case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}),ve(je,{children:h(o.$createdAt).format("HH:mm DD/MM/YYYY")})]}),!!o.comment&&ve(ge,{component:"pre",sx:{ml:1,mr:1,mb:1},children:ve(zt,{config:Vs,handler:function(){return o.comment}})}),ve(ge,{sx:{position:"absolute",top:0,left:0,bottom:0,width:6,zIndex:1,background:"skyblue"}})]})})})),Ls="real-estate__headerRoot",Is=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",label:"Просмотр истории"}],Bs=[{type:At.Add,isDisabled:function(e,t){return!t.permissions.hasApartmentCreatePermission},label:"Создать"},{type:At.Fab,action:"column-setup-action",icon:Ft,label:"Колонки"},{type:At.Menu,options:[{action:"add-action",isDisabled:function(e,t){return!t.permissions.hasApartmentCreatePermission}},{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],js=me.createLoader(28),Ds=[{type:Ct.Compute,sortable:!1,field:"index",description:"Номер объекта",headerName:"Номер",element:function(e){var t=e.index;return ve(Vt,{content:t})},width:function(){return 100}},{type:Ct.Compute,sortable:!1,field:"photo",description:"Фотография объекта",headerName:"Фото",width:function(){return 150},element:function(e){var t,n=e.apartment_images;return ve(ge,{style:{height:64,width:128,display:"flex",alignItems:"center",background:"#ccc",justifyContent:"center"},children:ve(we,{Loader:js,children:(t=i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n?n[0]:null)){e.next=7;break}return e.next=4,Xl.appwriteService.getImageURL(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0="";case 8:return a=e.t0,e.abrupt("return",ve(Le,{children:a?ve("img",{crossOrigin:"anonymous",loading:"lazy",alt:"apartment",src:a,style:{objectFit:"cover",height:"100%",width:"100%"}}):ve(Se,{sx:{color:"white",fontSize:28}})}));case 10:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})})}},{type:Ct.Text,sortable:!0,field:"zagolovok",description:"Заголовок объекта",headerName:"Заголовок",width:function(){return 200}},{type:Ct.Text,sortable:!0,field:"kolichestvo_komnat",description:"Количество комнат у объекта",fullName:"Количество комнат",headerName:"Комнат",width:function(){return 100}},{type:Ct.Text,sortable:!0,field:"etazh",description:"Количество этажей объекта",headerName:"Этаж",width:function(){return 100}},{type:Ct.Text,sortable:!0,field:"etazhnost",description:"Этажность объекта",headerName:"Этажность",width:function(){return 100}},{type:Ct.Compute,sortable:!0,field:"ploshhad",description:"Площадь объекта",compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return!!e})).join(", ")},headerName:"Площадь М²",width:function(){return 200}},{type:Ct.Compute,sortable:!0,description:"Адрес",field:"adres",compute:function(e){return[e.strana,e.gorod,e.oblast,e.rajon,e.mahallya,e.ulicza,e.orientir].filter((function(e){return!!e})).join(", ")},headerName:"Адрес",width:function(){return 250}},{type:Ct.Compute,field:"kategoriya_obekta",description:"Категория объекта",sortable:!0,compute:function(e){var t;return(null===(t=e.kategoriya_obekta)||void 0===t?void 0:t.join(", "))||""},headerName:"Категория",width:function(){return 200}},{type:Ct.Compute,description:"Продажа",field:"czena_prodazha",sortable:!0,isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},compute:(Zl=i(r().mark((function e(t){var n,a,i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.prod_startovaya_czena,a=t.prod_startovaya_czena_valyuta,i=t.prod_startovaya_czena_for,o=t.prod_kom_startovaya_czena,u=t.prod_kom_startovaya_czena_valyuta,l=t.prod_kom_startovaya_czena_for,!n){e.next=3;break}return e.abrupt("return","".concat(n," ").concat("uzs"===a?"UZS":"USD"," (").concat((null==i?void 0:i.join(""))||"Итог",")"));case 3:if(!o){e.next=5;break}return e.abrupt("return","".concat(o," ").concat("uzs"===u?"UZS":"USD"," (").concat((null==l?void 0:l.join(""))||"Итог",")"));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)}))),function(e){return Zl.apply(this,arguments)}),headerName:"Цена (Продажа)",width:function(){return 200}},{type:Ct.Compute,description:"Аренда",field:"czena_arenda",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(Kl=i(r().mark((function e(t){var n,a,i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rent_startovaya_czena,a=t.rent_startovaya_czena_valyuta,i=t.rent_startovaya_czena_for,o=t.rent_kom_startovaya_czena,u=t.rent_kom_startovaya_czena_valyuta,l=t.rent_kom_startovaya_czena_for,!n){e.next=3;break}return e.abrupt("return","".concat(n," ").concat("uzs"===a?"UZS":"USD"," (").concat((null==i?void 0:i.join(""))||"Итог",")"));case 3:if(!o){e.next=5;break}return e.abrupt("return","".concat(o," ").concat("uzs"===u?"UZS":"USD"," (").concat((null==l?void 0:l.join(""))||"Итог",")"));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)}))),function(e){return Kl.apply(this,arguments)}),headerName:"Цена (Аренда)",width:function(){return 200}},{type:Ct.Compute,sortable:!0,description:"Источник",field:"istochnik",compute:function(e){return e.istochnik||""},headerName:"Источник",width:function(){return 150}},{type:Ct.Compute,description:"Статус объекта",sortable:!1,field:"status",headerName:"Статус",compute:(Yl=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xl.dealViewService.readStatusByApartmentId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return Yl.apply(this,arguments)}),width:function(){return 150}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasFioPermission},description:"Фамилия, имя, отчество контакта",sortable:!1,field:"fio",compute:(Gl=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:return a=e.sent,e.abrupt("return",a?a.fio:"");case 5:case"end":return e.stop()}}),e)}))),function(e){return Gl.apply(this,arguments)}),headerName:"Ф.И.О Контакта",width:function(){return 200}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasPreviewModeDisabled},sortable:!1,field:"telefon",description:"Номер телефона контакта",element:function(e){var t,n=e.id,a=e.contact_id;return ve(Mt,{payload:n,condition:function(e){return Xl.permissionRequestService.getOwnerContactPermissionByApartmentId(e)},Loading:"Загрузка",Else:"Скрыто",children:ve(we,{payload:a,children:(t=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",n?n.telefon:"");case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})})},headerName:"Номер телефона",width:function(){return 200}},{type:Ct.Compute,field:"$createdAt",description:"Дата создания объекта",headerName:"Дата создания",compute:function(e){var t=e.$createdAt;return h(t).format("DD/MM/YYYY")},sortable:!0,width:function(){return 200}},{type:Ct.Compute,field:"$updatedAt",description:"Дата обновления объекта",sortable:!0,headerName:"Дата обновления",compute:function(e){var t=e.$updatedAt;return h(t).format("DD/MM/YYYY")},width:function(){return 200}},{type:Ct.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],Rs=[{label:"Жилая",name:"zhilaya"},{label:"Коммерческая",name:"kommercheskaya"},{label:"Новостройка",name:"novostrojka"}],qs=[{label:"Редактировать",isDisabled:function(e,t){return!t.permissions.hasApartmentUpdatePermission},action:"edit-action",icon:Lt},{label:"В архиве",action:"toggle-archive",icon:It,isVisible:function(e){var t=e.system_is_archive,n=e.system_is_remove;return re(!t,!n)}},{label:"В архиве",action:"toggle-archive",icon:Bt,isVisible:function(e){var t=e.system_is_archive,n=e.system_is_remove;return re(!!t,!n)}},{label:"Удалить",action:"toggle-remove",icon:jt,isVisible:function(e){var t=e.system_is_archive,n=e.system_is_remove;return re(!n,!t)}},{label:"Восстановить",action:"toggle-remove",icon:Dt,isVisible:function(e){var t=e.system_is_archive,n=e.system_is_remove;return re(!!n,!t)}},{label:"Создать копию",isVisible:function(e){return 5===e.accessLevel},action:"copy-action",icon:Rt}],Ps=function(e){var t=e.name,n=e.columns,r=e.title,a=e.isVisible,i=e.inputFormatterAllowed,u=e.inputFormatterTemplate;return{type:o.Group,isVisible:a,columns:n,fields:[{type:o.Component,fieldRightMargin:"0",fieldBottomMargin:"0",element:function(){return ve(je,{variant:"caption",sx:{opacity:.8},children:r})}},{type:o.Text,sx:{"& .MuiIconButton-root":{pointerEvents:"none"}},isInvalid:function(e){return e["".concat(t,"_ot")]&&e["".concat(t,"_do")]&&parseInt(e["".concat(t,"_ot")])>parseInt(e["".concat(t,"_do")])?"От должно быть меньше До":null},title:"",columns:"6",outlined:!1,inputFormatterAllowed:i,inputFormatterTemplate:u,name:"".concat(t,"_ot"),leadingIcon:function(){return ve(ge,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ve(je,{textTransform:"lowercase",variant:"caption",children:"От"})})}},{type:o.Text,sx:{"& .MuiIconButton-root":{pointerEvents:"none"}},isInvalid:function(e){return e["".concat(t,"_ot")]&&e["".concat(t,"_do")]&&parseInt(e["".concat(t,"_ot")])>parseInt(e["".concat(t,"_do")])?"От должно быть меньше До":null},title:"",columns:"6",outlined:!1,inputFormatterAllowed:i,inputFormatterTemplate:u,name:"".concat(t,"_do"),leadingIcon:function(){return ve(ge,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ve(je,{textTransform:"lowercase",variant:"caption",children:"До"})})}}]}},Es=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая недвижимость)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Земля/Участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Квартиры)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Дома)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая квартира)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческий дом)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая земля/участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]}],Ns=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая недвижимость)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Терраса","Угловой","Комната охраны","Вдоль дороги","Сарай","Огород","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая квартира)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж","Угловой","Вдоль дороги"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческий дом)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Комната охраны","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Вдоль дороги","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая земля/участок)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],Os=[{type:o.Fragment,isVisible:function(e){return(!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.kategoriya_obekta,"Коммерческая")))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая недвижимость)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_obekta",title:"Состояние объекта",itemList:["Новой постройки","Недостроенный","Под снос","Коробка","Пустая земля/участок"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Items,columns:"3",outlined:!1,name:"voda",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kommercziya",title:"Лифт",itemList:["Есть","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya",title:"Канализация",itemList:["Да","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Items,columns:"3",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}}]}},{type:o.Fragment,isVisible:function(e){if(Ie(e.podkategoriya_obekta,"Квартиры")&&Ie(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Квартиры)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]}]}},{type:o.Fragment,isVisible:function(e){if(Ie(e.podkategoriya_obekta,"Дома")&&Ie(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Дома)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]}]}},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")&&Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Земля/Участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Component,sx:{mb:2,pr:1},columns:"3",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Items,columns:"3",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Квартиры"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая квартира)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Complete,columns:"3",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Дома"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческий дом)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,columns:"3",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Земля/Участок"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая земля/участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Component,sx:{mt:2,mb:2,pr:1},columns:"3",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}}],Us=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Квартиры)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Дома)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Комната охраны","Вдоль дороги","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||Ie(e.podkategoriya_obekta,"Земля/Участок"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Земля/Участок)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],Hs=al()((function(e){return{row:{display:"grid",gridTemplateColumns:"1fr 1fr auto",alignItems:"flex-end"},input:{paddingRight:"4px",paddingBottom:"4px"},onlyInput:{maxWidth:"500px",width:"100%"},select:{margin:"0 5px"},checkbox:{}}})),Ws=function(e){var t=e.className,n=e.style,r=e.sx,a=e.value_ot,i=void 0===a?"":a,o=e.value_do,u=void 0===o?"":o,l=e.unit,s=void 0===l?"usd":l,c=e.title,p=e.readonly,d=e.onChange,m=qt(),f=m.reloadTrigger,y=m.doReload,h=ye.useMemo((function(){return function(e){return"uzs"===e?"uzs":"usd"}(s)}),[s]),v=Je(p);ye.useEffect((function(){return v.subscribe((function(e){e&&y()}))}),[]);return ve(Le,{children:[ve(je,{sx:{mb:-2.5},variant:"caption",children:c}),ve("div",{}),ve("div",{}),ve(Pt,{defaultValue:i,value:p?i:void 0,className:t,style:n,sx:r,onChange:function(e){var t=e.target,n=isNaN(t.value)?i:t.value;t.value=n,d({unit:h,value_do:u,value_ot:n})},variant:"standard",fullWidth:!0,InputProps:{startAdornment:ve(Et,{sx:{userSelect:"none",pointerEvents:"none"},position:"start",children:ve(ge,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ve(je,{textTransform:"lowercase",variant:"caption",children:"От"})})})}},f),ve(Pt,{defaultValue:u,value:p?u:void 0,className:t,style:n,sx:r,onChange:function(e){var t=e.target,n=isNaN(t.value)?u:t.value;t.value=n,d({unit:h,value_do:n,value_ot:i})},variant:"standard",fullWidth:!0,InputProps:{startAdornment:ve(Et,{sx:{userSelect:"none",pointerEvents:"none"},position:"start",children:ve(ge,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ve(je,{textTransform:"lowercase",variant:"caption",children:"До"})})})}},f),ve(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:55,width:55},children:ve(Ae,{size:"small",onClick:function(){"usd"===h&&d({value_ot:i,value_do:u,unit:"uzs"}),"uzs"===h&&d({value_ot:i,value_do:u,unit:"usd"})},children:["usd"===h&&ve(Nt,{}),"uzs"===h&&ve(ge,{sx:{position:"relative",height:36,width:36},children:ve("span",{style:{fontWeight:"bold",position:"absolute",top:"50%",left:"50%",fontSize:"12px",transform:"translate(-50%, -50%)"},children:"SUM"})})]})})]})},$s=function(e){var t=e.className,n=e.style,r=e.sx,a=e.title,i=e.readonly,o=e.value,u=void 0===o?"":o,l=e.unit,s=void 0===l?"%":l,c=e.onChange,p=qt(),d=(p.reloadTrigger,p.doReload),m=ye.useMemo((function(){return function(e){return"1"===e?"1":"%"}(s)}),[s]),f=Je(i);ye.useEffect((function(){return f.subscribe((function(e){e&&d()}))}),[]);return ve(Pt,{label:a,className:t,style:n,sx:r,defaultValue:u,value:i?u:void 0,onChange:function(e){var t=e.target,n=isNaN(t.value)?u:t.value;t.value=n,c({unit:m,value:n})},variant:"standard",fullWidth:!0,InputProps:{startAdornment:ve(Et,{sx:{userSelect:"none",cursor:"pointer"},onClick:function(){"1"===m&&c({unit:"%",value:u}),"%"===m&&c({unit:"1",value:u})},position:"start",children:["%"===m&&ve(Ot,{}),"1"===m&&ve(Ut,{})]})}})},Gs={},Ys=["komissiya_agenstva_unit","czena_sobstvennika_ot","czena_sobstvennika_do","startovaya_czena_valyuta","komissiya_menedzhera","komissiya_agenstva","komissiya_menedzhera_unit","startovaya_czena_ot","startovaya_czena_do","torg"],Ks=function(e){var t=e.isViewMode,n=e.value,r=void 0===n?Gs:n,a=e.title,i=e.prefix,o=e.readonly,s=e.onChange,c=Hs().classes,p=ye.useCallback((function(){var e=Object.entries(r).map((function(e){var t=l(e,2),n=t[0],r=t[1];return[Ge(n,i),r]})).filter((function(e){var t=l(e,1)[0];return Ys.includes(t)}));return Object.fromEntries(e)}),[r]),d=l(ye.useState(p),2),m=d[0],f=d[1],y=ye.useMemo((function(){return G.debounce(s,0)}),[]),h=Ht((function(){var e=Object.entries(m).map((function(e){var t=l(e,2),n=t[0],r=t[1];return[i+n,r]}));y(Object.fromEntries(e))}),[m]).resetWatcher;return Ht((function(){h(),f(p)}),[r]),ye.useEffect((function(){return function(){y.flush()}}),[]),ve(Le,t?{children:[ve(je,{variant:"h6",fontWeight:"bold",children:a}),ve(Ws,{title:"Стартовая цена",readonly:o,unit:m.startovaya_czena_valyuta,value_ot:m.startovaya_czena_ot,value_do:m.startovaya_czena_do,onChange:function(e){var t=e.unit,n=e.value_ot,r=e.value_do;return f((function(e){return u(u({},e),{},{startovaya_czena_valyuta:t,startovaya_czena_ot:n,startovaya_czena_do:r})}))},className:c.onlyInput})]}:{children:[ve(je,{variant:"h6",fontWeight:"bold",children:a}),ve(ge,{className:c.row,children:[ve(Ws,{title:"Бюджет клиента",readonly:o,unit:m.startovaya_czena_valyuta,value_ot:m.czena_sobstvennika_ot,value_do:m.czena_sobstvennika_do,onChange:function(e){var t=e.unit,n=e.value_ot,r=e.value_do;return f((function(e){return u(u({},e),{},{startovaya_czena_valyuta:t,czena_sobstvennika_ot:n,czena_sobstvennika_do:r})}))},className:c.input}),ve(Ws,{title:"Стартовая цена",readonly:o,unit:m.startovaya_czena_valyuta,value_ot:m.startovaya_czena_ot,value_do:m.startovaya_czena_do,onChange:function(e){var t=e.unit,n=e.value_ot,r=e.value_do;return f((function(e){return u(u({},e),{},{startovaya_czena_valyuta:t,startovaya_czena_ot:n,startovaya_czena_do:r})}))},className:c.input})]}),ve(ge,{className:c.row,children:ve(Wt,{className:c.checkbox,control:ve(xe,{checked:m.torg}),onChange:function(){return f((function(e){return u(u({},e),{},{torg:!e.torg})}))},label:"Торг"})}),!t&&ve(ge,{className:c.row,children:[ve($s,{readonly:o,title:"Комиссия агенства",unit:m.komissiya_agenstva_unit,value:m.komissiya_agenstva,onChange:function(e){var t=e.unit,n=e.value;return f((function(e){return u(u({},e),{},{komissiya_agenstva_unit:t,komissiya_agenstva:n})}))},className:c.input}),ve($s,{readonly:o,title:"Комиссия менеджера",unit:m.komissiya_menedzhera_unit,value:m.komissiya_menedzhera,onChange:function(e){var t=e.unit,n=e.value;return f((function(e){return u(u({},e),{},{komissiya_menedzhera_unit:t,komissiya_menedzhera:n})}))},className:c.input})]})]})},Zs=54,Xs=al()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",overflow:"hidden",paddingBottom:"10px"},typogrphy:{padding:"10px"},container:{overflowX:"hidden",overflowY:"scroll",padding:e.spacing(1),flex:1},appBarRoot:{background:e.palette.primary.main,maxHeight:Zs,height:Zs,boxShadow:"unset",color:"#000"},tabsRoot:{minHeight:Zs,height:Zs,marginLeft:"0 !important",marginRight:"0 !important"},tabRoot:{minHeight:Zs,height:Zs,color:"#fff"},tabRootTransparent:{minHeight:Zs,height:Zs},tabSelected:{color:"#fff !important"},indicator:{height:6,background:"#0288d1"},indicatorTransparent:{height:6,background:e.palette.primary.main}}})),Js=function(e){var t=e.sx,n=e.withTransparentHeader,r=e.withRentTab,a=e.withSellTab,i=e.readonly,o=e.isViewMode,s=void 0!==o&&o,c=e.fieldData,p=e.onChange,d=void 0===p?function(){}:p,m=Xs().classes,f=l(ye.useState("rent"),2),y=f[0],h=f[1],v=ye.useMemo((function(){return Ie(c.kategoriya_obekta,"Жилая","Новостройка")}),[c]),b=ye.useMemo((function(){return Ie(c.kategoriya_obekta,"Коммерческая")}),[c]);return ye.useEffect((function(){a?h("sell"):r&&h("rent")}),[r,a]),ve(it,{className:m.root,sx:u(u({},t),{},{height:"100%"}),children:ve($t,{value:y,children:[n&&ve(ge,{sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:ve(Gt,{variant:"fullWidth",classes:{root:m.tabsRoot,indicator:m.indicatorTransparent},onChange:function(e,t){return h(t)},children:[a&&ve(Yt,{classes:{root:m.tabRootTransparent},label:"Покупка",value:"sell"}),r&&ve(Yt,{classes:{root:m.tabRootTransparent},label:"Аренда",value:"rent"})]})}),!n&&ve(Kt,{classes:{root:m.appBarRoot},position:"static",sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:ve(Gt,{variant:"fullWidth",classes:{root:m.tabsRoot,indicator:m.indicator},onChange:function(e,t){return h(t)},children:[a&&ve(Yt,{classes:{root:m.tabRoot,selected:m.tabSelected},label:"Покупка",value:"sell"}),r&&ve(Yt,{classes:{root:m.tabRoot,selected:m.tabSelected},label:"Аренда",value:"rent"})]})}),a&&ve(Zt,{className:m.container,sx:{pointerEvents:i?"none":"unset"},value:"sell",children:[v&&ve(Ks,{readonly:i,isViewMode:s,title:"Покупка",prefix:"prod_",value:c,onChange:d}),b&&ve(Ks,{readonly:i,isViewMode:s,title:"Покупка ком.",prefix:"prod_kom_",value:c,onChange:d})]}),r&&ve(Zt,{className:m.container,sx:{pointerEvents:i?"none":"unset"},value:"rent",children:[v&&ve(Ks,{readonly:i,isViewMode:s,title:"Аренда",prefix:"rent_",value:c,onChange:d}),b&&ve(Ks,{readonly:i,isViewMode:s,title:"Аренда ком.",prefix:"rent_kom_",value:c,onChange:d})]})]})})},Qs=[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:o.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:o.Fragment,isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Combo,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:o.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:o.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Items,isVisible:function(e){if(Ie(e.kategoriya_obekta,"Коммерческая")){if(Ie(e.podkategoriya_obekta,"Дома"))return!1;if(Ie(e.podkategoriya_obekta,"Земля/Участок"))return!1}return!0},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Combo,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Дома"))||!Ie(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:o.Combo,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:o.Items,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Земля/Участок"))},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Combo,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:o.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:o.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Combo,columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:o.Complete,isVisible:function(e){return!!Ie(e.podkategoriya_obekta,"Квартиры")&&!Ie(e.kategoriya_obekta,"Коммерческая")},columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:o.Combo,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:o.Items,isVisible:function(e){var t=!1;return t=(t=(t=t||Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Items,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]}]}].concat(Os,Us,Ns,Es,[{type:o.Component,fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=(t=t||null!==e.kategoriya_obekta)||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData;return ve(Js,{withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}}]);window.apartment_filters=Qs;var ec=function(){return Xt(Xl.apartmentViewService.paginate,{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError})},tc=al()({dialog_wrapper:{width:"100%",maxwidth:"400px",boxSizing:"border-box"},dialog:{"&:first-of-type":{padding:0},width:"100%",boxSizing:"border-box"}}),nc=function(e){var r=e.children,a=e.disabled,i=e.invalid,o=e.dividers,l=void 0!==o&&o,s=e.canCancel,c=void 0===s||s,p=e.noSave,d=void 0!==p&&p,m=e.onAccept,f=void 0===m?function(){return console.log("accept")}:m,y=e.onDismiss,h=void 0===y?function(){return console.log("dismiss")}:y,v=n(e,t),b=tc().classes;return ve(tn,u(u({},v),{},{className:b.dialog_wrapper,children:[ve(Jt,{dividers:l,className:b.dialog,children:r}),ve(Qt,{children:[!d&&ve(en,{disabled:a||i,color:"primary",onClick:f,children:"OK"}),c&&ve(en,{disabled:a,color:"primary",onClick:h,children:"Отмена"})]})]}))},rc=al()((function(e,t,n){return{inactive:{opacity:.5},container:{boxSizing:"border-box",width:"400px",height:340},list:d({boxSizing:"border-box",width:"100%"},"& > .".concat(n.item,":nth-of-type(2n)"),{background:fe(e.palette.getContrastText(e.palette.background.paper),.04)}),item:{"& .MuiListItemText-root > .MuiTypography-root":{width:"100%",overflow:"hidden",textOverflow:"ellipsis"}},item_right_side:{display:"flex",alignItems:"center",gap:"5px"}}})),ac=function(e){var t=e.columns,n=e.storageKey,r=rc().classes,a=l(ye.useState(!1),2),i=a[0],o=a[1],s=ye.useMemo((function(){return nn("".concat(n,"_v1"))}),[]),c=l(ye.useState((function(){var e=s.getValue();return e||(e=t.filter((function(e){return e.field})).filter((function(e){return e.type!==Ct.Action})).map((function(e){return{field:e.field,show:!0,displayName:e.fullName||e.headerName||String(e.field)}}))),e})),2),p=c[0],d=c[1],m=ye.useMemo((function(){var e=p.filter((function(e){return e.show})).map((function(e){var n=e.field;return t.find((function(e){return e.field===n}))})).filter((function(e){return e})),n=t.find((function(e){return e.type===Ct.Action}));return n&&e.push(n),e}),[]),y=function(){s.setValue(p),U()};return{open:i,render:function(){return ve(nc,{open:i,onAccept:y,onDismiss:function(){return o(!1)},children:ve(ge,{className:r.container,children:ve(pt,{className:r.list,disablePadding:!0,children:p.map((function(e,t){return ve(kt,{className:r.item,children:[ve(ft,{primary:e.displayName}),ve(ge,{className:r.item_right_side,children:[ve(Ae,{onClick:function(){return t=e.field,void(0!==(n=p.findIndex((function(e){return e.field===t})))&&d((function(e){var t=e[n];return e[n]=e[n-1],e[n-1]=t,f(e)})));var t,n},disabled:0==t||!e.show,children:ve(rn,{})}),ve(Ae,{onClick:function(){return t=e.field,void((n=p.findIndex((function(e){return e.field===t})))!==p.length&&d((function(e){var t=e[n];return e[n]=e[n+1],e[n+1]=t,f(e)})));var t,n},disabled:t==p.length-1||!e.show,children:ve(an,{})}),ve(on,{checked:e.show,onClick:function(){return t=e.field,d((function(e){return e.map((function(e){return e.field===t?u(u({},e),{},{show:!e.show}):e}))}));var t}})]})]},t)}))})})})},columns:m,pickColumns:function(){return o(!0)}}},ic=me.createLoader(12),oc=function(){return ve(ge,{sx:{mb:1,minHeight:32},children:ve(un,{sx:{height:"100%"},hideOverflowY:!0,children:ve(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"stretch",gap:1},children:[ve(je,{variant:"subtitle2",children:"Объекты:"}),ve(we,{payload:null,Loader:ic,children:(t=i(r().mark((function e(){var t,n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentRequestService.getAllApartmentCount();case 2:return t=e.sent,e.next=5,Xl.apartmentRequestService.getRentApartmentCount();case 5:return n=e.sent,e.next=8,Xl.apartmentRequestService.getSellApartmentCount();case 8:return a=e.sent,e.next=11,Xl.apartmentRequestService.getArchiveApartmentCount();case 11:return i=e.sent,e.next=14,Xl.apartmentRequestService.getNewApartmentCount();case 14:return o=e.sent,e.abrupt("return",ve(Me,{direction:"row",gap:1,sx:{pointerEvents:"none"},children:[ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Всего ",t]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Аренда ",n]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Продажа ",a]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Архив ",i]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Новые ",o]}),ve(ln,{orientation:"vertical"})]})]}));case 16:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})}),ve(je,{variant:"subtitle2",children:"Сделки:"}),ve(we,{Loader:ic,children:(e=i(r().mark((function e(){var t,n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentRequestService.getMyDealCount();case 2:return t=e.sent,e.next=5,Xl.apartmentRequestService.getTotalDealCount();case 5:return n=e.sent,e.next=8,Xl.apartmentRequestService.getNewDealCount();case 8:return a=e.sent,e.next=11,Xl.apartmentRequestService.getArchiveDealCount();case 11:return i=e.sent,e.abrupt("return",ve(Me,{direction:"row",gap:1,sx:{pointerEvents:"none"},children:[ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Всего ",n]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Мои ",t]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Новые ",a]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Архив ",i]}),ve(ln,{orientation:"vertical"})]})]}));case 13:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})]})})});var e,t},uc=function(){return Xt(Xl.userViewService.findAll,{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError})},lc=me.createLoader(28),sc=[{type:o.Text,outlined:!0,name:"email",title:"Email"},{type:o.Text,outlined:!0,name:"phone",title:"Телефон"}],cc=[{type:Ct.Component,sortable:!1,headerName:"Аватар",width:function(){return 65},element:function(e){var t,n=e.avatar,a=e.email;return ve(we,{Loader:lc,children:(t=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,Xl.appwriteService.getImageURL(n);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:return t=e.t0,e.abrupt("return",ve(ge,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:ve(St,{src:t||void 0,alt:a})}));case 9:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})}},{type:Ct.Compute,sortable:!1,headerName:"Имя",compute:function(e){var t=e.first_name,n=void 0===t?"":t,r=e.last_name,a=void 0===r?"":r,i=e.middle_name;return[n,a,void 0===i?"":i].filter((function(e){return e.length})).join(" ")||"Unset"},width:function(e){return Math.max(e/3-65,200)}},{type:Ct.Compute,sortable:!1,compute:function(e){return e.phone||"Unset"},field:"phone",headerName:"Телефон",width:function(e){return Math.max(e/3-65,200)}},{type:Ct.Compute,sortable:!1,compute:function(e){return e.email||"Unset"},field:"email",headerName:"Email",width:function(e){return Math.max(e/3-65,200)}}],pc=function(e){var t=e.payload,n=uc(),r=he(),a=cn({withSearch:!0,withLoader:!0,slots:{FilterListSlot:pn},noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:Xl.userViewService.reloadSubject,selectionMode:dn.Single,onSubmit:function(e){return r.next(e),!0},filterLabel:"Выбрать сотрудника",filters:sc,columns:cc,handler:n,payload:t}),i=a.pickData,o=a.render,u=a.open;return{pickData:i,render:o,resultSubject:r,open:u}};me.createLoader(24);var dc=[{type:o.Fragment,isVisible:function(e){return!e.kontakt||!!Ie(e.kontakt,"Физическое лицо")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",columns:"6",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:o.Combo,outlined:!1,name:"kontakt",title:"Контакт",itemList:["Физическое лицо","Юридическое лицо"]},{type:o.Text,outlined:!1,name:"fio",title:"Ф.И.О."},{type:o.Text,description:"Основной",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon",title:"Телефон"},{type:o.Combo,outlined:!1,name:"tip_klienta",title:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:o.Combo,outlined:!1,name:"status_klienta",title:"Статус клиента",itemList:["VIP-клиент","Клиент","Постоянный клиент","Специальный клиент","Черный список"]},{type:o.Combo,outlined:!1,name:"loyalnost_klienta",title:"Лояльность клиента",itemList:["Высокая","Средняя","Низкая"]},{type:o.Text,outlined:!1,name:"email",title:"Email"},{type:o.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Xl.routerService.location.pathname.includes("bid_view"))&&!Xl.routerService.location.pathname.includes("bid_edit")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:o.Text,outlined:!1,name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:o.Text,outlined:!1,name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]},{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"0",columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:o.Text,outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:o.Combo,outlined:!1,name:"pol",title:"Пол",itemList:["Мужской","Женский"]},{type:o.Text,outlined:!1,name:"pinfl",title:"ПИНФЛ"},{type:o.Text,outlined:!1,name:"inn",title:"ИНН"}]}]}]},{type:o.Fragment,isVisible:function(e){return!!Ie(e.kontakt,"Юридическое лицо")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",columns:"6",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:o.Combo,outlined:!1,name:"kontakt",title:"Контакт",itemList:["Физическое лицо","Юридическое лицо"]},{type:o.Text,outlined:!1,name:"naimenovanie_organizaczii",title:"Наименование организации"},{type:o.Text,outlined:!1,name:"fio",title:"Ф.И.О."},{type:o.Text,description:"Основной",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon",title:"Телефон"},{type:o.Combo,outlined:!1,name:"tip_klienta",title:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:o.Combo,outlined:!1,name:"status_klienta",title:"Статус клиента",itemList:["VIP-клиент","Клиент","Постоянный клиент","Специальный клиент","Черный список"]},{type:o.Combo,outlined:!1,name:"loyalnost_klienta",title:"Лояльность клиента",itemList:["Высокая","Средняя","Низкая"]},{type:o.Text,outlined:!1,name:"email",title:"Email"},{type:o.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Xl.routerService.location.pathname.includes("bid_view"))&&!Xl.routerService.location.pathname.includes("bid_edit")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:o.Text,outlined:!1,name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:o.Text,outlined:!1,name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]},{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"0",columns:"6",fields:[{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:o.Text,outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:o.Combo,outlined:!1,name:"pol",title:"Пол",itemList:["Мужской","Женский"]},{type:o.Text,outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:o.Text,outlined:!1,name:"pinfl",title:"ПИНФЛ"},{type:o.Text,outlined:!1,name:"inn",title:"ИНН"},{type:o.Combo,outlined:!1,name:"osnovanie-deyatelnosti-dannogo_licza",title:"Основание деятельности данного лица",itemList:["На основании устава","По доверенности"]}]}]}]}];window.contact_filters=dc;var mc,fc,yc,hc,vc,bc,_c,gc=function(){return Xt(Xl.contactViewService.paginate,{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError})},kc=[{type:o.Box,noBaseline:!0,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr auto","& > .MuiGrid-root":{minWidth:"275px"},minWidth:"calc(275px * 3)",mt:-1},fields:[{type:o.Choose,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",choose:(fc=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickUser(t.system_created_by?[t.system_created_by]:[]),e.next=3,n.userResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return fc.apply(this,arguments)}),tr:(mc=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",[null==n?void 0:n.last_name,null==n?void 0:n.first_name,null==n?void 0:n.middle_name].filter((function(e){return e})).join(" ")||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return mc.apply(this,arguments)}),name:"system_created_by",title:"",placeholder:"Создал"},{type:o.Combo,fieldBottomMargin:"1",fieldRightMargin:"1",outlined:!1,name:"tip_klienta",title:"",placeholder:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:o.Div},{type:o.Text,fieldRightMargin:"1",fieldBottomMargin:"0",inputFormatterTemplate:"0000000000",inputFormatterAllowed:/^[0-9]/,name:"index",title:"",leadingIcon:function(){return ve(ge,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ve(je,{textTransform:"lowercase",variant:"caption",children:"№"})})},placeholder:"",trailingIcon:function(){return ve(mn,{sx:{opacity:.5}})},trailingIconClick:function(e,t,n){e&&n("")}}]}],xc=function(){var e=fn(),t=e.filterData,n=e.handleFilter,r=e.payload,a=e.loading,i=pc({payload:r}),o=i.pickData,l=i.render,s=i.resultSubject,c=Sc({payload:r}),p=c.pickData,d=c.render,m=c.resultSubject;return ve(ge,{sx:{mb:1},children:[ve(un,{sx:{height:"100%",minHeight:48},hideOverflowY:!0,children:ve(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"stretch",pt:1,pb:1},children:ve(et,{handler:t,fields:kc,readonly:a,change:function(e,t){t||n(e)},payload:function(){return u(u({},r),{},{pickUser:o,userResultSubject:s,pickContact:p,contactResultSubject:m})},fieldDebounce:Ra})})}),d(),l()]})},wc=[{type:Ct.Compute,sortable:!0,field:"fio",compute:function(e){return e.fio||""},headerName:"Ф.И.О. Клиента",width:function(){return 200}},{type:Ct.Compute,sortable:!0,field:"tip_klienta",compute:function(e){return e.tip_klienta||""},headerName:"Тип клиента",width:function(){return 200}},{type:Ct.Compute,sortable:!0,field:"status_klienta",compute:function(e){return e.status_klienta||""},headerName:"Статус клиента",width:function(){return 200}},{type:Ct.Compute,sortable:!1,field:"status",headerName:"Статус сделки",compute:(yc=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xl.dealViewService.readStatusByContactId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return yc.apply(this,arguments)}),width:function(){return 150}}],Sc=function(e){var t=e.payload,n=gc(),r=he(),a=cn({withSearch:!0,slots:{FilterListSlot:yn},noInitialFilters:!0,withLoader:!0,fetchDebounce:Ra,reloadSubject:Xl.userViewService.reloadSubject,selectionMode:dn.Single,AfterOperationList:xc,onSubmit:function(e){return r.next(e),!0},filterLabel:"Выбрать контакт",filters:dc,payload:t,columns:wc,handler:n}),i=a.pickData,o=a.render,u=a.open;return{pickData:i,render:o,resultSubject:r,open:u}},zc=[{type:o.Box,noBaseline:!0,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr auto","& > .MuiGrid-root":{minWidth:"275px"},minWidth:"calc(275px * 3)",mt:-1},fields:[{type:o.Choose,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",choose:(_c=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickUser(t.system_created_by?[t.system_created_by]:[]),e.next=3,n.userResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return _c.apply(this,arguments)}),tr:(bc=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",[null==n?void 0:n.last_name,null==n?void 0:n.first_name,null==n?void 0:n.middle_name].filter((function(e){return e})).join(" ")||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return bc.apply(this,arguments)}),name:"system_created_by",title:"",placeholder:"Создал"},{type:o.Choose,sx:{minWidth:"100% !important"},fieldBottomMargin:"0",fieldRightMargin:"3",columns:"4",choose:(vc=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickContact(t.contact_id?[t.contact_id]:[]),e.next=3,n.contactResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return vc.apply(this,arguments)}),tr:(hc=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.fio)||(null==n?void 0:n.id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return hc.apply(this,arguments)}),name:"contact_id",title:"",placeholder:"Владелец"},{type:o.Div},{type:o.Text,fieldRightMargin:"1",fieldBottomMargin:"0",inputFormatterTemplate:"0000000000",inputFormatterAllowed:/^[0-9]/,name:"index",title:"",leadingIcon:function(){return ve(ge,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ve(je,{textTransform:"lowercase",variant:"caption",children:"№"})})},placeholder:"",trailingIcon:function(){return ve(mn,{sx:{opacity:.5}})},trailingIconClick:function(e,t,n){e&&n("")}}]}],Tc=function(){var e=fn(),t=e.filterData,n=e.handleFilter,r=e.payload,a=e.loading,i=pc({payload:r}),o=i.pickData,l=i.render,s=i.resultSubject,c=Sc({payload:r}),p=c.pickData,d=c.render,m=c.resultSubject;return ve(ge,{sx:{mb:1},children:[ve(un,{sx:{height:"100%",minHeight:48},hideOverflowY:!0,children:ve(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"stretch",pt:1,pb:1},children:ve(et,{handler:t,fields:zc,readonly:a,change:function(e,t){t||n(e)},payload:function(){return u(u({},r),{},{pickUser:o,userResultSubject:s,pickContact:p,contactResultSubject:m})},fieldDebounce:Ra})})}),d(),l()]})},Ac=function(){return window.innerHeight-70},Fc=function(){return window.innerHeight-70},Cc=function(){return window.innerHeight-70},Vc=function(){return window.innerHeight-70},Mc=function(){return window.innerHeight-70},Lc=[{id:"common",element:function(e){var t=e.payload,n=he(Xl.apartmentViewService.reloadSubject),a=ac({columns:Ds,storageKey:"apartment_columns"}),o=a.render,l=a.pickColumns,s=a.columns,c=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,p=ec(),d=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==t){e.next=6;break}return e.next=5,Xl.apartmentViewService.remove(a.id);case 5:n.next();case 6:if("edit-action"===t&&Xl.routerService.push("/apartment_edit/".concat(a.id)),"copy-action"!==t){e.next=14;break}return e.next=10,Xl.apartmentViewService.read(a.id);case 10:return i=e.sent,e.next=13,Xl.apartmentViewService.create(i);case 13:n.next();case 14:if("toggle-archive"!==t){e.next=18;break}return e.next=17,Xl.apartmentViewService.toggleArchive(a.id);case 17:n.next();case 18:if("toggle-remove"!==t){e.next=22;break}return e.next=21,Xl.apartmentViewService.toggleRemove(a.id);case 21:n.next();case 22:return e.prev=22,Xl.layoutService.setAppbarLoader(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,,22,25]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasApartmentViewPermission&&Xl.routerService.push("/apartment_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Объект недвижимости",filterLabel:"Фильтры",heightRequest:Fc,rowActions:qs,actions:Bs,filters:Qs,columns:s,handler:p,chips:Rs,AfterActionList:oc,AfterOperationList:Tc,onRowAction:d,onRowClick:m,onAction:function(e){"add-action"===e&&Xl.routerService.push("/apartment/create"),"column-setup-action"===e&&l()},selectionMode:dn.Multiple,payload:t},c)),o()]})},isActive:function(e){return rs(["/apartment"],e)},isAvailable:function(){return!1}},{id:"rent",element:function(e){var t=e.payload,n=he(Xl.apartmentViewService.reloadSubject),a=ac({columns:Ds,storageKey:"apartment_columns"}),o=a.render,l=a.columns,s=a.pickColumns,c=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,p=ec(),d=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==t){e.next=6;break}return e.next=5,Xl.apartmentViewService.remove(a.id);case 5:n.next();case 6:if("edit-action"===t&&Xl.routerService.push("/apartment_edit/".concat(a.id)),"copy-action"!==t){e.next=14;break}return e.next=10,Xl.apartmentViewService.read(a.id);case 10:return i=e.sent,e.next=13,Xl.apartmentViewService.create(i);case 13:n.next();case 14:if("toggle-archive"!==t){e.next=18;break}return e.next=17,Xl.apartmentViewService.toggleArchive(a.id);case 17:n.next();case 18:if("toggle-remove"!==t){e.next=22;break}return e.next=21,Xl.apartmentViewService.toggleRemove(a.id);case 21:n.next();case 22:return e.prev=22,Xl.layoutService.setAppbarLoader(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,,22,25]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasApartmentViewPermission&&Xl.routerService.push("/apartment_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Объект недвижимости",filterLabel:"Фильтры",heightRequest:Cc,rowActions:qs,actions:Bs,filters:Qs,columns:l,handler:p,chips:Rs,AfterActionList:oc,AfterOperationList:Tc,onRowAction:d,onRowClick:m,onAction:function(e){"add-action"===e&&Xl.routerService.push("/apartment/create"),"column-setup-action"===e&&s()},selectionMode:dn.Multiple,payload:function(){return u(u({},t),{},{_rent:!0})}},c)),o()]})},isActive:function(e){return rs(["/apartment_rent"],e)},isAvailable:function(){return!1}},{id:"sell",element:function(e){var t=e.payload,n=he(Xl.apartmentViewService.reloadSubject),a=ac({columns:Ds,storageKey:"apartment_columns"}),o=a.render,l=a.pickColumns,s=a.columns,c=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,p=ec(),d=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==t){e.next=6;break}return e.next=5,Xl.apartmentViewService.remove(a.id);case 5:n.next();case 6:if("edit-action"===t&&Xl.routerService.push("/apartment_edit/".concat(a.id)),"copy-action"!==t){e.next=14;break}return e.next=10,Xl.apartmentViewService.read(a.id);case 10:return i=e.sent,e.next=13,Xl.apartmentViewService.create(i);case 13:n.next();case 14:if("toggle-archive"!==t){e.next=18;break}return e.next=17,Xl.apartmentViewService.toggleArchive(a.id);case 17:n.next();case 18:if("toggle-remove"!==t){e.next=22;break}return e.next=21,Xl.apartmentViewService.toggleRemove(a.id);case 21:n.next();case 22:return e.prev=22,Xl.layoutService.setAppbarLoader(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,,22,25]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasApartmentViewPermission&&Xl.routerService.push("/apartment_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Объект недвижимости",filterLabel:"Фильтры",heightRequest:Vc,rowActions:qs,actions:Bs,filters:Qs,columns:s,handler:p,chips:Rs,AfterActionList:oc,AfterOperationList:Tc,onRowAction:d,onRowClick:m,onAction:function(e){"add-action"===e&&Xl.routerService.push("/apartment/create"),"column-setup-action"===e&&l()},selectionMode:dn.Multiple,payload:function(){return u(u({},t),{},{_sell:!0})}},c)),o()]})},isActive:function(e){return rs(["/apartment_sell"],e)},isAvailable:function(){return!1}},{id:"archive",element:function(e){var t=e.payload,n=he(Xl.apartmentViewService.reloadSubject),a=ac({columns:Ds,storageKey:"apartment_columns"}),o=a.render,l=a.pickColumns,s=a.columns,c=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,p=ec(),d=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==t){e.next=6;break}return e.next=5,Xl.apartmentViewService.remove(a.id);case 5:n.next();case 6:if("edit-action"===t&&Xl.routerService.push("/apartment_edit/".concat(a.id)),"copy-action"!==t){e.next=14;break}return e.next=10,Xl.apartmentViewService.read(a.id);case 10:return i=e.sent,e.next=13,Xl.apartmentViewService.create(i);case 13:n.next();case 14:if("toggle-archive"!==t){e.next=18;break}return e.next=17,Xl.apartmentViewService.toggleArchive(a.id);case 17:n.next();case 18:if("toggle-remove"!==t){e.next=22;break}return e.next=21,Xl.apartmentViewService.toggleRemove(a.id);case 21:n.next();case 22:return e.prev=22,Xl.layoutService.setAppbarLoader(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,,22,25]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasApartmentViewPermission&&Xl.routerService.push("/apartment_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Неактивные объекты",filterLabel:"Фильтры",heightRequest:Ac,rowActions:qs,actions:Bs,filters:Qs,columns:s,handler:p,chips:Rs,onRowAction:d,onRowClick:m,onAction:function(e){"add-action"===e&&Xl.routerService.push("/apartment/create"),"column-setup-action"===e&&l()},AfterActionList:oc,AfterOperationList:Tc,selectionMode:dn.Multiple,payload:function(){return u(u({},t),{},{_archive:!0})}},c)),o()]})},isActive:function(e){return rs(["/apartment_archive"],e)},isAvailable:function(){return!1}},{id:"remove",element:function(e){var t=e.payload,n=he(Xl.apartmentViewService.reloadSubject),a=ac({columns:Ds,storageKey:"apartment_columns"}),o=a.render,l=a.pickColumns,s=a.columns,c=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,p=ec(),d=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==t){e.next=6;break}return e.next=5,Xl.apartmentViewService.remove(a.id);case 5:n.next();case 6:if("edit-action"===t&&Xl.routerService.push("/apartment_edit/".concat(a.id)),"copy-action"!==t){e.next=14;break}return e.next=10,Xl.apartmentViewService.read(a.id);case 10:return i=e.sent,e.next=13,Xl.apartmentViewService.create(i);case 13:n.next();case 14:if("toggle-archive"!==t){e.next=18;break}return e.next=17,Xl.apartmentViewService.toggleArchive(a.id);case 17:n.next();case 18:if("toggle-remove"!==t){e.next=22;break}return e.next=21,Xl.apartmentViewService.toggleRemove(a.id);case 21:n.next();case 22:return e.prev=22,Xl.layoutService.setAppbarLoader(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[1,,22,25]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasApartmentViewPermission&&Xl.routerService.push("/apartment_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Удаленные объекты",filterLabel:"Фильтры",heightRequest:Mc,rowActions:qs,actions:Bs,filters:Qs,columns:s,handler:p,chips:Rs,onRowAction:d,onRowClick:m,onAction:function(e){"add-action"===e&&Xl.routerService.push("/apartment/create"),"column-setup-action"===e&&l()},AfterActionList:oc,AfterOperationList:Tc,selectionMode:dn.Multiple,payload:function(){return u(u({},t),{},{_remove:!0})}},c)),o()]})},isActive:function(e){return rs(["/apartment_remove"],e)},isAvailable:function(){return!1}}],Ic=function(e){var t=e.addon_square_names,n=e.addon_square_values;t=t||[],n=n||[];for(var r=[],a=0;a!==t.length;a++)r.push({id:z(),title:t[a],number:n[a]});return r},Bc=function(e){var t=e.addon_square_names,n=e.addon_square_values,r=e.readonly,a=e.onChange,i=l(ye.useState((function(){return Ic({addon_square_names:t,addon_square_values:n})})),2),u=i[0],s=i[1],c=Ke({fields:[{type:o.Text,sx:{mt:-2},name:"title",title:"Название",isInvalid:function(e){return e.title?null:"Укажите название"}},{type:o.Text,name:"number",title:"Значение",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isInvalid:function(e){return e.number?null:"Укажите значение"}}]}),p=_n({title:"Вы уверены?",msg:"Вы уверены, что хотите удалить площадь?"}),d=Ht((function(){var e;a({addon_square_names:(e=u).length?e.map((function(e){return e.title})):null,addon_square_values:e.length?e.map((function(e){return e.number})):null})}),[u]).resetWatcher;ye.useEffect((function(){var e=Ic({addon_square_names:t,addon_square_values:n});d(),s(e)}),[t,n]);return ve(Me,{direction:"column",children:[ve(Me,{direction:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"20px",children:[ve(je,{variant:"h6",fontWeight:"bold",children:"Доп. площадь"}),ve(en,{disabled:r,onClick:function(){c({title:"Создание площади",handler:{id:z(),title:"",number:""}}).then((function(e){e&&s((function(t){return[].concat(f(t),[e])}))}))},variant:"contained",children:"Добавить"})]}),ve(ge,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:u.map((function(e){return ve(Pt,{id:"standard-read-only-input",label:e.title,value:e.number,onClick:function(){var t;t={id:e.id,title:e.title,number:e.number},c({title:"Редактирование площади",handler:{id:t.id,title:t.title,number:t.number}}).then((function(e){e&&(s((function(t){var n=t.findIndex((function(t){return t.id===e.id}));return t[n]=e,f(t)})),console.log(u))}))},InputProps:{readOnly:!0,endAdornment:ve(Et,{position:"end",children:ve(Ae,{disabled:r,edge:"end",onClick:function(t){var n;t.preventDefault(),t.stopPropagation(),n=e.id,p().then((function(e){e&&s((function(e){return e.filter((function(e){return e.id!==n}))}))}))},children:ve(jt,{fill:"white",style:{cursor:"pointer",color:"grey"}})})})},variant:"standard"})}))})]})},jc=function(e){var t=e.images,n=e.onChange,a=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),o=a.handleLoadStart,u=a.handleLoadEnd,l=a.loading,s=function(){var e=i(r().mark((function e(){var a,l,s,c,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,o(),e.prev=2,e.next=5,xn("*");case 5:if(l=e.sent){e.next=8;break}return e.abrupt("return");case 8:return s=wn(t)||[],e.next=11,Promise.all(l.map(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl.appwriteService.uploadFile(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:c=e.sent,p=[].concat(f(s),f(c)),n(p),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),a=!1,Xl.alertService.notify(Eu(e.t0));case 20:return e.prev=20,u(a),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,16,20,23]])})));return function(){return e.apply(this,arguments)}}();return ve(kn,{children:ve(st,{disabled:l,sx:{borderRadius:"20px"},startIcon:ve(gn,{}),variant:"contained",onClick:s,children:"Добавить фото"})})},Dc=function(e){var t=e.payload,n=e.context;return ve(Me,{direction:"column",children:[ve(st,{disabled:!n.hasChanged,variant:"contained",color:"info",sx:{height:48},onClick:t.beginSave,children:"Сохранить"}),ve(ge,{sx:{paddingTop:"24px"}})]})},Rc=l(ce(),2),qc=Rc[0],Pc=Rc[1],Ec=l(ce(),2),Nc=Ec[0],Oc=Ec[1],Uc=function(e,t){return new Promise((function(n,r){e.onload=function(){var a=document.createElement("canvas");a.width=e.height,a.height=e.width;var i=a.getContext("2d");i?(i.translate(a.width/2,a.height/2),i.rotate(t*Math.PI/180),i.drawImage(e,-e.width/2,-e.height/2),a.toBlob((function(e){e?n(e):r("there's an error")}))):r("there's an error")},e.onerror=function(e){r("there's an error"),console.error(e)}}))};function Hc(e,t){return Wc.apply(this,arguments)}function Wc(){return(Wc=i(r().mark((function e(t,n){var a,i,o,u,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getImageURL(t);case 2:return a=e.sent,(i=document.createElement("img")).src=a,i.crossOrigin="anonymous",e.next=8,Uc(i,90);case 8:if(o=e.sent){e.next=11;break}return e.abrupt("return",n);case 11:return u=n.indexOf(t),e.next=14,Xl.appwriteService.tryReadFileName(t);case 14:return l=e.sent,e.next=17,Xl.appwriteService.uploadBlob(o,l||o.type||"unknown.png");case 17:return s=e.sent,n[u]=s,e.abrupt("return",f(n));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $c(e,t){return Gc.apply(this,arguments)}function Gc(){return(Gc=i(r().mark((function e(t,n){var a,i,o,u,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getImageURL(t);case 2:return a=e.sent,(i=document.createElement("img")).src=a,i.crossOrigin="anonymous",console.log(i.height),console.log(i.width),e.next=10,Uc(i,-90);case 10:if(o=e.sent){e.next=13;break}return e.abrupt("return",n);case 13:return u=n.indexOf(t),e.next=16,Xl.appwriteService.tryReadFileName(t);case 16:return l=e.sent,e.next=19,Xl.appwriteService.uploadBlob(o,l||o.type||"unknown.png");case 19:return s=e.sent,n[u]=s,e.abrupt("return",f(n));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Yc,Kc,Zc=me.createLoader(96),Xc=[{action:"download-action",label:"Скачать изображение"},{action:"open-action",label:"Открыть оригинальное изображение",isVisible:function(e){return 5===e.accessLevel}},{action:"rotate-left-action",icon:zn,label:"Поворот влево",isVisible:function(e){return!e.readonly}},{action:"rotate-right-action",icon:Tn,label:"Поворот вправо",isVisible:function(e){return!e.readonly}},{action:"remove-action",isVisible:function(e){return!e.readonly},label:"Удалить"}],Jc=al()((function(e){return{square:{position:"relative"},dragHoverActive:{background:fe(e.palette.primary.main,.5)},dragHoverInactive:{background:"#ccc"},prev:{position:"absolute",margin:"auto",left:"0",top:"0",bottom:0,zIndex:"2 !important",color:e.palette.background.paper,width:"30%"},next:{position:"absolute",margin:"auto",right:"10px",top:"10px",bottom:"5px",zIndex:"2 !important",color:e.palette.background.paper,width:"30%"},action:{zIndex:"5 !important"},defaultIcon:{position:"absolute",right:10,bottom:10,height:35,width:35,fill:"orange",background:"white",borderRadius:"50%",padding:"1.5px",zIndex:"1"},"tss-nuqny4-root":{zIndex:"5 !important"}}})),Qc=function(e){var t,n=e.dropSubject,a=e.className,o=e.readonly,s=e.image,c=e.images,p=e.payload,m=e.text,f=e.sx,y=e.onChange,h=e.onClick,v=e.onLoadStart,b=e.onLoadEnd,_=e.onMouseOver,g=e.drag,k=Jc().classes,x=_n({title:"Продолжить?",msg:"Вы собираетесь удалить файл"}),w=l(ye.useState(!1),2),S=w[0],z=w[1],T=l(ye.useState(!1),2),A=T[0],F=T[1],C=l(ye.useState(!1),2),V=C[0],M=C[1],L=he(n),I=he();ye.useEffect((function(){return function(){I.next()}}),[]),ye.useEffect((function(){return L.subscribe((function(){M(!1)}))}),[]);var B,j=l(Pc(),2)[1],D=l(Oc(),2)[1],R=Ze({history:Xl.routerService,onLoadStart:function(){v&&v(),Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){b&&b(),Xl.layoutService.setAppbarLoader(!1)}}),q=R.handleLoadStart,P=R.handleLoadEnd,E=R.loading,N=function(){var e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,q(),e.prev=2,e.next=5,Xl.appwriteService.getImageURL(s);case 5:n=e.sent,ue(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),t=!1,Xl.alertService.notify(Eu(e.t0));case 13:return e.prev=13,P(t),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,q(),e.prev=2,e.next=5,Hc(s,c);case 5:n=e.sent,y(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t=!1;case 12:return e.prev=12,P(t),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,q(),e.prev=2,e.next=5,$c(s,c);case 5:n=e.sent,y(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t=!1;case 12:return e.prev=12,P(t),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getImageURL(s);case 2:return t=e.sent,e.next=5,ol(t,m);case 5:n=e.sent,I.once((function(){n&&URL.revokeObjectURL(n)})),_t(n||t,"".concat(m,".png"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("download-action"===t&&H(),"open-action"===t&&N(),"remove-action"!==t){e.next=9;break}return e.next=5,x().toPromise();case 5:if(!e.sent){e.next=9;break}return e.next=9,n=void 0,n=(wn(c)||[]).filter((function(e){return e!==s})),void y(n.length?n:null);case 9:if("rotate-left-action"!==t){e.next=12;break}return e.next=12,U();case 12:if("rotate-right-action"!==t){e.next=15;break}return e.next=15,O();case 15:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(ge,{className:a,sx:f,onClick:function(){return h&&h(s)},children:ve(be,{draggable:g,onDragStart:function(){return j(s)},onDragOver:function(e){e.preventDefault(),D(s)},onDragLeave:function(){return M(!1)},onDragEnter:function(){return M(!0)},className:k.square,children:[0===(null==c?void 0:c.indexOf(s))&&ve(_e,{className:k.defaultIcon}),ve(ge,{className:ke((t={},d(t,k.dragHoverActive,V),d(t,k.dragHoverInactive,!V),t)),component:"div",sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:function(){A||z(!0)},onMouseLeave:function(){A||z(!1)},children:[ve(Sn,{disabled:E,className:k.action,sx:{position:"absolute",top:10,left:10,transition:"opacity 150ms",opacity:S||_||A?1:0},payload:u(u({},p),{},{readonly:o}),options:Xc,onAction:W,onToggle:function(e){e&&z(!1),F(e)}}),ve(we,{Loader:Zc,payload:s,children:(B=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",ve(Se,{sx:{fontSize:96,fill:"white"}}));case 2:return e.next=4,Xl.appwriteService.getImageURL(t);case 4:return n=e.sent,e.next=7,ol(n,m);case 7:return a=e.sent,I.once((function(){a&&URL.revokeObjectURL(a)})),e.abrupt("return",ve("img",{crossOrigin:"anonymous",loading:"lazy",alt:t,src:a||n,style:{objectFit:"contain",height:"100%",width:"100%",pointerEvents:"none"}}));case 10:case"end":return e.stop()}}),e)}))),function(e){return B.apply(this,arguments)})})]})]})})},ep=al()((function(e){return{root:{position:"fixed",padding:20,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",transform:"translate(-50%, -50%)",backgroundColor:e.palette.background.paper,borderRadius:5,gap:5,top:"50%",left:"50%",width:"calc(100vmin - 50px)",height:"calc(100vmin - 50px)",outline:"none"},content:{overflow:"hidden",padding:e.spacing(1),flex:1},container:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flex:1,overflow:"hidden",paddingTop:e.spacing(1)},title:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},submit:{marginTop:15},disabled:{opacity:.5,pointerEvents:"none"},indicatorTransparent:{height:6,background:e.palette.primary.main},tabRootTransparent:{minHeight:54,height:54},tabsRoot:{minHeight:54,height:54,marginLeft:"0 !important",marginRight:"0 !important"},prev:{position:"absolute",margin:"auto",left:"10px",top:"10px",bottom:"5px",zIndex:"2 !important",color:e.palette.background.paper,width:"30%"},next:{position:"absolute",margin:"auto",right:"10px",top:"10px",bottom:"5px",zIndex:"2 !important",color:e.palette.background.paper,width:"30%"},icon_border:{border:"1px solid black"}}})),tp=function(e){var t=e.apartment_images,n=e._fieldData,r=e.payload,a=e.readonly,i=e.onChange,o=l(Pc(),1)[0],u=l(Oc(),1)[0],s=An(t),c=An(o),p=An(u),d=function(e){var t=e._fieldData,n=e.payload,r=e.onChange,a=l(ye.useState(""),2),i=a[0],o=a[1],u=l(ye.useState(!1),2),s=u[0],c=u[1],p=t.apartment_images.length,d=l(ye.useState(0),2),m=d[0],f=d[1],y=l(ye.useState(!1),2),h=y[0],v=y[1],b=l(ye.useState(0),2),_=b[0],g=b[1],k=l(ye.useState(!1),2),x=k[0],w=k[1];ye.useEffect((function(){var e;f((null===(e=t.apartment_images)||void 0===e?void 0:e.indexOf(i))||0)}),[i]);var S=ep(),z=S.classes,T=(S.cx,function(){_||(o(""),f(0),v(!1))}),A=function(){g((function(e){return e+1}))},F=function(){g((function(e){return e-1}))},C=function(e){e.preventDefault(),e.stopPropagation(),o(t.apartment_images[m+1])},V=function(e){e.preventDefault(),e.stopPropagation(),o(t.apartment_images[m-1])};return{render:function(){return ve(Ve,{open:h,onClose:T,sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:ve("div",{className:z.root,onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},onClick:function(){return v(!1)},children:ve("div",{className:z.container,children:[ve(ze,{className:z.prev,onClick:V,disabled:0===m,onMouseOver:function(){return w(!0)},onMouseLeave:function(){return w(!1)}}),ve(ze,{className:z.next,onClick:C,disabled:m===p-1,onMouseOver:function(){return w(!0)},onMouseLeave:function(){return w(!1)}}),ve(Qc,{onLoadEnd:F,onLoadStart:A,className:z.content,images:t.apartment_images,text:"№".concat(t.index),payload:n,onChange:r,image:i,readonly:!0,drag:!1,onMouseOver:x}),p>1&&ve(ge,{sx:{position:"absolute",left:0,bottom:0,width:"100%",height:75,display:"flex",alignItems:"space-beetween",justifyContent:"center",transition:"opacity 150ms",opacity:s?1:0},children:ve(Te,{onClick:function(e){e.preventDefault(),e.stopPropagation()},steps:p,position:"static",activeStep:m,nextButton:ve(Ae,{size:"small",sx:{ml:1},onClick:C,disabled:m===p-1,children:ve(Fe,{})}),backButton:ve(Ae,{size:"small",sx:{mr:1},onClick:V,disabled:0===m,children:ve(Ce,{})}),sx:{height:"45px",backdropFilter:"blur(20px)",backgroundColor:"#00000012",borderRadius:"25px",zIndex:"1000"}})})]})})})},handleNext:C,handleBack:V,pickImage:function(e){o(e),v(!0)}}}({_fieldData:n,payload:r,apartment_images:t,onChange:function(e){i({apartment_images:e})},readonly:a}),m=d.pickImage,f=d.render,y=he();return ve(Le,{children:[ve(Me,{gap:1,sx:{pointerEvents:"all"},flexWrap:"wrap",direction:"row",onDrop:function(){!function(){var e=s.current,t=c.current,n=p.current;if(e&&t!=n){var r=e.indexOf(t),a=e.indexOf(n),o=e[r];e[r]=e[a],e[a]=o,i({apartment_images:e})}}(),y.next()},children:null==t?void 0:t.map((function(e,t){return ve(Qc,{sx:{width:175},image:e,images:n.apartment_images,onChange:function(e){i({apartment_images:e})},text:"№".concat(n.index),dropSubject:y,drag:!a,payload:r,readonly:a,onClick:m},t)}))}),f()]})},np=function(e){return ve(qc,{initialState:"",children:ve(Nc,{initialState:"",children:ve(tp,u({},e))})})},rp=al()((function(e){return{root:{position:"absolute",padding:20,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",transform:"translate(-50%, -50%)",backgroundColor:e.palette.background.paper,borderRadius:5,gap:5},small:{top:"40%",left:"50%",maxHeight:"80%",width:500},large:{top:"50%",left:"50%",width:"calc(100vw - 50px)",height:"calc(100vh - 50px)"},content:{flex:1,overflowY:"auto",paddingTop:e.spacing(1),display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},title:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},submit:{marginTop:15},disabled:{opacity:.5,pointerEvents:"none"}}})),ap=function(e){var t=e.onChange,n=l(ye.useState((function(){return{address:"",open:!1}})),2),a=n[0],o=n[1],u=l(ye.useState(null),2),s=u[0],c=u[1],p=ye.useRef(null),m=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),f=m.handleLoadStart,y=m.handleLoadEnd,h=a.address,v=a.open,b=function(){p.current=null,k.current&&k.current(),o({address:"",open:!1})},_=function(){var e=i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.current,e.prev=1,!n){e.next=7;break}return e.next=5,Xl.ymapsService.getAddress(n);case 5:a=e.sent,t(a);case 7:return e.prev=7,b(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[1,,7,10]])})));return function(){return e.apply(this,arguments)}}(),g=rp().classes,k=ye.useRef(null);ye.useEffect((function(){if(s)return Xl.ymapsService.drawMap(s,{address:h,change:function(e){return p.current=e}})}),[s]);return{render:function(){return ve(Ve,{open:v,onClose:b,children:ve(ge,{className:ke(g.root,d({},g.large,!0)),children:[ve("div",{className:g.title,children:ve(je,{variant:"h6",component:"h2",children:"Выберите точку"})}),ve(ge,{className:g.content,children:ve("div",{ref:c})}),ve(st,{onClick:_,onLoadStart:f,onLoadEnd:y,variant:"contained",children:"Применить"})]})})},pickMap:function(){return o({address:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",open:!0})}}},ip=function(e){var t=e.gorod,n=e.mahallya,r=e.nomer_doma,a=e.rajon,i=e.strana,o=e.ulicza,u=e.metro,l=e.onChange,s=ap({onChange:l}),c=s.render,p=s.pickMap,d=ye.useMemo((function(){return[i||null,t?"Город ".concat(t):null,a?"".concat(a):null,n?" ".concat(n):o?" ".concat(o):null,r?"".concat(r):null,u?"Метро ".concat(u):null].filter((function(e){return e})).join(", ")}),[t,n,r,a,i,o,u]);return ve(Le,{children:[ve(en,{onClick:function(){"action-modal"==="action-modal"&&p(d)},fullWidth:!0,variant:"contained",children:"Найти на карте"}),c()]})},op=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая недвижимость)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Земля/Участок)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Квартиры)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Дома)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая квартира)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческий дом)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая Земля/Участок)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]}],up=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая недвижимость)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Телефон","Телевизор","Кондиционер","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Терраса","Угловой","Комната охраны","Вдоль дороги","Сарай","Огород","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Закрытый двор","Шлагбаум","Охрана","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||Ie(e.podkategoriya_obekta,"Земля/Участок"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Земля/Участок)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Закрытый двор","Шлагбаум","Охрана","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческий дом)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Телефон","Телевизор","Кондиционер","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Комната охраны","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Вдоль дороги","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Закрытый двор","Шлагбаум","Охрана","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}}],lp=[{type:o.Fragment,isVisible:function(e){return(!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.kategoriya_obekta,"Коммерческая")))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая недвижимость)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_obekta",title:"Состояние объекта",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Combo,columns:"3",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Items,columns:"3",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"voda",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya",title:"Канализация",itemList:["Да","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kommercziya",title:"Лифт",itemList:["Есть","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:o.Fragment,isVisible:function(e){if(Ie(e.podkategoriya_obekta,"Квартиры")&&Ie(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Квартиры)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Combo,columns:"3",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Items,columns:"3",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"},{type:o.Combo,columns:"3",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:o.Items,columns:"3",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},{type:o.Text,columns:"3",outlined:!1,name:"kod_domofona",title:"Код домофона"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:o.Items,columns:"3",outlined:!1,name:"energonositel_obekta",title:"Энергоноситель объекта",itemList:["Электрофицирован","Газифицирован"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"podezd_nomer",title:"Подъезд №"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Items,columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]}]}},{type:o.Fragment,isVisible:function(e){if(Ie(e.podkategoriya_obekta,"Дома")&&Ie(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Дома)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Combo,columns:"3",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Items,columns:"3",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:o.Items,columns:"3",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:o.Items,columns:"3",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Items,columns:"3",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Items,columns:"3",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]}]}},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")&&Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Земля/Участок)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Items,columns:"3",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Items,columns:"3",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"},{type:o.Items,columns:"3",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая квартира)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Combo,columns:"3",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Items,columns:"3",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Complete,columns:"3",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"},{type:o.Combo,columns:"3",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:o.Items,columns:"3",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Text,columns:"3",outlined:!1,name:"kod_domofona",title:"Код домофона"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:o.Items,columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"podezd_nomer",title:"Подъезд №"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Items,columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческий дом)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,columns:"3",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Combo,columns:"3",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"},{type:o.Combo,columns:"3",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:o.Items,columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Items,columns:"3",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:o.Items,columns:"3",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:o.Items,columns:"3",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Items,columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая Земля/Участок)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Items,columns:"3",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Items,columns:"3",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"},{type:o.Items,columns:"3",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}}],sp=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Квартиры)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Телефон","Холодильник","Телевизор","Кондиционер","Стиральная машина","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Барбекю зона","Закрытый двор","Шлагбаум","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Дома)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Телефон","Холодильник","Телевизор","Кондиционер","Стиральная машина","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Комната охраны","Вдоль дороги","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Охрана","Закрытый двор","Шлагбаум","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая квартира)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Холодильник","Телевизор","Кондиционер","Стиральная машина","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж","Угловой","Вдоль дороги"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Охрана","Барбекю зона","Закрытый двор","Шлагбаум","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая Земля/Участок)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Охрана","Закрытый двор","Шлагбаум","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}}],cp=al()((function(e){return{row:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr"},input:{paddingRight:"4px",paddingBottom:"4px"},onlyInput:{maxWidth:"500px",width:"100%"},select:{margin:"0 5px"},checkbox:{}}})),pp=function(e){var t=e.className,n=e.style,r=e.sx,a=e.value,i=void 0===a?"":a,o=e.readonly,u=e.unit,l=void 0===u?"usd":u,s=e.title,c=e.onChange,p=qt(),d=(p.reloadTrigger,p.doReload),m=function(e){return"uzs"===e?"uzs":"usd"}(l),f=Je(o);ye.useEffect((function(){return f.subscribe((function(e){e&&d()}))}),[]);return ve(Pt,{label:s,value:o?i:void 0,defaultValue:i,className:t,style:n,sx:r,onChange:function(e){var t=e.target,n=isNaN(t.value)?i:t.value;t.value=n,c({unit:m,value:n})},variant:"standard",fullWidth:!0,InputProps:{startAdornment:ve(Et,{sx:{userSelect:"none",cursor:"pointer"},onClick:function(){"usd"===m&&c({value:i,unit:"uzs"}),"uzs"===m&&c({value:i,unit:"usd"})},position:"start",children:["usd"===m&&ve(Nt,{sx:{width:"36px"}}),"uzs"===m&&ve("span",{style:{fontWeight:"bold"},children:"SUM"})]})}})},dp=function(e){var t=e.className,n=e.style,r=e.sx,a=e.title,i=e.square,o=e.readonly,u=e.unit,l=void 0===u?"usd":u,s=e.value,c=void 0===s?"":s,p=e.onChange,d=qt(),m=(d.reloadTrigger,d.doReload),f=ye.useMemo((function(){return function(e){return"uzs"===e?"uzs":"usd"}(l)}),[l]),y=Je(o);ye.useEffect((function(){return y.subscribe((function(e){e&&m()}))}),[]);var h=ye.useMemo((function(){return!i||isNaN(i)?"":c?+c/Math.max(+i,1):""}),[i,c]);return ve(Pt,{label:a,value:o?h:void 0,defaultValue:h,disabled:!i||isNaN(i),className:t,style:n,sx:r,onChange:function(e){var t=e.target;if(""!==t.value){var n=isNaN(t.value)?h:+t.value;t.value=String(n),p({square:i,unit:f,value:""===n?"":String(n*+i)})}else p({square:i,unit:f,value:""})},variant:"standard",fullWidth:!0,InputProps:{startAdornment:ve(Et,{sx:{userSelect:"none",cursor:"pointer"},onClick:function(){"usd"===f&&p({value:c,unit:"uzs",square:i}),"uzs"===f&&p({value:c,unit:"usd",square:i})},position:"start",children:["usd"===f&&ve(Nt,{sx:{width:"36px"}}),"uzs"===f&&ve("span",{style:{fontWeight:"bold"},children:"SUM"})]})}})},mp=function(e){var t=e.className,n=e.style,r=e.sx,a=e.title,i=e.value,o=void 0===i?"":i,u=e.unit,l=void 0===u?"%":u,s=e.readonly,c=e.onChange,p=qt(),d=(p.reloadTrigger,p.doReload),m=ye.useMemo((function(){return function(e){return"1"===e?"1":"%"}(l)}),[l]),f=Je(s);ye.useEffect((function(){return f.subscribe((function(e){e&&d()}))}),[]);return ve(Pt,{label:a,className:t,style:n,sx:r,defaultValue:o,value:s?o:void 0,onChange:function(e){var t=e.target,n=isNaN(t.value)?o:t.value;t.value=n,c({unit:m,value:n})},variant:"standard",fullWidth:!0,InputProps:{startAdornment:ve(Et,{sx:{userSelect:"none",cursor:"pointer"},onClick:function(){"1"===m&&c({value:o,unit:"%"}),"%"===m&&c({value:o,unit:"1"})},position:"start",children:["%"===m&&ve(Ot,{}),"1"===m&&ve(Ut,{})]})}})},fp={},yp=["komissiya_agenstva_unit","czena_sobstvennika","startovaya_czena_valyuta","komissiya_menedzhera","komissiya_agenstva","komissiya_menedzhera_unit","startovaya_czena","torg"],hp=function(e){var t=e.isViewMode,n=e.square,r=e.value,a=void 0===r?fp:r,i=e.title,o=e.prefix,s=e.readonly,c=e.onChange,p=cp().classes,d=ye.useCallback((function(){var e=Object.entries(a).map((function(e){var t=l(e,2),n=t[0],r=t[1];return[Ge(n,o),r]})).filter((function(e){var t=l(e,1)[0];return yp.includes(t)}));return Object.fromEntries(e)}),[a]),m=l(ye.useState(d),2),f=m[0],y=m[1],h=ye.useMemo((function(){return G.debounce(c,0)}),[]),v=Ht((function(){var e=Object.entries(f).map((function(e){var t=l(e,2),n=t[0],r=t[1];return[o+n,r]}));h(Object.fromEntries(e))}),[f]).resetWatcher;return Ht((function(){v(),y(d)}),[n,a]),ye.useEffect((function(){return function(){h.flush()}}),[]),ve(Le,t?{children:[ve(je,{variant:"h6",fontWeight:"bold",children:i}),ve(pp,{title:"Стартовая цена",unit:f.startovaya_czena_valyuta,value:f.startovaya_czena,onChange:function(e){var t=e.unit,n=e.value;return y((function(e){return u(u({},e),{},{startovaya_czena_valyuta:t,startovaya_czena:n})}))},className:p.onlyInput})]}:{children:[ve(je,{variant:"h6",fontWeight:"bold",children:i}),ve(ge,{className:p.row,children:[ve(pp,{readonly:s,title:"Бюджет клиента",unit:f.startovaya_czena_valyuta,value:f.czena_sobstvennika,onChange:function(e){var t=e.unit,n=e.value;return y((function(e){return u(u({},e),{},{startovaya_czena_valyuta:t,czena_sobstvennika:n})}))},className:p.input}),ve(pp,{readonly:s,title:"Стартовая цена",unit:f.startovaya_czena_valyuta,value:f.startovaya_czena,onChange:function(e){var t=e.unit,n=e.value;return y((function(e){return u(u({},e),{},{startovaya_czena_valyuta:t,startovaya_czena:n})}))},className:p.input}),ve(dp,{readonly:s,title:"Стартовая цена м²",square:n,unit:f.startovaya_czena_valyuta,value:f.startovaya_czena,onChange:function(e){var t=e.unit,n=e.value;return y((function(e){return u(u({},e),{},{startovaya_czena_valyuta:t,startovaya_czena:n})}))},className:p.input})]}),ve(ge,{className:p.row,children:ve(Wt,{className:p.checkbox,control:ve(xe,{checked:f.torg}),onChange:function(){return y((function(e){return u(u({},e),{},{torg:!e.torg})}))},label:"Торг"})}),!t&&ve(ge,{className:p.row,children:[ve(mp,{readonly:s,title:"Комиссия агенства",unit:f.komissiya_agenstva_unit,value:f.komissiya_agenstva,onChange:function(e){var t=e.unit,n=e.value;return y((function(e){return u(u({},e),{},{komissiya_agenstva_unit:t,komissiya_agenstva:n})}))},className:p.input}),ve(mp,{readonly:s,title:"Комиссия менеджера",unit:f.komissiya_menedzhera_unit,value:f.komissiya_menedzhera,onChange:function(e){var t=e.unit,n=e.value;return y((function(e){return u(u({},e),{},{komissiya_menedzhera_unit:t,komissiya_menedzhera:n})}))},className:p.input})]})]})},vp=54,bp=al()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",overflow:"hidden",paddingBottom:"10px"},typogrphy:{padding:"10px"},container:{overflowX:"hidden",overflowY:"scroll",padding:e.spacing(1),flex:1},appBarRoot:{background:e.palette.primary.main,maxHeight:vp,height:vp,boxShadow:"unset",color:"#000"},tabsRoot:{minHeight:vp,height:vp,marginLeft:"0 !important",marginRight:"0 !important"},tabRoot:{minHeight:vp,height:vp,color:"#fff"},tabRootTransparent:{minHeight:vp,height:vp},tabSelected:{color:"#fff !important"},indicator:{height:6,background:"#0288d1"},indicatorTransparent:{height:6,background:e.palette.primary.main}}})),_p=function(e){var t=e.sx,n=e.withTransparentHeader,r=e.withRentTab,a=e.withSellTab,i=e.readonly,o=e.isViewMode,s=void 0!==o&&o,c=e.fieldData,p=e.onChange,d=void 0===p?function(){}:p,m=bp().classes,f=l(ye.useState("rent"),2),y=f[0],h=f[1],v=ye.useMemo((function(){return c.obshhaya_ploshhad?c.obshhaya_ploshhad:c.ploshhad_doma?c.ploshhad_doma:""}),[c]),b=ye.useMemo((function(){return Ie(c.kategoriya_obekta,"Жилая","Новостройка")}),[c]),_=ye.useMemo((function(){return Ie(c.kategoriya_obekta,"Коммерческая")}),[c]);return ye.useEffect((function(){a?h("sell"):r&&h("rent")}),[r,a]),ve(it,{className:m.root,sx:u(u({},t),{},{height:"100%"}),children:ve($t,{value:y,children:[n&&ve(ge,{sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:ve(Gt,{variant:"fullWidth",classes:{root:m.tabsRoot,indicator:m.indicatorTransparent},onChange:function(e,t){return h(t)},children:[a&&ve(Yt,{classes:{root:m.tabRootTransparent},label:"Продажа",value:"sell"}),r&&ve(Yt,{classes:{root:m.tabRootTransparent},label:"Аренда",value:"rent"})]})}),!n&&ve(Kt,{classes:{root:m.appBarRoot},position:"static",sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:ve(Gt,{variant:"fullWidth",classes:{root:m.tabsRoot,indicator:m.indicator},onChange:function(e,t){return h(t)},children:[a&&ve(Yt,{classes:{root:m.tabRoot,selected:m.tabSelected},label:"Продажа",value:"sell"}),r&&ve(Yt,{classes:{root:m.tabRoot,selected:m.tabSelected},label:"Аренда",value:"rent"})]})}),a&&ve(Zt,{className:m.container,sx:{pointerEvents:i?"none":"unset"},value:"sell",children:[b&&ve(hp,{isViewMode:s,readonly:i,title:"Продажа",prefix:"prod_",square:v,value:c,onChange:d}),_&&ve(hp,{isViewMode:s,readonly:i,title:"Продажа ком.",prefix:"prod_kom_",square:v,value:c,onChange:d})]}),r&&ve(Zt,{className:m.container,sx:{pointerEvents:i?"none":"unset"},value:"rent",children:[b&&ve(hp,{isViewMode:s,readonly:i,title:"Аренда",prefix:"rent_",value:c,onChange:d,square:v}),_&&ve(hp,{isViewMode:s,readonly:i,title:"Аренда ком.",prefix:"rent_kom_",value:c,onChange:d,square:v})]})]})})},gp=[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:o.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:o.Items,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:o.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:o.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Combo,columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:o.Complete,isVisible:function(e){return!!Ie(e.podkategoriya_obekta,"Квартиры")&&!Ie(e.kategoriya_obekta,"Коммерческая")},columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:o.Combo,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:o.Items,isVisible:function(e){var t=!1;return t=(t=(t=t||Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Combo,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]}].concat(lp,[{type:o.Group,columns:"12",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:o.Paper,columns:"6",fieldRightMargin:"1",fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Расположение объекта"})}},{type:o.Complete,outlined:!1,name:"strana",title:"Страна",tip:(Kc=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Узбекистан"]);case 1:case"end":return e.stop()}}),e)}))),function(){return Kc.apply(this,arguments)})},{type:o.Complete,outlined:!1,name:"gorod",title:"Город",tip:["Ташкент"]},{type:o.Complete,outlined:!1,name:"oblast",title:"Область",tip:(Yc=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Ташкентская область"]);case 1:case"end":return e.stop()}}),e)}))),function(){return Yc.apply(this,arguments)})},{type:o.Complete,outlined:!1,name:"rajon",title:"Район",tip:["Алмазарский район","Бектемирский район","Мирабадский район","Мирзо-Улугбекский район","Сергелийский район","Учтепинский район","Чиланзарский район","Шайхантахурский район","Юнусабадский район","Яккасарайский район","Янгихаётский район","Яшнабадский район"]},{type:o.Complete,tip:Xl.dictService.getMahallya,outlined:!1,name:"mahallya",title:"Махалля"},{type:o.Complete,tip:Xl.dictService.getUlicza,outlined:!1,name:"ulicza",title:"Улица"},{type:o.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Fragment,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,columns:"6",outlined:!1,name:"nomer_doma",title:"№ дома"},{type:o.Text,columns:"6",outlined:!1,name:"nomer_kvartiry",title:"№ квартиры"}]},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta)&&!Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,outlined:!1,name:"nomer_doma",title:"№ дома"}]},{type:o.Component,element:ip}]}},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:o.Group,style:{height:"100%"},columns:"6",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:o.Component,style:{height:"calc(100% - 212px)"},fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData;return ve(_p,{withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}},{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:o.Text,inputRows:3,outlined:!1,name:"opisanie",title:"Описание"}]}]}}]}],sp,up,op,[{type:o.Paper,isVisible:function(e){return!!Ie(e.kategoriya_obekta,"Коммерческая","Жилая")},fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,element:Bc}]},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:np}]},{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,element:function(e){var t=e._fieldData,n=e.onChange;return ve(jc,{images:t.apartment_images,onChange:function(e){return n({apartment_images:e})}})}}]}]},{type:o.Component,features:["withBottomSaveButton"],watchOneContext:!0,element:Dc}]);window.apartment_fields=gp;var kp,xp,wp,Sp,zp,Tp,Ap,Fp,Cp=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование Объекта"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание Объекта"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],Vp=al()((function(e){return{listItemAccient:{background:fe(e.palette.getContrastText(e.palette.background.paper),.018)}}})),Mp=[{type:Ct.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ve(Vt,{content:t})},width:function(){return 100}},{type:Ct.Text,sortable:!0,field:"zagolovok",headerName:"Заголовок",width:function(){return 200}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasFioPermission},sortable:!1,field:"fio",compute:(Sp=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:return a=e.sent,e.abrupt("return",a?a.fio:"");case 5:case"end":return e.stop()}}),e)}))),function(e){return Sp.apply(this,arguments)}),headerName:"Ф.И.О. Контакта",width:function(){return 200}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasPreviewModeDisabled},sortable:!1,field:"telefon",element:function(e){var t,n=e.id,a=e.contact_id;return ve(Mt,{payload:n,condition:function(e){return Xl.permissionRequestService.getOwnerContactPermissionByBidId(e)},Loading:"Загрузка",Else:"Скрыто",children:ve(we,{payload:a,children:(t=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",n?n.telefon:"");case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})})},headerName:"Номер телефона",width:function(){return 200}},{type:Ct.Compute,field:"kategoriya_obekta",sortable:!0,compute:function(e){return e.kategoriya_obekta||""},headerName:"Категория",width:function(){return 200}},{type:Ct.Compute,field:"podkategoriya_obekta",sortable:!0,compute:function(e){return e.podkategoriya_obekta||""},headerName:"Подкатегория",width:function(){return 200}},{type:Ct.Compute,field:"czena_prodazha",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(wp=i(r().mark((function e(t){var n,a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.prod_startovaya_czena_ot,a=t.prod_startovaya_czena_do,i=t.prod_startovaya_czena_valyuta,o=t.prod_startovaya_czena_for,u=t.prod_kom_startovaya_czena_ot,l=t.prod_kom_startovaya_czena_do,s=t.prod_kom_startovaya_czena_valyuta,c=t.prod_kom_startovaya_czena_for,!n||!a){e.next=3;break}return e.abrupt("return","От ".concat(n," До ").concat(a," ").concat("uzs"===i?"UZS":"USD"," (").concat((null==o?void 0:o.join(""))||"Итог",")"));case 3:if(!u||!l){e.next=5;break}return e.abrupt("return","От ".concat(u," До ").concat(l," ").concat("uzs"===s?"UZS":"USD"," (").concat((null==c?void 0:c.join(""))||"Итог",")"));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)}))),function(e){return wp.apply(this,arguments)}),headerName:"Цена (Продажа)",width:function(){return 300}},{type:Ct.Compute,field:"czena_arenda",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(xp=i(r().mark((function e(t){var n,a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rent_startovaya_czena_ot,a=t.rent_startovaya_czena_do,i=t.rent_startovaya_czena_valyuta,o=t.rent_startovaya_czena_for,u=t.rent_kom_startovaya_czena_ot,l=t.rent_kom_startovaya_czena_do,s=t.rent_kom_startovaya_czena_valyuta,c=t.rent_kom_startovaya_czena_for,!n||!a){e.next=3;break}return e.abrupt("return","От ".concat(n," До ").concat(a," ").concat("uzs"===i?"UZS":"USD"," (").concat((null==o?void 0:o.join(""))||"Итог",")"));case 3:if(!u||!l){e.next=5;break}return e.abrupt("return","От ".concat(u," До ").concat(l," ").concat("uzs"===s?"UZS":"USD"," (").concat((null==c?void 0:c.join(""))||"Итог",")"));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)}))),function(e){return xp.apply(this,arguments)}),headerName:"Цена (Аренда)",width:function(){return 300}},{type:Ct.Compute,sortable:!0,field:"prodazha_arenda",headerName:"Варианты сделки",element:function(e){var t=e.prodazha,n=e.arenda,r=[].concat(f(t||[]),f(n||[]));return ve(ge,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:[!r.length&&"",r.map((function(e){return ve(Cn,{label:e})}))]})},width:function(){return 300}},{type:Ct.Compute,sortable:!1,description:"Статус заявки",field:"status",headerName:"Статус",compute:(kp=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xl.dealViewService.readStatusByBidId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return kp.apply(this,arguments)}),width:function(){return 150}},{type:Ct.Compute,headerName:"Дата создания",compute:function(e){var t=e.$createdAt;return h(t).format("DD/MM/YYYY")},sortable:!0,field:"$createdAt",width:function(){return 200}},{type:Ct.Compute,headerName:"Дата обновления",compute:function(e){var t=e.$updatedAt;return h(t).format("DD/MM/YYYY")},sortable:!0,field:"$updatedAt",width:function(){return 200}}],Lp=function(e){for(var t={},n=0,r=Object.keys(e||{});n<r.length;n++){var a=r[n];"id"!==a&&(a.startsWith("$")||a.endsWith("_images")||a.endsWith("_files")||null!==e[a]&&""!==e[a]&&!1!==e[a]&&(t[a]=e[a]))}return t},Ip=al()((function(e){return{listItemAccient:{background:fe(e.palette.getContrastText(e.palette.background.paper),.018)}}})),Bp=me.createLoader(28),jp=[{type:Ct.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ve(Vt,{content:String(t)})},width:function(){return 100}},{type:Ct.Compute,sortable:!1,headerName:"Фото",width:function(){return 150},element:function(e){var t,n=e.apartment_images;return ve(ge,{style:{height:64,width:128,display:"flex",alignItems:"center",background:"#ccc",justifyContent:"center"},children:ve(we,{Loader:Bp,children:(t=i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n?n[0]:null)){e.next=7;break}return e.next=4,Xl.appwriteService.getImageURL(t);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0="";case 8:return a=e.t0,e.abrupt("return",ve(Le,{children:a?ve("img",{crossOrigin:"anonymous",loading:"lazy",alt:"apartment",src:a,style:{objectFit:"cover",height:"100%",width:"100%"}}):ve(Se,{sx:{color:"white",fontSize:28}})}));case 10:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})})}},{type:Ct.Text,sortable:!0,field:"zagolovok",headerName:"Заголовок",width:function(){return 200}},{type:Ct.Text,sortable:!0,field:"kolichestvo_komnat",headerName:"Комнат",width:function(){return 100}},{type:Ct.Text,sortable:!0,field:"etazh",headerName:"Этаж",width:function(){return 100}},{type:Ct.Text,sortable:!0,field:"etazhnost",headerName:"Этажность",width:function(){return 100}},{type:Ct.Compute,sortable:!0,field:"ploshhad",compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return!!e})).join(", ")},headerName:"Площадь М²",width:function(){return 200}},{type:Ct.Compute,sortable:!0,field:"adres",compute:function(e){return[e.strana,e.gorod,e.oblast,e.rajon,e.mahallya,e.ulicza,e.orientir].filter((function(e){return!!e})).join(", ")},headerName:"Адрес",width:function(){return 250}},{type:Ct.Compute,field:"kategoriya_obekta",sortable:!0,compute:function(e){var t;return(null===(t=e.kategoriya_obekta)||void 0===t?void 0:t.join(", "))||""},headerName:"Категория",width:function(){return 200}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},field:"czena_prodazha",sortable:!0,compute:(Fp=i(r().mark((function e(t){var n,a,i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.prod_startovaya_czena,a=t.prod_startovaya_czena_valyuta,i=t.prod_startovaya_czena_for,o=t.prod_kom_startovaya_czena,u=t.prod_kom_startovaya_czena_valyuta,l=t.prod_kom_startovaya_czena_for,!n){e.next=3;break}return e.abrupt("return","".concat(n," ").concat("uzs"===a?"UZS":"USD"," (").concat((null==i?void 0:i.join(""))||"Итог",")"));case 3:if(!o){e.next=5;break}return e.abrupt("return","".concat(o," ").concat("uzs"===u?"UZS":"USD"," (").concat((null==l?void 0:l.join(""))||"Итог",")"));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)}))),function(e){return Fp.apply(this,arguments)}),headerName:"Цена (Продажа)",width:function(){return 200}},{type:Ct.Compute,field:"czena_arenda",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(Ap=i(r().mark((function e(t){var n,a,i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rent_startovaya_czena,a=t.rent_startovaya_czena_valyuta,i=t.rent_startovaya_czena_for,o=t.rent_kom_startovaya_czena,u=t.rent_kom_startovaya_czena_valyuta,l=t.rent_kom_startovaya_czena_for,!n){e.next=3;break}return e.abrupt("return","".concat(n," ").concat("uzs"===a?"UZS":"USD"," (").concat((null==i?void 0:i.join(""))||"Итог",")"));case 3:if(!o){e.next=5;break}return e.abrupt("return","".concat(o," ").concat("uzs"===u?"UZS":"USD"," (").concat((null==l?void 0:l.join(""))||"Итог",")"));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)}))),function(e){return Ap.apply(this,arguments)}),headerName:"Цена (Аренда)",width:function(){return 200}},{type:Ct.Compute,sortable:!0,field:"istochnik",compute:function(e){return e.istochnik||""},headerName:"Источник",width:function(){return 150}},{type:Ct.Compute,sortable:!1,field:"status",headerName:"Статус",compute:(Tp=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xl.dealViewService.readStatusByApartmentId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return Tp.apply(this,arguments)}),width:function(){return 150}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasFioPermission},sortable:!1,field:"fio",compute:(zp=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:return a=e.sent,e.abrupt("return",a?a.fio:"");case 5:case"end":return e.stop()}}),e)}))),function(e){return zp.apply(this,arguments)}),headerName:"Ф.И.О Контакта",width:function(){return 200}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasPreviewModeDisabled},sortable:!1,field:"telefon",element:function(e){var t,n=e.id,a=e.contact_id;return ve(Mt,{payload:n,condition:function(e){return Xl.permissionRequestService.getOwnerContactPermissionByApartmentId(e)},Loading:"Загрузка",Else:"Скрыто",children:ve(we,{payload:a,children:(t=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",n?n.telefon:"");case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})})},headerName:"Номер телефона",width:function(){return 200}},{type:Ct.Compute,field:"$createdAt",headerName:"Дата создания",compute:function(e){var t=e.$createdAt;return h(t).format("DD/MM/YYYY")},sortable:!0,width:function(){return 200}},{type:Ct.Compute,field:"$updatedAt",sortable:!0,headerName:"Дата обновления",compute:function(e){var t=e.$updatedAt;return h(t).format("DD/MM/YYYY")},width:function(){return 200}}],Dp={"Категория объекта":"📌","Подкатегория объекта":"📌","Новостройка или Вторичка":"👷","Район":"📍","Адрес":"🛣️","Ориентир":"🚏","Метро":"🚊","Количество комнат":"🚪","Количество спален":"🛏️","Количество соток":"🏡","Этаж":"🪜","Этажность":"🏢","Бассейн":"🏊","Общая площадь М²":"📐","Площадь дома М²":"📐","Состояние ремонта":"⚒️","Назначение объекта":"✅","Расположение объекта":"🏫","Состояние объекта":"📊","Примечание":"💡","Тип сделки":"🔹"},Rp=function e(t,n,r){var a=t.isVisible;if(!(void 0===a?function(){return!0}:a)(n,r)){if(t.fields){var i,o=y(t.fields);try{for(o.s();!(i=o.n()).done;){var u=i.value;u.isVisible=function(){return!1},e(u,n,r)}}catch(l){o.e(l)}finally{o.f()}}t.child&&(t.child.isVisible=function(){return!1},e(t.child,n,r))}},qp=function(){var e=i(r().mark((function e(t,n){var a,i,o,u,s,c,p,d,m,f,h,v,b,_,g,k,x,w;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="",i=G.cloneDeep(Ld),(i=De(i)).forEach((function(e){return Rp(e,t,n)})),o=[],u=y(i),e.prev=6,u.s();case 8:if((s=u.n()).done){e.next=20;break}if(c=s.value,p=c.title,d=c.isVisible,m=void 0===d?function(){return!0}:d,f=c.compute,m(t,n)){e.next=13;break}return e.abrupt("continue",18);case 13:if(f&&p){e.next=15;break}return e.abrupt("continue",18);case 15:if("ЖК"!==p){e.next=17;break}return e.abrupt("continue",18);case 17:o.push(c);case 18:e.next=8;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(6),u.e(e.t0);case 25:return e.prev=25,u.f(),e.finish(25);case 28:o.sort((function(e,t){var n=e.title,r=void 0===n?"":n,a=t.title,i=void 0===a?"":a;return(G.get(Dp,i)?1:0)-(G.get(Dp,r)?1:0)})),h=o.findIndex((function(e){var t=e.title,n=void 0===t?"":t;return!G.get(Dp,n)})),v=y(o.entries()),e.prev=31,v.s();case 33:if((b=v.n()).done){e.next=46;break}if(_=l(b.value,2),g=_[0],k=_[1],x=k.title,w=k.compute,g===h&&(a+="<br>"),w&&x){e.next=38;break}return e.abrupt("continue",44);case 38:return e.t1=a,e.t2="<li><p>".concat(G.get(Dp,x)||"","<b>").concat(x,":").concat(Vn.nbsp,"</b>"),e.next=42,w(t,n);case 42:e.t3=e.sent,a=e.t1+=e.t2.concat.call(e.t2,e.t3,"</p></li>");case 44:e.next=33;break;case 46:e.next=51;break;case 48:e.prev=48,e.t4=e.catch(31),v.e(e.t4);case 51:return e.prev=51,v.f(),e.finish(51);case 54:return a+="<br>",e.abrupt("return",a);case 56:case"end":return e.stop()}}),e,null,[[6,22,25,28],[31,48,51,54]])})));return function(t,n){return e.apply(this,arguments)}}(),Pp=function(){var e=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentViewService.read(t);case 2:return n=e.sent,a="",i=function(e){return"uzs"===e?"сум":"у.е."},o=!1,Ie(n.kategoriya_obekta,"Коммерческая")?(n.prodazha&&n.prod_kom_startovaya_czena&&(a+="💵 <b>Продажа:</b> ".concat(n.prod_kom_startovaya_czena," ").concat(i(n.prod_kom_startovaya_czena_valyuta),"\n"),o=!0),n.arenda&&n.rent_kom_startovaya_czena&&(a+="🔑 <b>В аренду:</b> ".concat(n.rent_kom_startovaya_czena," ").concat(i(n.rent_kom_startovaya_czena_valyuta)),n.rent_kom_komissiya_agenstva&&(a+=" (Есть комиссия)"),a+="\n",o=!0)):Ie(n.kategoriya_obekta,"Жилая","Новостройка")&&(n.prodazha&&n.prod_startovaya_czena&&(a+="💵 <b>Продажа:</b> ".concat(n.prod_startovaya_czena," ").concat(i(n.prod_startovaya_czena_valyuta),"\n"),o=!0),n.arenda&&n.rent_startovaya_czena&&(a+="🔑 <b>В аренду:</b> ".concat(n.rent_startovaya_czena," ").concat(i(n.rent_startovaya_czena_valyuta)),n.rent_komissiya_agenstva&&(a+=" (Есть комиссия)"),a+="\n",o=!0)),o&&(a+="\n\n"),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ep=function(){var e=i(r().mark((function e(t,n,a){var i,o,u,s,c,p,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i="",t.opisanie&&(i+="<blockquote>".concat(t.opisanie,"</blockquote>")),i+="<br>",o=y(n.entries());try{for(o.s();!(u=o.n()).done;)s=l(u.value,2),c=s[0],p=s[1],i+="<figure>",i+='<img src="'.concat(p,'" />'),i+="<figcaption><em>Изображение".concat(Vn.nbsp).concat(c+1,"</em></figcaption>"),i+="</figure>"}catch(r){o.e(r)}finally{o.f()}return i+="<br>",e.t0=i,e.next=9,qp(t,a);case 9:return i=e.t0+=e.sent,i+="<p>",e.t1=i,e.next=14,Pp(t.id);case 14:return i=e.t1+=e.sent,i+="</p>",i+="<br>",e.next=19,Xl.dictService.getYoutubePrimaryLink();case 19:return e.t2=e.sent,e.next=22,Xl.dictService.getInstagramPrimaryLink();case 22:return e.t3=e.sent,e.next=25,Xl.dictService.getFacebookPrimaryLink();case 25:return e.t4=e.sent,e.next=28,Xl.dictService.getTelegramPrimaryLink();case 28:return e.t5=e.sent,d={YouTube:e.t2,Instagram:e.t3,Facebook:e.t4,Telegram:e.t5},i+="<br>",i+="<p>",i+=Object.entries(d).filter((function(e){return l(e,2)[1]})).map((function(e){var t=l(e,2),n=t[0],r=t[1];return"<a href='".concat(r,"'>").concat(n,"</a>")})).join("".concat(Vn.nbsp,"|").concat(Vn.nbsp)),i+="</p>",e.abrupt("return",i);case 35:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();var Np,Op,Up,Hp,Wp,$p,Gp,Yp,Kp=function(e){var t,n,r,a,i,o,u,l,s,c=document.createElement("canvas"),p=c.getContext&&c.getContext("2d"),d={r:0,g:0,b:0},m=0;if(r=c.height=e.naturalHeight||e.offsetHeight||e.height,n=c.width=e.naturalWidth||e.offsetWidth||e.width,!p)return null;p.drawImage(e,0,0),a=(t=p.getImageData(0,0,n,r)).data.length;for(var f=0;f<a;f+=4)d.r+=t.data[f],d.g+=t.data[f+1],d.b+=t.data[f+2],m++;return d.r=Math.floor(d.r/m),d.g=Math.floor(d.g/m),d.b=Math.floor(d.b/m),o=-40,u=(i=d).r,l=i.g,s=i.b,u=(u=Math.floor(u*(100+o)/100))<255?u:255,l=(l=Math.floor(l*(100+o)/100))<255?l:255,s=(s=Math.floor(s*(100+o)/100))<255?s:255,u=Math.round(u),l=Math.round(l),s=Math.round(s),"#"+(1==u.toString(16).length?"0"+u.toString(16):u.toString(16))+(1==l.toString(16).length?"0"+l.toString(16):l.toString(16))+(1==s.toString(16).length?"0"+s.toString(16):s.toString(16))},Zp=1024,Xp=function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=document.createElement("img")).src=t,n.crossOrigin="anonymous",e.abrupt("return",Promise.resolve().then((function(){return new Promise((function(e,t){n.addEventListener("load",(function(){return e()})),n.addEventListener("error",(function(){return t()}))}))})).then((function(){return new Promise(function(){var e=i(r().mark((function e(t,a){var i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=document.createElement("canvas")).width=Math.max(n.naturalHeight,n.naturalWidth),i.height=Math.max(n.naturalHeight,n.naturalWidth),o=i.getContext("2d")){e.next=7;break}return a("there's an error"),e.abrupt("return");case 7:return u=Kp(n),o.fillStyle=u||"#ccc",o.fillRect(0,0,i.width,i.height),o.translate(i.width/2,i.height/2),o.drawImage(n,-n.width/2,-n.height/2),o.translate(0,0),e.next=15,createImageBitmap(i);case 15:l=e.sent,i.width=Zp,i.height=Zp,o.drawImage(l,0,0,Zp,Zp),i.toBlob((function(e){e?t(e):a("there's an error")}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jp=function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xp(t);case 3:return n=e.sent,e.abrupt("return",n?URL.createObjectURL(n):null);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Qp=al()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(1),marginBottom:e.spacing(1)}}})),ed=function(e){var t,n=e.payload,a=Qp().classes,o=fn().loading,u=Mn().selectedRows,l=Ln({title:"Предпросмотр",canCancel:!1}),s=function(e){var t=e.payload;return function(){var e=i(r().mark((function e(n){var a,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.apartment_images||[],e.next=3,Promise.all(a.map(function(){var e=i(r().mark((function e(t){var a,i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getImageURL(t);case 2:return a=e.sent,e.next=5,ol(a,"№".concat(n.index));case 5:if(!(i=e.sent)){e.next=12;break}return e.next=9,Jp(i);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=i;case 13:if(!(i=e.t0)){e.next=26;break}return e.next=17,fetch(i).then((function(e){return e.blob()}));case 17:return o=e.sent,URL.revokeObjectURL(i),e.next=21,Xl.appwriteService.uploadBlob(o,"__DANGEROUS_WILL_BE_REMOVED_TELEGRAPH__.png");case 21:return u=e.sent,e.next=24,Xl.appwriteService.getFileURL(u);case 24:return l=e.sent,e.abrupt("return",l);case 26:return e.abrupt("return",Xl.appwriteService.getFileURL(t));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return o=e.sent,u="🔥 ",n.prodazha&&!n.arenda&&(u+="Продажа! "),n.arenda&&!n.prodazha&&(u+="Аренда! "),n.zagolovok&&(u+="".concat(n.zagolovok," ")),n.metro&&(u+="метро ".concat(n.metro," ")),e.t0=Xl.publishService,e.t1=u,e.next=13,Ep(n,o,t);case 13:return e.t2=e.sent,e.next=16,e.t0.publishTelegraph.call(e.t0,e.t1,e.t2);case 16:return l=e.sent,console.log({title:u,result:l}),e.abrupt("return",l.response);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({payload:n}),c=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),p=c.handleLoadStart,d=c.handleLoadEnd,m=He(function(){var e=i(r().mark((function e(t){var n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=y(t.filter((function(e){return e.zagolovok}))),e.prev=2,a.s();case 4:if((i=a.n()).done){e.next=15;break}return o=i.value,e.t0=n,e.t1=o.zagolovok,e.next=10,s(o);case 10:e.t2=e.sent,e.t3={label:e.t1,link:e.t2},e.t0.push.call(e.t0,e.t3);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t4=e.catch(2),a.e(e.t4);case 20:return e.prev=20,a.f(),e.finish(20);case 23:return u=n.filter((function(e){return e.link})).map((function(e){var t=e.label,n=e.link;return"".concat(t,"\n").concat(n,"\n")})).join("\n"),e.next=26,l({value:u}).toPromise();case 26:return In(u),e.next=29,Xl.alertService.notify("Сообщение скопировано в буфер обмена!");case 29:case"end":return e.stop()}}),e,null,[[2,17,20,23]])})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:p,onLoadEnd:d}),f=m.execute;return ve(it,{className:a.root,children:[ve(je,{fontWeight:"bold",children:"Подходящие объекты"}),ve(st,{disabled:o||!u.length,variant:"contained",onClick:(t=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(u);case 2:return e.abrupt("return",void e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),children:"Опубликовать в Telegraph"})]})},td=function(e){var t=e.fieldData,n=e.payload,r=Je(t),a=Bn(),i=Xe({title:"Предпросмотр",fullScreen:!0,handler:function(){return a.data},payload:function(){return u(u({},n),{},{hideAutofindFlag:!0})},features:n.permissions,submitLabel:"Ок",fields:Ld}),o=i.render,l=i.pickData;ye.useEffect((function(){return a.subscribe((function(){l()}))}),[]);var s=ac({storageKey:"apartment_columns",columns:jp}).columns,c=ye.useMemo((function(){return Lp(t)}),[t]);return ve(ge,{sx:{pointerEvents:"all",height:"max(60vh, 350px)",mb:5},children:[ve(vn,{withLoader:!0,withInitialLoader:!0,reloadSubject:r,selectionMode:dn.Multiple,AfterOperationList:ed,handler:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return(t=Xl.apartmentViewService).paginate.apply(t,[u(u({},c),{},{_accessLevel:5,_mode:"audit"})].concat(r))},isRowDisabled:function(e){return e.system_access_level>n.accessLevel},onRowClick:function(e){return a.next(e)},columns:s,payload:n}),o()]})},nd=function(e){var t=e.payload,n=e.features,r=ec(),a=he(),i=ac({storageKey:"apartment_columns",columns:Ds}).columns,o=cn({withSearch:!0,withLoader:!0,withSingleChip:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:Xl.userViewService.reloadSubject,selectionMode:dn.Single,onSubmit:function(e){return a.next(e),!0},AfterOperationList:Tc,filterLabel:"Выбрать объект недвижимости",filters:Qs,columns:i,handler:r,payload:t,features:n,chips:Rs}),u=o.pickData,l=o.render,s=o.open;return{pickData:u,render:l,resultSubject:a,open:s}},rd=[{type:o.Group,style:{minWidth:540},fields:[{type:o.Combo,title:"Тип сделки",isInvalid:function(e){return e.deal_type?null:"Укажите тип сделки"},name:"deal_type",map:function(e,t){var n=t.data,r=n.prod_czena_ot,a=n.prod_startovaya_czena_ot,i=void 0===a?r:a,o=n.prod_czena_do,u=n.prod_startovaya_czena_do,l=void 0===u?o:u,s=n.prod_kom_czena_ot,c=n.prod_kom_startovaya_czena_ot,p=void 0===c?s:c,d=n.prod_kom_czena_do,m=n.prod_kom_startovaya_czena_do,f=void 0===m?d:m,y=n.rent_czena_ot,h=n.rent_startovaya_czena_ot,v=void 0===h?y:h,b=n.rent_czena_do,_=n.rent_startovaya_czena_do,g=void 0===_?b:_,k=n.rent_kom_czena_ot,x=n.rent_kom_startovaya_czena_ot,w=void 0===x?k:x,S=n.rent_kom_czena_do,z=n.rent_kom_startovaya_czena_do,T=void 0===z?S:z,A=n.prod_czena_valyuta,F=void 0===A?"usd":A,C=n.rent_czena_valyuta,V=void 0===C?"usd":C;return e.deal_type&&"Продажа"===e.deal_type[0]&&(G.set(e,"price_ot",i||p),G.set(e,"price_do",l||f),G.set(e,"unit",[F||"usd"])),e.deal_type&&"Аренда"===e.deal_type[0]&&(G.set(e,"price_ot",v||w),G.set(e,"price_do",g||T),G.set(e,"unit",[V||"usd"])),e},itemList:function(){return[].concat(ro)}},{type:o.Box,isVisible:function(e){var t=e.deal_type,n=e.price_type;return!!t&&"range"===n},style:{display:"grid",gridTemplateColumns:"1fr 1fr 125px"},fields:[{type:o.Text,outlined:!1,placeholder:"Не указано",labelShrink:!0,name:"price_ot",title:"Цена От (Итог)"},{type:o.Text,outlined:!1,placeholder:"Не указано",labelShrink:!0,name:"price_do",title:"Цена До (Итог)"},{type:o.Combo,noDeselect:!0,fieldBottomMargin:"0",title:"Валюта",placeholder:"USD",itemList:["usd","uzs"],tr:function(e){return"uzs"===e?"SUM":"USD"},defaultValue:"usd",outlined:!1,name:"unit"}]},{type:o.Text,fieldBottomMargin:"1",placeholder:"Введите комментарий",inputRows:3,labelShrink:!0,name:"comment",title:"Комментарий"},{type:o.Radio,fieldBottomMargin:"0",name:"price_type",radioValue:"unset",defaultValue:"unset",title:"Цена не указана"},{type:o.Radio,fieldBottomMargin:"0",name:"price_type",radioValue:"range",title:"Промежуток"}]}],ad=[{type:o.Choose,fieldBottomMargin:"1",isInvalid:function(e){return e.target_apartment_id?null:"Укажите объект недвижимости"},choose:(Op=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickApartment(t.target_apartment_id?[t.target_apartment_id]:[]),e.next=3,n.apartmentResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return Op.apply(this,arguments)}),tr:(Np=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.zagolovok)||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Np.apply(this,arguments)}),name:"target_apartment_id",title:"Выберите объект",placeholder:"Не выбрано"},{type:o.Text,fieldBottomMargin:"1",placeholder:"Введите комментарий",inputRows:3,labelShrink:!0,name:"comment",title:"Комментарий"},{type:o.Radio,fieldBottomMargin:"0",title:"Закрытая сделка",name:"status",radioValue:"Закрытая сделка",defaultValue:"Закрытая сделка"},{type:o.Radio,fieldBottomMargin:"0",title:"Сделка сорвана",name:"status",radioValue:"Сделка сорвана"}],id=[{action:"deal-end-action",isDisabled:function(e){return!e.activeItem},label:"Завершить сделку"}],od=[{type:o.Paper,features:["hasResponsiblePermission"],fieldBottomMargin:"1",fieldRightMargin:"1",columns:"12",fields:[{type:o.Component,element:function(e){var t=e.id,n=e.payload,a=e.features,o=e._fieldData,s=l(ye.useState(null),2),c=s[0],p=s[1],d=l(ye.useState(null),2),m=d[0],f=d[1],y=ye.useMemo((function(){return u(u({},c),{},{occupiedBy:m})}),[c,m]),h=nd({payload:n,features:a}),v=h.pickData,b=h.render,_=h.resultSubject,g=He(i(r().mark((function e(){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xl.appwriteService.currentUser.$id,e.next=3,Xl.dealHistoryRequestService.readDealStateByBid(t,n);case 3:return a=e.sent,e.next=6,Xl.dealViewService.findOccupiedByTagetBidId(t);case 6:i=e.sent,p(a),f(i);case 9:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError}),k=g.loading,x=g.execute,w=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),S=w.handleLoadStart,z=w.handleLoadEnd,T=Ke({title:"Завершение сделки",fields:ad,payload:function(){return u(u({},n),{},{pickApartment:v,apartmentResultSubject:_})},features:a}),A=Ke({title:"Начало сделки",fields:rd,payload:u({data:o},n),features:a});ye.useEffect((function(){return Xl.dealHistoryViewService.createSubject.subscribe((function(e){e.bid_id===t&&x()}))}),[]),ye.useEffect((function(){x()}),[]);var F,C,V,M,L=function(){var e=i(r().mark((function e(n){var a,i,o,u,l,s=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:[],i=s.length>2&&void 0!==s[2]?s[2]:"usd",o=s.length>3&&void 0!==s[3]?s[3]:"",u=!0,S(),e.prev=5,l=Xl.appwriteService.currentUser.$id,e.next=9,Xl.dealHistoryRequestService.commitBidDealBegin(t,l,n,a,i,o);case 9:return e.next=11,x();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),Xl.alertService.notify(Eu(e.t0)),u=!1;case 17:return e.prev=17,z(u),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){A().then(function(){var e=i(r().mark((function e(t){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.deal_type?t.deal_type[0]:""){e.next=5;break}return e.abrupt("return");case 5:a=[],i="","range"===t.price_type&&(a=[t.price_ot,t.price_do].filter((function(e){return e})),i=t.unit?t.unit[0]:"usd"),L(n,a,i,t.comment);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},B=function(){var e=i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,S(),e.prev=2,a=Xl.appwriteService.currentUser.$id,e.next=6,Xl.dealHistoryRequestService.commitBidDealReassign(t,a);case 6:return e.next=8,x();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n=!1;case 13:return e.prev=13,z(n),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=i(r().mark((function e(n,a,i){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!0,S(),e.prev=2,e.next=5,Xl.dealRequestService.commitBidDealEnd(t,n,a,i);case 5:return e.next=7,x();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),o=!1;case 12:return e.prev=12,z(o),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t,n,r){return e.apply(this,arguments)}}(),D=function(e){"deal-end-action"===e&&T().then((function(e){e&&j(e.target_apartment_id,e.status,e.comment)}))};return ve(Me,{style:{pointerEvents:"all"},direction:"column",children:[ve(je,{variant:"body1",sx:{mt:-.5,mb:1,color:function(e){return e.palette.action.active},fontWeight:"bold"},children:"Сделка"}),ve(Me,{direction:"column",gap:"16px",children:[ve(Me,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[ve(we,{loading:k,Loader:function(){return ve(Me,{direction:"row",gap:"16px",alignItems:"center",children:[ve(wt,{variant:"circular",width:40,height:40}),ve(Me,{children:[ve(wt,{sx:{mb:1},variant:"rectangular",width:210,height:20}),ve(wt,{variant:"rectangular",width:210,height:20})]})]})},payload:y,children:(M=i(r().mark((function e(t){var n,a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.occupiedBy){e.next=2;break}return e.abrupt("return",ve(je,{variant:"body1",children:["Сделка в статусе"," ",ve(sn,{href:"#",onClick:function(){return ue("/deal")},children:t.occupiedBy.status})]}));case 2:if(null!=t&&t.activeItem){e.next=4;break}return e.abrupt("return",ve(je,{variant:"body1",children:"Сделка не создана"}));case 4:return e.next=6,Xl.userViewService.read(t.activeItem.user_id);case 6:if(n=e.sent,a=n.first_name,i=void 0===a?"Не указано":a,o=n.user_role,u=n.avatar,!(l=void 0===u?null:u)){e.next=18;break}return e.next=15,Xl.appwriteService.getImageURL(l);case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0="";case 19:return s=e.t0,e.next=22,Xl.dictService.getUserRoles();case 22:return c=e.sent,e.abrupt("return",ve(Me,{direction:"row",gap:"16px",alignItems:"center",children:[ve(St,{alt:i,src:s}),ve(Me,{direction:"column",children:[ve(je,{variant:"body1",children:i}),ve(je,{variant:"caption",style:{fontSize:"14px"},children:null!=o&&o.length?G.get(c,o[0])||o[0]:"Не указано"})]})]}));case 24:case"end":return e.stop()}}),e)}))),function(e){return M.apply(this,arguments)})}),ve(Me,{direction:"row",gap:1,alignItems:"center",children:[ve(we,{loading:k,Loader:function(){return ve(wt,{variant:"rectangular",sx:{borderRadius:"4px"},width:100,height:35})},payload:y,children:(V=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.occupiedBy){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Xl.permissionRequestService.hasReassignDelayFlagByBidId(t);case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",ve(st,{disabled:!0,variant:"contained",children:"Сделка активна"}));case 7:if(null==n||!n.activeItem){e.next=11;break}return a=Xl.appwriteService.currentUser.$id,i=n.activeItem.user_id===a,e.abrupt("return",ve(st,{disabled:i,onClick:B,variant:"contained",children:i?"Сделка создана":"Забрать сделку"}));case 11:return e.abrupt("return",ve(st,{onClick:I,variant:"contained",children:"Создать сделку"}));case 12:case"end":return e.stop()}}),e)}))),function(e){return V.apply(this,arguments)})}),ve(we,{loading:k,Loader:function(){return ve(wt,{variant:"circular",width:40,height:40})},payload:y,children:(C=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ve(Sn,{transparent:!0,options:id,payload:t,onAction:D}));case 1:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})})]})]}),ve(we,{loading:k,Loader:function(){return ve(jn,{max:Number.POSITIVE_INFINITY,style:{marginRight:"auto"},children:[ve(wt,{variant:"circular",width:28,height:28}),ve(wt,{variant:"circular",width:28,height:28}),ve(wt,{variant:"circular",width:28,height:28})]})},payload:y,children:(F=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&null!==(n=t.reassign)&&void 0!==n&&n.length){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Promise.all(t.reassign.filter((function(e,t,n){return n.findIndex((function(t){return t.user_id===e.user_id}))==t})).map(function(){var e=i(r().mark((function e(t){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,e.next=3,Xl.userViewService.tryRead(n);case 3:if(a=e.sent,i="",null==a||!a.avatar){e.next=9;break}return e.next=8,Xl.appwriteService.getImageURL(a.avatar);case 8:i=e.sent;case 9:return e.abrupt("return",ve(St,{style:{height:"28px",width:"28px"},alt:null==a?void 0:a.email,src:i}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return a=e.sent,e.abrupt("return",ve(jn,{max:Number.POSITIVE_INFINITY,style:{marginRight:"auto"},children:a}));case 6:case"end":return e.stop()}}),e)}))),function(e){return F.apply(this,arguments)})})]}),b()]})}}]},{type:o.Paper,features:["hasResponsiblePermission"],fieldBottomMargin:"1",fieldRightMargin:"1",columns:"12",innerPadding:"0",fields:[{type:o.Component,element:function(e){var t,n=e.system_created_by,a=e.system_only_for_owner,o=e.system_allowance,u=Ip().classes;return ve(Me,{style:{pointerEvents:"all"},direction:"column",children:[ve(je,{variant:"body1",sx:{m:2,color:function(e){return e.palette.action.active},fontWeight:"bold"},children:"Доступ"}),ve(pt,{disablePadding:!0,dense:!0,children:ve(we,{deps:[a,o],children:(t=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n&&t.push(n),o&&o.forEach((function(e){return t.push(e)})),t.length){e.next=5;break}return e.abrupt("return",ve(je,{sx:{m:2,mt:-.5},children:"Все пользователи"}));case 5:return e.t0=ve,e.t1=Le,e.next=9,Promise.all(t.filter((function(e,t,n){return n.indexOf(e)==t})).map(function(){var e=i(r().mark((function e(t,i){var o,l,s,c,p,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.read(t);case 2:if(!(l=e.sent).avatar){e.next=9;break}return e.next=6,Xl.appwriteService.getImageURL(l.avatar);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="";case 10:return s=e.t0,e.next=13,Xl.dictService.getUserRoles();case 13:return c=e.sent,p=[l.last_name,l.first_name,l.middle_name].filter((function(e){return e})).join(" "),m=null!==(o=l.user_role)&&void 0!==o&&o.length?G.get(c,l.user_role[0])||l.user_role[0]:"Не указано",e.abrupt("return",ve(kt,{className:ke(d({},u.listItemAccient,i%2==0)),children:[ve(xt,{children:ve(St,{src:s})}),ve(ft,{primary:p,secondary:l.phone||m}),t===n&&ve(Me,{gap:1,direction:"row",children:[ve(Fn,{label:"Создал заявку",color:"info"}),!!a&&ve(Fn,{label:"Эксклюзив",color:"warning"})]})]}));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 9:return e.t2=e.sent,e.t3={children:e.t2},e.abrupt("return",(0,e.t0)(e.t1,e.t3));case 12:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})})]})}}]},{type:o.Group,columns:"12",fieldRightMargin:"0",fieldBottomMargin:"0",isVisible:function(e){return us.apply(void 0,[e].concat(["kategoriya_obekta","podkategoriya_obekta","arenda","prodazha","istochnik"]))},fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:o.Text,isVisible:function(e){return us(e,"zagolovok")},outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:o.Text,isVisible:function(e){return us(e,"kategoriya_obekta")},outlined:!1,compute:function(e){return e.kategoriya_obekta||""},title:"Категория объекта"},{type:o.Text,isVisible:function(e){return!!Ie(e.kategoriya_obekta,"Жилая")||!!Ie(e.kategoriya_obekta,"Коммерческая")},outlined:!1,compute:function(e){return e.podkategoriya_obekta||"Не задано"},title:"Подкатегория объекта"},{type:o.Text,isVisible:function(e){return us(e,"arenda","prodazha")},outlined:!1,compute:function(e){var t=e.arenda,n=e.prodazha;return n&&t?"Продажа, Аренда":n?"Продажа":t?"Аренда":"Не задано"},title:"Тип сделки"},{type:o.Text,isVisible:function(e){return us(e,"strana")},outlined:!1,columns:"6",compute:function(e){return e.strana||""},title:"Страна"},{type:o.Text,isVisible:function(e){return us(e,"oblast")},outlined:!1,columns:"6",compute:function(e){return e.oblast||""},title:"Область"},{type:o.Text,isVisible:function(e){return us(e,"gorod")},outlined:!1,compute:function(e){return e.gorod||""},title:"Город"},{type:o.Text,isVisible:function(e){return us(e,"ulicza")},outlined:!1,compute:function(e){var t=e.ulicza,n=[t?t.toLowerCase().includes("улица")?t:"улица ".concat(t):null].filter((function(e){return e}));return n.length?n.flatMap((function(e){return e})).join(", "):"Не указан"},title:"Адрес"},{type:o.Text,isVisible:function(e){return us(e,"rajon")},outlined:!1,compute:function(e){return e.rajon||""},title:"Район"},{type:o.Text,isVisible:function(e){return us(e,"mahallya")},outlined:!1,compute:function(e){return e.mahallya||""},title:"Махалля"},{type:o.Text,isVisible:function(e){return us(e,"orientir")},outlined:!1,compute:function(e){return e.orientir||""},title:"Ориентир"},{type:o.Text,isVisible:function(e){return us(e,"metro")},outlined:!1,compute:function(e){return e.metro||""},title:"Метро"},{type:o.Fragment,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,isVisible:function(e){return us(e,"nomer_doma")},features:["hasBidHouseNumberPermission"],columns:"6",outlined:!1,name:"nomer_doma",title:"№ дома"},{type:o.Text,isVisible:function(e){return us(e,"nomer_kvartiry")},features:["hasBidHouseNumberPermission"],columns:"6",outlined:!1,name:"nomer_kvartiry",title:"№ квартиры"}]},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta)&&!Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,isVisible:function(e){return us(e,"nomer_doma")},features:["hasBidHouseNumberPermission"],outlined:!1,name:"nomer_doma",title:"№ дома"}]},{type:o.Text,isVisible:function(e){return us(e,"istochnik")},outlined:!1,compute:function(e){return e.istochnik||""},title:"Источник"},{type:o.Component,isVisible:function(e){return us(e,"tip_klienta")},fieldBottomMargin:"2",element:function(e){var t,n=e.contact_id;return ve(we,{payload:n,Loader:function(){return ve(Pt,{fullWidth:!0,variant:"standard",label:"Тип клиента",InputProps:{readOnly:!0},value:"Загрузка"})},children:(t=i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(n);case 2:return t=e.sent,a=(null==t?void 0:t.tip_klienta)||"",e.abrupt("return",ve(Pt,{fullWidth:!0,variant:"standard",label:"Тип клиента",InputProps:{readOnly:!0},value:a}));case 5:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})}}]},{type:o.Component,style:{height:"100%"},columns:"6",fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData,r=e.features;return ve(Js,{withTransparentHeader:!0,readonly:!0,isViewMode:!r.includes("hasCommissionPermission"),withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}}]},{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&Ie(e.podkategoriya_obekta,"Квартиры"))&&Ie(e.kategoriya_obekta,"Жилая"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая Квартира)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return us(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_planirovki")},title:"Тип планировки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"zhilaya_ploshhad_ot","zhilaya_ploshhad_do")},name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_spalen_ot","kolichestvo_spalen_do")},name:"kolichestvo_spalen",title:"Количество спален"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"spalnya_sanuzel_ot","spalnya_sanuzel_do")},name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(f(t||[]),f(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(f(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&Ie(e.podkategoriya_obekta,"Дома"))&&Ie(e.kategoriya_obekta,"Жилая"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилой дом)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_doma")},title:"Состояние дома"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return us(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_planirovki")},title:"Тип планировки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.bassejn].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"bassejn")},title:"Бассейн"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_doma_ot","ploshhad_doma_do")},name:"ploshhad_doma",title:"Площадь дома М²"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_spalen_ot","kolichestvo_spalen_do")},name:"kolichestvo_spalen",title:"Количество спален"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"spalnya_sanuzel_ot","spalnya_sanuzel_do")},name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(f(t||[]),f(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(f(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.garazh].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"garazh")},title:"Гараж"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_doma")},title:"Расположение дома"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"}]},{type:o.Fragment,isVisible:function(e){return(!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.kategoriya_obekta,"Коммерческая")))},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая недвижимость)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"poleznaya_ploshhad_ot","poleznaya_ploshhad_do")},name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return us(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.vid_liczenzii].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"vid_liczenzii")},title:"Вид лицензии"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_obekta")},title:"Расположение объекта"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&Ie(e.podkategoriya_obekta,"Земля/Участок"))&&Ie(e.kategoriya_obekta,"Жилая"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая земля/участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_zemli_uchastka].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_zemli_uchastka")},title:"Тип земли/участка"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"poleznaya_ploshhad_ot","poleznaya_ploshhad_do")},name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"rasstoyanie_do_goroda_ot","rasstoyanie_do_goroda_do")},name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.podezdnye_puti].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"podezdnye_puti")},title:"Подъездные пути"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return us(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.podkategoriya_obekta,"Квартиры"))&&te(re(Ie(e.kategoriya_obekta,"Коммерческая"),Ie(e.kategoriya_obekta,"Жилая")),re(Ie(e.kategoriya_obekta,"Коммерческая"),!Ie(e.kategoriya_obekta,"Жилая")))},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая квартира)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_planirovki")},title:"Тип планировки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return us(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:o.Text,columns:"3",outlined:!1,isVisible:function(e){return us(e,"nazvanie_zhk")},name:"nazvanie_zhk",title:"Название ЖК"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"zhilaya_ploshhad_ot","zhilaya_ploshhad_do")},name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_spalen_ot","kolichestvo_spalen_do")},name:"kolichestvo_spalen",title:"Количество спален"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(f(t||[]),f(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(f(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"spalnya_sanuzel_ot","spalnya_sanuzel_do")},name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_obekta")},title:"Расположение объекта"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.podkategoriya_obekta,"Дома"))&&te(re(Ie(e.kategoriya_obekta,"Коммерческая"),Ie(e.kategoriya_obekta,"Жилая")),re(Ie(e.kategoriya_obekta,"Коммерческая"),!Ie(e.kategoriya_obekta,"Жилая")))},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческий дом)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_doma")},title:"Состояние дома"},{type:o.Items,columns:"3",freeSolo:!0,outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_obekta")},title:"Расположение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_doma_ot","ploshhad_doma_do")},name:"ploshhad_doma",title:"Площадь дома М²"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_doma")},title:"Расположение дома"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_planirovki")},title:"Тип планировки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.bassejn].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"bassejn")},title:"Бассейн"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_spalen_ot","kolichestvo_spalen_do")},name:"kolichestvo_spalen",title:"Количество спален"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"spalnya_sanuzel_ot","spalnya_sanuzel_do")},name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return us(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(f(t||[]),f(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(f(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.garazh].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"garazh")},title:"Гараж"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.podkategoriya_obekta,"Земля/Участок"))&&te(re(Ie(e.kategoriya_obekta,"Коммерческая"),Ie(e.kategoriya_obekta,"Жилая")),re(Ie(e.kategoriya_obekta,"Коммерческая"),!Ie(e.kategoriya_obekta,"Жилая")))},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая земля/участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_zemli_uchastka].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_zemli_uchastka")},title:"Тип земли/участка"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"poleznaya_ploshhad_ot","poleznaya_ploshhad_do")},name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:o.Items,columns:"3",freeSolo:!0,outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"rasstoyanie_do_goroda_ot","rasstoyanie_do_goroda_do")},name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return us(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.podezdnye_puti].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"podezdnye_puti")},title:"Подъездные пути"},{type:o.Items,columns:"3",freeSolo:!0,outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"}]}]},{type:o.Paper,isVisible:function(e){return us(e,"vnutri_est","ryadom_est")},fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте"})}},{type:o.Component,fieldBottomMargin:"1",columns:"6",element:function(){return ve(je,{children:"Внутри есть:"})}},{type:o.Component,fieldBottomMargin:"1",columns:"6",element:function(){return ve(je,{children:"Рядом есть:"})}},{type:o.Component,columns:"6",isVisible:function(e){var t=e.vnutri_est;return!(null==t||!t.length)},element:function(e){var t=e.vnutri_est;return ve("div",{children:ve(ge,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:null==t?void 0:t.map((function(e,t){return ve(Fn,{label:e},t)}))})})}},{type:o.Component,columns:"6",isVisible:function(e){var t=e.ryadom_est;return!(null==t||!t.length)},element:function(e){var t=e.ryadom_est;return ve("div",{children:ve(ge,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:null==t?void 0:t.map((function(e,t){return ve(Fn,{label:e},t)}))})})}}]},{type:o.Paper,isVisible:function(e){return us(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do","ploshhad_spalni_ot","ploshhad_spalni_do","ploshhad_holla_ot","ploshhad_holla_do","ploshhad_kuhni_ot","ploshhad_kuhni_do","ploshhad_sanuzla_ot","ploshhad_sanuzla_do","ploshhad_balkona_ot","ploshhad_balkona_do","ploshhad_terrasy_ot","ploshhad_terrasy_do","ploshhad_komnaty_ohrany_ot","ploshhad_komnaty_ohrany_do","ploshhad_gostevogo_doma_ot","ploshhad_gostevogo_doma_do","ploshhad_dopolnitelnoj_pristrojki_ot","ploshhad_dopolnitelnoj_pristrojki_do")},fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади"})}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&te(Ie(e.kategoriya_obekta,"Коммерческая"),Ie(e.kategoriya_obekta,"Жилая")))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do")},name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_spalni_ot","ploshhad_spalni_do")},name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_holla_ot","ploshhad_holla_do")},name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_kuhni_ot","ploshhad_kuhni_do")},name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_sanuzla_ot","ploshhad_sanuzla_do")},name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_balkona_ot","ploshhad_balkona_do")},name:"ploshhad_balkona",title:"Площадь балкона М²"})]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&te(Ie(e.kategoriya_obekta,"Коммерческая"),Ie(e.kategoriya_obekta,"Жилая")))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do")},name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_spalni_ot","ploshhad_spalni_do")},name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_holla_ot","ploshhad_holla_do")},name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_kuhni_ot","ploshhad_kuhni_do")},name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_sanuzla_ot","ploshhad_sanuzla_do")},name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_balkona_ot","ploshhad_balkona_do")},name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_terrasy_ot","ploshhad_terrasy_do")},name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_komnaty_ohrany_ot","ploshhad_komnaty_ohrany_do")},name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_gostevogo_doma_ot","ploshhad_gostevogo_doma_do")},name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_dopolnitelnoj_pristrojki_ot","ploshhad_dopolnitelnoj_pristrojki_do")},name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&te(Ie(e.kategoriya_obekta,"Коммерческая"),Ie(e.kategoriya_obekta,"Жилая")))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do")},name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_spalni_ot","ploshhad_spalni_do")},name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_holla_ot","ploshhad_holla_do")},name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_kuhni_ot","ploshhad_kuhni_do")},name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_sanuzla_ot","ploshhad_sanuzla_do")},name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_balkona_ot","ploshhad_balkona_do")},name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_terrasy_ot","ploshhad_terrasy_do")},name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_komnaty_ohrany_ot","ploshhad_komnaty_ohrany_do")},name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&te(Ie(e.kategoriya_obekta,"Коммерческая")))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do")},name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_spalni_ot","ploshhad_spalni_do")},name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_holla_ot","ploshhad_holla_do")},name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_kuhni_ot","ploshhad_kuhni_do")},name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_sanuzla_ot","ploshhad_sanuzla_do")},name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_balkona_ot","ploshhad_balkona_do")},name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_terrasy_ot","ploshhad_terrasy_do")},name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return us(e,"ploshhad_komnaty_ohrany_ot","ploshhad_komnaty_ohrany_do")},name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:o.Paper,features:["hasDescriptionPermission"],fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:o.Text,sx:{pointerEvents:"all"},inputRows:8,outlined:!1,name:"opisanie",title:"Описание"}]},{type:o.Component,isVisible:function(e,t){return!t.hideAutofindFlag},fieldBottomMargin:"1",fieldRightMargin:"1",element:function(e){var t=e._fieldData,n=e.payload,r=e.features;return ve(td,{payload:n,features:r,fieldData:t})}}],ud=al()((function(e){return{root:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:e.spacing(1),marginBottom:e.spacing(1)}}})),ld=function(){var e=ud().classes;return ve(it,{className:e.root,children:[ve(je,{fontWeight:"bold",children:"Подходящие заявки"}),ve("div",{})]})},sd=function(e){var t=e.fieldData,n=e.payload,a=Je(t),o=Bn(),l=Xe({title:"Предпросмотр",fullScreen:!0,handler:function(){return o.data},payload:function(){return u(u({},n),{},{hideAutofindFlag:!0})},features:n.permissions,submitLabel:"Ок",fields:od}),s=l.render,c=l.pickData;ye.useEffect((function(){return o.subscribe((function(){c()}))}),[]);var p,d=ac({storageKey:"bid_columns",columns:Mp}).columns,m=ye.useMemo((function(){return Lp(t)}),[t]);return ve(ge,{sx:{pointerEvents:"all",height:"max(60vh, 350px)",mb:5},children:[ve(vn,{withLoader:!0,withInitialLoader:!0,reloadSubject:a,AfterOperationList:ld,handler:(p=i(r().mark((function e(t){var n,a,i,o,l,s=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=s.length,i=new Array(a>1?a-1:0),o=1;o<a;o++)i[o-1]=s[o];return e.next=3,(n=Xl.bidViewService).paginate.apply(n,[u(u({},m),{},{_accessLevel:5,_mode:"audit"})].concat(i));case 3:return l=e.sent,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)}),isRowDisabled:function(e){return e.system_access_level>n.accessLevel},onRowClick:function(e){return o.next(e)},columns:d,payload:n}),s()]})},cd=[{type:At.Add,isDisabled:function(e,t){return!t.permissions.hasBidCreatePermission},label:"Создать"},{type:At.Fab,action:"column-setup-action",icon:Ft,label:"Колонки"},{type:At.Menu,options:[{action:"add-action",isDisabled:function(e,t){return!t.permissions.hasBidCreatePermission}},{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],pd=[{type:Ct.Compute,sortable:!1,field:"index",description:"Номер заявки",headerName:"Номер",element:function(e){var t=e.index;return ve(Vt,{content:t})},width:function(){return 100}},{type:Ct.Text,sortable:!0,field:"zagolovok",description:"Заголовок заявки",headerName:"Заголовок",width:function(){return 200}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasFioPermission},sortable:!1,field:"fio",description:"Фамилия, имя, отчество контакта",compute:($p=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:return a=e.sent,e.abrupt("return",a?a.fio:"");case 5:case"end":return e.stop()}}),e)}))),function(e){return $p.apply(this,arguments)}),headerName:"Ф.И.О. Контакта",width:function(){return 200}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasPreviewModeDisabled},sortable:!1,field:"telefon",description:"Номер телефона контакта",element:function(e){var t,n=e.id,a=e.contact_id;return ve(Mt,{payload:n,condition:function(e){return Xl.permissionRequestService.getOwnerContactPermissionByBidId(e)},Loading:"Загрузка",Else:"Скрыто",children:ve(we,{payload:a,children:(t=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",n?n.telefon:"");case 4:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})})},headerName:"Номер телефона",width:function(){return 200}},{type:Ct.Compute,field:"kategoriya_obekta",description:"Категория объекта",sortable:!0,compute:function(e){return e.kategoriya_obekta||""},headerName:"Категория",width:function(){return 200}},{type:Ct.Compute,field:"podkategoriya_obekta",description:"Подкатегория объекта",sortable:!0,compute:function(e){return e.podkategoriya_obekta||""},headerName:"Подкатегория",width:function(){return 200}},{type:Ct.Compute,sortable:!0,field:"prodazha_arenda",description:"Продажа/Аренда",headerName:"Варианты сделки",element:function(e){var t=e.prodazha,n=e.arenda,r=[].concat(f(t||[]),f(n||[]));return ve(ge,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:[!r.length&&"",r.map((function(e){return ve(Fn,{label:e})}))]})},width:function(){return 300}},{type:Ct.Compute,field:"czena_prodazha",description:"Продажа",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(Wp=i(r().mark((function e(t){var n,a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.prod_startovaya_czena_ot,a=t.prod_startovaya_czena_do,i=t.prod_startovaya_czena_valyuta,o=t.prod_startovaya_czena_for,u=t.prod_kom_startovaya_czena_ot,l=t.prod_kom_startovaya_czena_do,s=t.prod_kom_startovaya_czena_valyuta,c=t.prod_kom_startovaya_czena_for,!n||!a){e.next=3;break}return e.abrupt("return","От ".concat(n," До ").concat(a," ").concat("uzs"===i?"UZS":"USD"," (").concat((null==o?void 0:o.join(""))||"Итог",")"));case 3:if(!u||!l){e.next=5;break}return e.abrupt("return","От ".concat(u," До ").concat(l," ").concat("uzs"===s?"UZS":"USD"," (").concat((null==c?void 0:c.join(""))||"Итог",")"));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)}))),function(e){return Wp.apply(this,arguments)}),headerName:"Цена (Продажа)",width:function(){return 300}},{type:Ct.Compute,field:"czena_arenda",description:"Аренда",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(Hp=i(r().mark((function e(t){var n,a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.rent_startovaya_czena_ot,a=t.rent_startovaya_czena_do,i=t.rent_startovaya_czena_valyuta,o=t.rent_startovaya_czena_for,u=t.rent_kom_startovaya_czena_ot,l=t.rent_kom_startovaya_czena_do,s=t.rent_kom_startovaya_czena_valyuta,c=t.rent_kom_startovaya_czena_for,!n||!a){e.next=3;break}return e.abrupt("return","От ".concat(n," До ").concat(a," ").concat("uzs"===i?"UZS":"USD"," (").concat((null==o?void 0:o.join(""))||"Итог",")"));case 3:if(!u||!l){e.next=5;break}return e.abrupt("return","От ".concat(u," До ").concat(l," ").concat("uzs"===s?"UZS":"USD"," (").concat((null==c?void 0:c.join(""))||"Итог",")"));case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)}))),function(e){return Hp.apply(this,arguments)}),headerName:"Цена (Аренда)",width:function(){return 300}},{type:Ct.Compute,sortable:!1,description:"Статус заявки",field:"status",headerName:"Статус",compute:(Up=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xl.dealViewService.readStatusByBidId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return Up.apply(this,arguments)}),width:function(){return 150}},{type:Ct.Compute,headerName:"Дата создания",description:"Дата создания заявки",compute:function(e){var t=e.$createdAt;return h(t).format("DD/MM/YYYY")},sortable:!0,field:"$createdAt",width:function(){return 200}},{type:Ct.Compute,headerName:"Дата обновления",description:"Дата обновления заявки",compute:function(e){var t=e.$updatedAt;return h(t).format("DD/MM/YYYY")},sortable:!0,field:"$updatedAt",width:function(){return 200}},{type:Ct.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],dd=[{label:"Редактировать",isDisabled:function(e,t){return!t.permissions.hasBidUpdatePermission},action:"edit-action",icon:Lt},{label:"В архиве",action:"toggle-archive",icon:It,isVisible:function(e){return!e.system_is_archive}},{label:"В архиве",action:"toggle-archive",icon:Bt,isVisible:function(e){return!!e.system_is_archive}},{label:"Создать копию",isVisible:function(e){return 5===e.accessLevel},action:"copy-action",icon:Rt},{label:"Удалить",action:"remove-action",isVisible:function(e){return 5===e.accessLevel},icon:jt}],md=[{label:"Жилая",name:"zhilaya"},{label:"Коммерческая",name:"kommercheskaya"},{label:"Новостройка",name:"novostrojka"}],fd=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая недвижимость)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Земля/Участок)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Квартиры)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Дома)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая квартира)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческий дом)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"}]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая Земля/Участок)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]}],yd=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая недвижимость)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Терраса","Угловой","Комната охраны","Вдоль дороги","Сарай","Огород","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||Ie(e.podkategoriya_obekta,"Земля/Участок"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Земля/Участок)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческий дом)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Комната охраны","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Вдоль дороги","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],hd=[{type:o.Fragment,isVisible:function(e){return(!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.kategoriya_obekta,"Коммерческая")))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая недвижимость)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_obekta",title:"Состояние объекта",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Combo,columns:"3",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Items,columns:"3",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"voda",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya",title:"Канализация",itemList:["Да","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kommercziya",title:"Лифт",itemList:["Есть","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:o.Fragment,isVisible:function(e){if(Ie(e.podkategoriya_obekta,"Квартиры")&&Ie(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Квартиры)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Combo,columns:"3",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Items,columns:"3",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"},{type:o.Combo,columns:"3",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:o.Items,columns:"3",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},{type:o.Text,columns:"3",outlined:!1,name:"kod_domofona",title:"Код домофона"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:o.Items,columns:"3",outlined:!1,name:"energonositel_obekta",title:"Энергоноситель объекта",itemList:["Электрофицирован","Газифицирован"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"podezd_nomer",title:"Подъезд №"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Items,columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]}]}},{type:o.Fragment,isVisible:function(e){if(Ie(e.podkategoriya_obekta,"Дома")&&Ie(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Дома)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Combo,columns:"3",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Items,columns:"3",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:o.Items,columns:"3",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:o.Items,columns:"3",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Items,columns:"3",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Items,columns:"3",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]}]}},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")&&Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Земля/Участок)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Items,columns:"3",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Items,columns:"3",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"},{type:o.Items,columns:"3",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая квартира)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Combo,columns:"3",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Items,columns:"3",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Complete,columns:"3",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"},{type:o.Combo,columns:"3",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:o.Items,columns:"3",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Text,columns:"3",outlined:!1,name:"kod_domofona",title:"Код домофона"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:o.Items,columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"podezd_nomer",title:"Подъезд №"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Items,columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческий дом)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,columns:"3",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Combo,columns:"3",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"},{type:o.Combo,columns:"3",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:o.Items,columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Items,columns:"3",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Items,columns:"3",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:o.Items,columns:"3",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:o.Items,columns:"3",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Items,columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая Земля/Участок)"})}},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Items,columns:"3",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:o.Combo,columns:"3",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,columns:"3",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:o.Items,columns:"3",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:o.Items,columns:"3",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"},{type:o.Items,columns:"3",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Text,columns:"3",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}}],vd=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Квартиры)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Дома)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Комната охраны","Вдоль дороги","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая квартира)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж","Угловой","Вдоль дороги"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая Земля/Участок)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],bd=[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:o.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:o.Items,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:o.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:o.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Combo,columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:o.Complete,isVisible:function(e){return!!Ie(e.podkategoriya_obekta,"Квартиры")&&!Ie(e.kategoriya_obekta,"Коммерческая")},columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:o.Combo,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:o.Items,isVisible:function(e){var t=!1;return t=(t=(t=t||Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Combo,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]}].concat(hd,[{type:o.Group,columns:"12",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:o.Paper,columns:"6",fieldRightMargin:"1",fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Расположение объекта"})}},{type:o.Complete,outlined:!1,name:"strana",title:"Страна",tip:(Yp=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Узбекистан"]);case 1:case"end":return e.stop()}}),e)}))),function(){return Yp.apply(this,arguments)})},{type:o.Complete,outlined:!1,name:"gorod",title:"Город",tip:["Ташкент"]},{type:o.Complete,outlined:!1,name:"oblast",title:"Область",tip:(Gp=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Ташкентская область"]);case 1:case"end":return e.stop()}}),e)}))),function(){return Gp.apply(this,arguments)})},{type:o.Complete,outlined:!1,name:"rajon",title:"Район",tip:["Алмазарский район","Бектемирский район","Мирабадский район","Мирзо-Улугбекский район","Сергелийский район","Учтепинский район","Чиланзарский район","Шайхантахурский район","Юнусабадский район","Яккасарайский район","Янгихаётский район","Яшнабадский район"]},{type:o.Complete,tip:Xl.dictService.getMahallya,outlined:!1,name:"mahallya",title:"Махалля"},{type:o.Complete,tip:Xl.dictService.getUlicza,outlined:!1,name:"ulicza",title:"Улица"},{type:o.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Fragment,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,columns:"6",outlined:!1,name:"nomer_doma",title:"№ дома"},{type:o.Text,columns:"6",outlined:!1,name:"nomer_kvartiry",title:"№ квартиры"}]},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta)&&!Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,outlined:!1,name:"nomer_doma",title:"№ дома"}]},{type:o.Component,element:ip}]}},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:o.Group,style:{height:"100%"},columns:"6",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:o.Component,style:{height:"calc(100% - 212px)"},fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData;return ve(_p,{withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}},{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:o.Text,inputRows:3,outlined:!1,name:"opisanie",title:"Описание"}]}]}}]}],vd,yd,fd);window.bid_filters=bd;var _d,gd,kd,xd,wd,Sd,zd=function(){return Xt(Xl.bidViewService.paginate,{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError})},Td=[{type:o.Box,noBaseline:!0,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr auto","& > .MuiGrid-root":{minWidth:"275px"},minWidth:"calc(275px * 3)",mt:-1},fields:[{type:o.Choose,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",choose:(xd=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickUser(t.system_created_by?[t.system_created_by]:[]),e.next=3,n.userResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return xd.apply(this,arguments)}),tr:(kd=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",[null==n?void 0:n.last_name,null==n?void 0:n.first_name,null==n?void 0:n.middle_name].filter((function(e){return e})).join(" ")||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return kd.apply(this,arguments)}),name:"system_created_by",title:"",placeholder:"Создал"},{type:o.Choose,sx:{minWidth:"100% !important"},fieldBottomMargin:"0",fieldRightMargin:"3",columns:"4",choose:(gd=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickContact(t.contact_id?[t.contact_id]:[]),e.next=3,n.contactResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return gd.apply(this,arguments)}),tr:(_d=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.fio)||(null==n?void 0:n.id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return _d.apply(this,arguments)}),name:"contact_id",title:"",placeholder:"Контакт"},{type:o.Div},{type:o.Text,fieldRightMargin:"1",fieldBottomMargin:"0",inputFormatterTemplate:"0000000000",inputFormatterAllowed:/^[0-9]/,name:"index",title:"",leadingIcon:function(){return ve(ge,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ve(je,{textTransform:"lowercase",variant:"caption",children:"№"})})},placeholder:"",trailingIcon:function(){return ve(mn,{sx:{opacity:.5}})},trailingIconClick:function(e,t,n){e&&n("")}}]}],Ad=function(){var e=fn(),t=e.filterData,n=e.handleFilter,r=e.payload,a=e.loading,i=pc({payload:r}),o=i.pickData,l=i.render,s=i.resultSubject,c=Sc({payload:r}),p=c.pickData,d=c.render,m=c.resultSubject;return ve(ge,{sx:{mb:1},children:[ve(un,{sx:{height:"100%",minHeight:48},hideOverflowY:!0,children:ve(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"stretch",pt:1,pb:1},children:ve(et,{handler:t,fields:Td,readonly:a,change:function(e,t){t||n(e)},payload:function(){return u(u({},r),{},{pickUser:o,userResultSubject:s,pickContact:p,contactResultSubject:m})},fieldDebounce:Ra})})}),d(),l()]})},Fd=function(e){var t=e.payload,n=e.features,r=zd(),a=he(),i=ac({storageKey:"bid_columns",columns:pd}).columns,o=cn({withSearch:!0,withLoader:!0,withSingleChip:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:Xl.userViewService.reloadSubject,selectionMode:dn.Single,onSubmit:function(e){return a.next(e),!0},AfterOperationList:Ad,filterLabel:"Выбрать заявку",filters:bd,chips:md,columns:i,handler:r,payload:t,features:n}),u=o.pickData,l=o.render,s=o.open;return{pickData:u,render:l,resultSubject:a,open:s}},Cd=[{type:o.Group,style:{minWidth:540},fields:[{type:o.Combo,title:"Тип сделки",isInvalid:function(e){return e.deal_type?null:"Укажите тип сделки"},name:"deal_type",map:function(e,t){var n=t.data,r=n.prod_czena,a=n.prod_startovaya_czena,i=void 0===a?r:a,o=n.prod_kom_czena,u=n.prod_kom_startovaya_czena,l=void 0===u?o:u,s=n.rent_czena,c=n.rent_startovaya_czena,p=void 0===c?s:c,d=n.rent_kom_czena,m=n.rent_kom_startovaya_czena,f=void 0===m?d:m,y=n.prod_czena_valyuta,h=void 0===y?"usd":y,v=n.rent_czena_valyuta,b=void 0===v?"usd":v;return e.deal_type&&"Продажа"===e.deal_type[0]&&(G.set(e,"price",i||l),G.set(e,"unit",[h||"usd"])),e.deal_type&&"Аренда"===e.deal_type[0]&&(G.set(e,"price",p||f),G.set(e,"unit",[b||"usd"])),e},itemList:function(){return[].concat(ro)}},{type:o.Box,isVisible:function(e){var t=e.deal_type,n=e.price_type;return!!t&&"fixed"===n},style:{display:"grid",gridTemplateColumns:"1fr 125px"},fields:[{type:o.Text,outlined:!1,placeholder:"Не указано",labelShrink:!0,name:"price",title:"Цена (Итог)"},{type:o.Combo,noDeselect:!0,fieldBottomMargin:"0",title:"Валюта",placeholder:"USD",itemList:["usd","uzs"],tr:function(e){return"uzs"===e?"SUM":"USD"},defaultValue:"usd",outlined:!1,name:"unit"}]},{type:o.Text,fieldBottomMargin:"1",placeholder:"Введите комментарий",inputRows:3,labelShrink:!0,name:"comment",title:"Комментарий"},{type:o.Radio,fieldBottomMargin:"0",name:"price_type",radioValue:"unset",defaultValue:"unset",title:"Цена не указана"},{type:o.Radio,fieldBottomMargin:"0",name:"price_type",radioValue:"fixed",title:"Фиксированная"}]}],Vd=[{type:o.Choose,fieldBottomMargin:"1",isInvalid:function(e){return e.target_bid_id?null:"Укажите заявку"},choose:(Sd=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickBid(t.target_bid_id?[t.target_bid_id]:[]),e.next=3,n.bidResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return Sd.apply(this,arguments)}),tr:(wd=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.bidViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.zagolovok)||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return wd.apply(this,arguments)}),name:"target_bid_id",title:"Выберите заявку",placeholder:"Не выбрано"},{type:o.Text,fieldBottomMargin:"1",placeholder:"Введите комментарий",inputRows:3,labelShrink:!0,name:"comment",title:"Комментарий"},{type:o.Radio,fieldBottomMargin:"0",title:"Закрытая сделка",name:"status",radioValue:"Закрытая сделка",defaultValue:"Закрытая сделка"},{type:o.Radio,fieldBottomMargin:"0",title:"Сделка сорвана",name:"status",radioValue:"Сделка сорвана"}],Md=[{action:"deal-end-action",label:"Завершить сделку",isDisabled:function(e){return!e.activeItem}}],Ld=[{type:o.Paper,features:["hasResponsiblePermission"],fieldBottomMargin:"1",fieldRightMargin:"1",columns:"12",fields:[{type:o.Component,element:function(e){var t=e.id,n=e.payload,a=e.features,o=e._fieldData,s=l(ye.useState(null),2),c=s[0],p=s[1],d=l(ye.useState(null),2),m=d[0],f=d[1],y=ye.useMemo((function(){return u(u({},c),{},{occupiedBy:m})}),[c,m]),h=Fd({payload:n,features:a}),v=h.pickData,b=h.render,_=h.resultSubject,g=He(i(r().mark((function e(){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xl.appwriteService.currentUser.$id,e.next=3,Xl.dealHistoryRequestService.readDealStateByApartment(t,n);case 3:return a=e.sent,e.next=6,Xl.dealViewService.findOccupiedByTargetApartmentId(t);case 6:i=e.sent,p(a),f(i);case 9:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError}),k=g.loading,x=g.execute,w=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),S=w.handleLoadStart,z=w.handleLoadEnd,T=Ke({title:"Завершение сделки",fields:Vd,payload:function(){return u(u({},n),{},{pickBid:v,bidResultSubject:_})},features:a}),A=Ke({title:"Начало сделки",fields:Cd,payload:function(){return u(u({},n),{},{data:o})},features:a});ye.useEffect((function(){return Xl.dealHistoryViewService.createSubject.subscribe((function(e){e.apartment_id===t&&x()}))}),[]),ye.useEffect((function(){x()}),[]);var F,C,V,M,L=function(){var e=i(r().mark((function e(n){var a,i,o,u,l,s=arguments;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:[],i=s.length>2&&void 0!==s[2]?s[2]:"usd",o=s.length>3&&void 0!==s[3]?s[3]:"",u=!0,S(),e.prev=5,l=Xl.appwriteService.currentUser.$id,e.next=9,Xl.dealHistoryRequestService.commitApartmentDealBegin(t,l,n,a,i,o);case 9:return e.next=11,x();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),Xl.alertService.notify(Eu(e.t0)),u=!1;case 17:return e.prev=17,z(u),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){A().then(function(){var e=i(r().mark((function e(t){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(n=t.deal_type?t.deal_type[0]:""){e.next=5;break}return e.abrupt("return");case 5:a=[],i="usd","fixed"===t.price_type&&(a=[t.price],i=t.unit?t.unit[0]:"usd"),L(n,a,i,t.comment);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},B=function(){var e=i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,S(),e.prev=2,a=Xl.appwriteService.currentUser.$id,e.next=6,Xl.dealHistoryRequestService.commitApartmentDealReassign(t,a);case 6:return e.next=8,x();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n=!1;case 13:return e.prev=13,z(n),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=i(r().mark((function e(n,a,i){var o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!0,S(),e.prev=2,Xl.appwriteService.currentUser.$id,e.next=6,Xl.dealRequestService.commitApartmentDealEnd(t,n,a,i);case 6:return e.next=8,x();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o=!1;case 13:return e.prev=13,z(o),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t,n,r){return e.apply(this,arguments)}}(),D=function(e){"deal-end-action"===e&&T().then((function(e){e&&j(e.target_bid_id,e.status,e.comment)}))};return ve(Me,{style:{pointerEvents:"all"},direction:"column",children:[ve(je,{variant:"body1",sx:{mt:-.5,mb:1,color:function(e){return e.palette.action.active},fontWeight:"bold"},children:"Сделка"}),ve(Me,{direction:"column",gap:"16px",children:[ve(Me,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[ve(we,{loading:k,Loader:function(){return ve(Me,{direction:"row",gap:"16px",alignItems:"center",children:[ve(wt,{variant:"circular",width:40,height:40}),ve(Me,{children:[ve(wt,{sx:{mb:1},variant:"rectangular",width:210,height:20}),ve(wt,{variant:"rectangular",width:210,height:20})]})]})},payload:y,children:(M=i(r().mark((function e(t){var n,a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.occupiedBy){e.next=2;break}return e.abrupt("return",ve(je,{variant:"body1",children:["Сделка в статусе"," ",ve(sn,{href:"#",onClick:function(){return ue("/deal")},children:t.occupiedBy.status})]}));case 2:if(null!=t&&t.activeItem){e.next=4;break}return e.abrupt("return",ve(je,{variant:"body1",children:"Сделка не создана"}));case 4:return e.next=6,Xl.userViewService.read(t.activeItem.user_id);case 6:if(n=e.sent,a=n.first_name,i=void 0===a?"Не указано":a,o=n.user_role,u=n.avatar,!(l=void 0===u?null:u)){e.next=18;break}return e.next=15,Xl.appwriteService.getImageURL(l);case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0="";case 19:return s=e.t0,e.next=22,Xl.dictService.getUserRoles();case 22:return c=e.sent,e.abrupt("return",ve(Me,{direction:"row",gap:"16px",alignItems:"center",children:[ve(St,{alt:i,src:s}),ve(Me,{direction:"column",children:[ve(je,{variant:"body1",children:i}),ve(je,{variant:"caption",style:{fontSize:"14px"},children:null!=o&&o.length?G.get(c,o[0])||o[0]:"Не указано"})]})]}));case 24:case"end":return e.stop()}}),e)}))),function(e){return M.apply(this,arguments)})}),ve(Me,{direction:"row",gap:1,alignItems:"center",children:[ve(we,{loading:k,Loader:function(){return ve(wt,{variant:"rectangular",sx:{borderRadius:"4px"},width:100,height:35})},payload:y,children:(V=i(r().mark((function e(n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.occupiedBy){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Xl.permissionRequestService.hasReassignDelayFlagByApartmentId(t);case 4:if(!e.sent){e.next=7;break}return e.abrupt("return",ve(st,{disabled:!0,variant:"contained",children:"Сделка активна"}));case 7:if(null==n||!n.activeItem){e.next=11;break}return a=Xl.appwriteService.currentUser.$id,i=n.activeItem.user_id===a,e.abrupt("return",ve(st,{disabled:i,onClick:B,variant:"contained",children:i?"Сделка создана":"Забрать сделку"}));case 11:return e.abrupt("return",ve(st,{onClick:I,variant:"contained",children:"Создать сделку"}));case 12:case"end":return e.stop()}}),e)}))),function(e){return V.apply(this,arguments)})}),ve(we,{loading:k,Loader:function(){return ve(wt,{variant:"circular",width:40,height:40})},payload:y,children:(C=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ve(Sn,{transparent:!0,options:Md,payload:t,onAction:D}));case 1:case"end":return e.stop()}}),e)}))),function(e){return C.apply(this,arguments)})})]})]}),ve(we,{loading:k,Loader:function(){return ve(jn,{max:Number.POSITIVE_INFINITY,style:{marginRight:"auto"},children:[ve(wt,{variant:"circular",width:28,height:28}),ve(wt,{variant:"circular",width:28,height:28}),ve(wt,{variant:"circular",width:28,height:28})]})},payload:y,children:(F=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&null!==(n=t.reassign)&&void 0!==n&&n.length){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Promise.all(t.reassign.filter((function(e,t,n){return n.findIndex((function(t){return t.user_id===e.user_id}))==t})).map(function(){var e=i(r().mark((function e(t){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,e.next=3,Xl.userViewService.tryRead(n);case 3:if(a=e.sent,i="",null==a||!a.avatar){e.next=9;break}return e.next=8,Xl.appwriteService.getImageURL(a.avatar);case 8:i=e.sent;case 9:return e.abrupt("return",ve(St,{style:{height:"28px",width:"28px"},alt:null==a?void 0:a.email,src:i}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return a=e.sent,e.abrupt("return",ve(jn,{max:Number.POSITIVE_INFINITY,style:{marginRight:"auto"},children:a}));case 6:case"end":return e.stop()}}),e)}))),function(e){return F.apply(this,arguments)})})]}),b()]})}}]},{type:o.Paper,innerPadding:"0",features:["hasResponsiblePermission"],fieldBottomMargin:"1",fieldRightMargin:"1",columns:"12",fields:[{type:o.Component,element:function(e){var t,n=e.system_created_by,a=e.system_only_for_owner,o=e.system_allowance,u=Vp().classes;return ve(Me,{style:{pointerEvents:"all"},direction:"column",children:[ve(je,{variant:"body1",sx:{m:2,color:function(e){return e.palette.action.active},fontWeight:"bold"},children:"Доступ"}),ve(pt,{disablePadding:!0,dense:!0,children:ve(we,{deps:[a,o],children:(t=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],n&&t.push(n),o&&o.forEach((function(e){return t.push(e)})),t.length){e.next=5;break}return e.abrupt("return",ve(je,{sx:{m:2,mt:-.5},children:"Все пользователи"}));case 5:return e.t0=ve,e.t1=Le,e.next=9,Promise.all(t.filter((function(e,t,n){return n.indexOf(e)==t})).map(function(){var e=i(r().mark((function e(t,i){var o,l,s,c,p,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.read(t);case 2:if(!(l=e.sent).avatar){e.next=9;break}return e.next=6,Xl.appwriteService.getImageURL(l.avatar);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0="";case 10:return s=e.t0,e.next=13,Xl.dictService.getUserRoles();case 13:return c=e.sent,p=[l.last_name,l.first_name,l.middle_name].filter((function(e){return e})).join(" "),m=null!==(o=l.user_role)&&void 0!==o&&o.length?G.get(c,l.user_role[0])||l.user_role[0]:"Не указано",e.abrupt("return",ve(kt,{className:ke(d({},u.listItemAccient,i%2==0)),children:[ve(xt,{children:ve(St,{src:s})}),ve(ft,{primary:p,secondary:l.phone||m}),t===n&&ve(Me,{gap:1,direction:"row",children:[ve(Fn,{label:"Создал объект",color:"info"}),!!a&&ve(Fn,{label:"Эксклюзив",color:"warning"})]})]}));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 9:return e.t2=e.sent,e.t3={children:e.t2},e.abrupt("return",(0,e.t0)(e.t1,e.t3));case 12:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})})]})}}]},{type:o.Group,fieldRightMargin:"0",fieldBottomMargin:"0",columns:"12",fields:[{type:o.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return us.apply(void 0,[e].concat(["kategoriya_obekta","podkategoriya_obekta","arenda","prodazha","istochnik"]))},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:o.Text,isVisible:function(e){return us(e,"zagolovok")},outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:o.Text,isVisible:function(e){return us(e,"kategoriya_obekta")},outlined:!1,compute:function(e){var t=e.kategoriya_obekta;return(null==t?void 0:t.flatMap((function(e){return e})).join(", "))||""},title:"Категория объекта"},{type:o.Text,isVisible:function(e){return us(e,"podkategoriya_obekta")},outlined:!1,compute:function(e){return e.podkategoriya_obekta||""},title:"Подкатегория объекта"},{type:o.Text,isVisible:function(e){return us(e,"arenda","prodazha")},outlined:!1,compute:function(e){var t=e.arenda,n=e.prodazha;return n&&t?"Продажа, Аренда":n?"Продажа":t?"Аренда":"Не задано"},title:"Тип сделки"},{type:o.Text,isVisible:function(e){return us(e,"strana")},outlined:!1,columns:"6",compute:function(e){return e.strana||""},title:"Страна"},{type:o.Text,isVisible:function(e){return us(e,"oblast")},outlined:!1,columns:"6",compute:function(e){return e.oblast||""},title:"Область"},{type:o.Text,isVisible:function(e){return us(e,"gorod")},outlined:!1,compute:function(e){return e.gorod||""},title:"Город"},{type:o.Text,isVisible:function(e){return us(e,"ulicza")},outlined:!1,compute:function(e){var t=e.ulicza,n=[t?t.toLowerCase().includes("улица")?t:"улица ".concat(t):null].filter((function(e){return e}));return n.length?n.flatMap((function(e){return e})).join(", "):"Не указан"},title:"Адрес"},{type:o.Text,isVisible:function(e){return us(e,"rajon")},outlined:!1,compute:function(e){return e.rajon||""},title:"Район"},{type:o.Text,isVisible:function(e){return us(e,"mahallya")},outlined:!1,compute:function(e){return e.mahallya||""},title:"Махалля"},{type:o.Text,isVisible:function(e){return us(e,"orientir")},outlined:!1,compute:function(e){return e.orientir||""},title:"Ориентир"},{type:o.Text,isVisible:function(e){return us(e,"metro")},outlined:!1,compute:function(e){return e.metro||""},title:"Метро"},{type:o.Fragment,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,isVisible:function(e){return us(e,"nomer_doma")},features:["hasApartmentHouseNumberPermission"],columns:"6",outlined:!1,name:"nomer_doma",title:"№ дома"},{type:o.Text,isVisible:function(e){return us(e,"nomer_kvartiry")},features:["hasApartmentHouseNumberPermission"],columns:"6",outlined:!1,name:"nomer_kvartiry",title:"№ квартиры"}]},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta)&&!Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,isVisible:function(e){return us(e,"nomer_doma")},features:["hasApartmentHouseNumberPermission"],outlined:!1,name:"nomer_doma",title:"№ дома"}]},{type:o.Text,isVisible:function(e){return us(e,"istochnik")},outlined:!1,compute:function(e){return e.istochnik||""},title:"Источник"},{type:o.Component,isVisible:function(e){return us(e,"tip_klienta")},fieldBottomMargin:"2",element:function(e){var t,n=e.contact_id;return ve(we,{payload:n,Loader:function(){return ve(Pt,{fullWidth:!0,variant:"standard",label:"Тип клиента",InputProps:{readOnly:!0},value:"Загрузка"})},children:(t=i(r().mark((function e(){var t,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(n);case 2:return t=e.sent,a=(null==t?void 0:t.tip_klienta)||"",e.abrupt("return",ve(Pt,{fullWidth:!0,variant:"standard",label:"Тип клиента",InputProps:{readOnly:!0},value:a}));case 5:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})}},{type:o.Text,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.podkategoriya_obekta,"Квартиры"))&&Ie(e.kategoriya_obekta,"Коммерческая","Жилая")},outlined:!1,placeholder:"Нет данных",compute:function(e){return e.nazvanie_zhk||"Не задано"},title:"ЖК"}]},{type:o.Group,style:{height:"100%"},columns:"6",fields:[{type:o.Component,style:{height:"100%"},fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData,r=e.features;return ve(_p,{withTransparentHeader:!0,readonly:!0,withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n,isViewMode:!r.includes("hasCommissionPermission")})}}]}]},{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&Ie(e.podkategoriya_obekta,"Квартиры"))&&Ie(e.kategoriya_obekta,"Жилая"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая квартира)"})}},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return us(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return us(e,"god_postrojki")},title:"Год постройки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return us(e,"etazh")},title:"Этаж"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_planirovki")},title:"Тип планировки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return us(e,"etazhnost")},title:"Этажность"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:o.Text,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.zhilaya_ploshhad||""},isVisible:function(e){return us(e,"zhilaya_ploshhad")},title:"Жилая площадь М²"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:o.Text,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].flatMap((function(e){return e})).join(" ")},isVisible:function(e){return us(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:o.Text,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return us(e,"vysota_potolkov")},title:"Высота потолков"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_spalen||""},isVisible:function(e){return us(e,"kolichestvo_spalen")},title:"Количество спален"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kod_domofona||""},isVisible:function(e){return us(e,"kod_domofona")},title:"Код домофона"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.spalnya_sanuzel||""},isVisible:function(e){return us(e,"spalnya_sanuzel")},title:"Комната + санузел"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.energonositel_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"energonositel_obekta")},title:"Энергоноситель объекта"},{type:o.Text,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.podezd_nomer||""},isVisible:function(e){return us(e,"podezd_nomer")},title:"Подъезд №"},{type:o.Text,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return us(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(f(t||[]),f(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(f(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&Ie(e.podkategoriya_obekta,"Дома"))&&Ie(e.kategoriya_obekta,"Жилая"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилой дом)"})}},{type:o.Text,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return us(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.sostoyanie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_doma")},title:"Состояние дома"},{type:o.Text,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.god_postrojki||""},isVisible:function(e){return us(e,"god_postrojki")},title:"Год постройки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:o.Text,columns:"3",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.etazhnost||""},isVisible:function(e){return us(e,"etazhnost")},title:"Этажность"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_planirovki")},title:"Тип планировки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.bassejn].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"bassejn")},title:"Бассейн"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_doma||""},isVisible:function(e){return us(e,"ploshhad_doma")},title:"Площадь дома М²"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return us(e,"mashina_mesto")},title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_spalen||""},isVisible:function(e){return us(e,"kolichestvo_spalen")},title:"Количество спален"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return us(e,"kolichestvo_sotok")},title:"Количество соток"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.spalnya_sanuzel||""},isVisible:function(e){return us(e,"spalnya_sanuzel")},title:"Комната + санузел"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return us(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return us(e,"vysota_potolkov")},title:"Высота потолков"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(f(t||[]),f(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(f(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.garazh].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"garazh")},title:"Гараж"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_doma")},title:"Расположение дома"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"}]},{type:o.Fragment,isVisible:function(e){return(!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.kategoriya_obekta,"Коммерческая")))},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая недвижимость)"})}},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return us(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.poleznaya_ploshhad||""},isVisible:function(e){return us(e,"poleznaya_ploshhad")},title:"Полезная площадь М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return us(e,"etazh")},title:"Этаж"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return us(e,"mashina_mesto")},title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return us(e,"kolichestvo_sotok")},title:"Количество соток"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return us(e,"etazhnost")},title:"Этажность"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return e})).flatMap((function(e){return e})).join(" ")},isVisible:function(e){return us(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return us(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return us(e,"god_postrojki")},title:"Год постройки"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return us(e,"vysota_potolkov")},title:"Высота потолков"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_obekta")},title:"Расположение объекта"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&Ie(e.podkategoriya_obekta,"Земля/Участок"))&&Ie(e.kategoriya_obekta,"Жилая"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая земля/участок)"})}},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},title:"Количество комнат",isVisible:function(e){return us(e,"kolichestvo_komnat")}},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_zemli_uchastka].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_zemli_uchastka")},title:"Тип земли/участка"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.poleznaya_ploshhad||""},isVisible:function(e){return us(e,"poleznaya_ploshhad")},title:"Полезная площадь М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return us(e,"etazh")},title:"Этаж"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return us(e,"mashina_mesto")},title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return us(e,"kolichestvo_sotok")},title:"Количество соток"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return us(e,"etazhnost")},title:"Этажность"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return us(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return e})).flatMap((function(e){return e})).join(" ")},isVisible:function(e){return us(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.rasstoyanie_do_goroda||""},isVisible:function(e){return us(e,"rasstoyanie_do_goroda")},title:"Расстояние до города (м)"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.podezdnye_puti].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"podezdnye_puti")},title:"Подъездные пути"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return us(e,"god_postrojki")},title:"Год постройки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.podkategoriya_obekta,"Квартиры"))&&te(re(Ie(e.kategoriya_obekta,"Коммерческая"),Ie(e.kategoriya_obekta,"Жилая")),re(Ie(e.kategoriya_obekta,"Коммерческая"),!Ie(e.kategoriya_obekta,"Жилая")))},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая квартира)"})}},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return us(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return us(e,"etazh")},title:"Этаж"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_planirovki")},title:"Тип планировки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return us(e,"etazhnost")},title:"Этажность"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return us(e,"god_postrojki")},title:"Год постройки"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.nazvanie_zhk||""},isVisible:function(e){return us(e,"nazvanie_zhk")},title:"Название ЖК"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return us(e,"mashina_mesto")},title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return e})).flatMap((function(e){return e})).join(" ")},isVisible:function(e){return us(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.zhilaya_ploshhad||""},isVisible:function(e){return us(e,"zhilaya_ploshhad")},title:"Жилая площадь М²"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return us(e,"vysota_potolkov")},title:"Высота потолков"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_spalen||""},isVisible:function(e){return us(e,"kolichestvo_spalen")},title:"Количество спален"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kod_domofona||""},isVisible:function(e){return us(e,"kod_domofona")},title:"Код домофона"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.spalnya_sanuzel||""},isVisible:function(e){return us(e,"spalnya_sanuzel")},title:"Комната + санузел"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.podezd_nomer||""},isVisible:function(e){return us(e,"podezd_nomer")},title:"Подъезд №"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return us(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(f(t||[]),f(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(f(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_obekta")},title:"Расположение объекта"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.podkategoriya_obekta,"Дома"))&&te(re(Ie(e.kategoriya_obekta,"Коммерческая"),Ie(e.kategoriya_obekta,"Жилая")),re(Ie(e.kategoriya_obekta,"Коммерческая"),!Ie(e.kategoriya_obekta,"Жилая")))},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческий дом)"})}},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return us(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_doma")},title:"Состояние дома"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return us(e,"etazhnost")},title:"Этажность"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_obekta")},title:"Расположение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_doma||""},isVisible:function(e){return us(e,"ploshhad_doma")},title:"Площадь дома М²"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.raspolozhenie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"raspolozhenie_doma")},title:"Расположение дома"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_planirovki")},title:"Тип планировки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.bassejn].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"bassejn")},title:"Бассейн"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return us(e,"kolichestvo_sotok")},title:"Количество соток"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return us(e,"mashina_mesto")},title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_spalen||""},isVisible:function(e){return us(e,"kolichestvo_spalen")},title:"Количество спален"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.spalnya_sanuzel||""},isVisible:function(e){return us(e,"spalnya_sanuzel")},title:"Комната + санузел"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return us(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return us(e,"vysota_potolkov")},title:"Высота потолков"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(f(t||[]),f(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(f(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.garazh].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"garazh")},title:"Гараж"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return us(e,"god_postrojki")},title:"Год постройки"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.podkategoriya_obekta,"Земля/Участок"))&&te(re(Ie(e.kategoriya_obekta,"Коммерческая"),Ie(e.kategoriya_obekta,"Жилая")),re(Ie(e.kategoriya_obekta,"Коммерческая"),!Ie(e.kategoriya_obekta,"Жилая")))},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая земля/участок)"})}},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return us(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.tip_zemli_uchastka].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"tip_zemli_uchastka")},title:"Тип земли/участка"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.poleznaya_ploshhad||""},isVisible:function(e){return us(e,"poleznaya_ploshhad")},title:"Полезная площадь М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return us(e,"etazh")},title:"Этаж"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return us(e,"mashina_mesto")},title:"Машина-место"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return us(e,"kolichestvo_sotok")},title:"Количество соток"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return us(e,"etazhnost")},title:"Этажность"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return us(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return e})).flatMap((function(e){return e})).join(" ")},isVisible:function(e){return us(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.rasstoyanie_do_goroda||""},isVisible:function(e){return us(e,"rasstoyanie_do_goroda")},title:"Расстояние до города (м)"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.podezdnye_puti].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"podezdnye_puti")},title:"Подъездные пути"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return us(e,"god_postrojki")},title:"Год постройки"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:o.Items,freeSolo:!0,columns:"3",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return us(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"}]}]},{type:o.Paper,isVisible:function(e){return us(e,"vnutri_est","ryadom_est")},fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте"})}},{type:o.Component,fieldBottomMargin:"1",columns:"6",element:function(){return ve(je,{children:"Внутри есть:"})}},{type:o.Component,fieldBottomMargin:"1",columns:"6",element:function(){return ve(je,{children:"Рядом есть:"})}},{type:o.Component,columns:"6",isVisible:function(e){var t=e.vnutri_est;return!(null==t||!t.length)},element:function(e){var t=e.vnutri_est;return ve("div",{children:ve(ge,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:null==t?void 0:t.map((function(e,t){return ve(Fn,{label:e},t)}))})})}},{type:o.Component,columns:"6",isVisible:function(e){var t=e.ryadom_est;return!(null==t||!t.length)},element:function(e){var t=e.ryadom_est;return ve("div",{children:ve(ge,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:null==t?void 0:t.map((function(e,t){return ve(Fn,{label:e},t)}))})})}}]},{type:o.Paper,isVisible:function(e){return us(e,"ploshhad_gostinnoj","ploshhad_spalni","ploshhad_holla","ploshhad_kuhni","ploshhad_sanuzla","ploshhad_balkona","ploshhad_terrasy","ploshhad_komnaty_ohrany","ploshhad_gostevogo_doma","ploshhad_dopolnitelnoj_pristrojki")},fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади"})}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая","Жилая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_gostinnoj||""},isVisible:function(e){return us(e,"ploshhad_gostinnoj")},title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_spalni||""},isVisible:function(e){return us(e,"ploshhad_spalni")},title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_holla||""},isVisible:function(e){return us(e,"ploshhad_holla")},title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_kuhni||""},isVisible:function(e){return us(e,"ploshhad_kuhni")},title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_sanuzla||""},isVisible:function(e){return us(e,"ploshhad_sanuzla")},title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_balkona||""},isVisible:function(e){return us(e,"ploshhad_balkona")},title:"Площадь балкона М²"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая","Жилая"))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_gostinnoj||""},isVisible:function(e){return us(e,"ploshhad_gostinnoj")},title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_spalni||""},isVisible:function(e){return us(e,"ploshhad_spalni")},title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_holla||""},isVisible:function(e){return us(e,"ploshhad_holla")},title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_kuhni||""},isVisible:function(e){return us(e,"ploshhad_kuhni")},title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_sanuzla||""},isVisible:function(e){return us(e,"ploshhad_sanuzla")},title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_balkona||""},isVisible:function(e){return us(e,"ploshhad_balkona")},title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_terrasy||""},isVisible:function(e){return us(e,"ploshhad_terrasy")},title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_komnaty_ohrany||""},isVisible:function(e){return us(e,"ploshhad_komnaty_ohrany")},title:"Площадь комнаты охраны М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_gostevogo_doma||""},isVisible:function(e){return us(e,"ploshhad_gostevogo_doma")},title:"Площадь гостевого дома М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_dopolnitelnoj_pristrojki||""},isVisible:function(e){return us(e,"ploshhad_dopolnitelnoj_pristrojki")},title:"Площадь дополнительной пристройки М²"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая","Жилая"))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_gostinnoj||""},isVisible:function(e){return us(e,"ploshhad_gostinnoj")},title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_spalni||""},isVisible:function(e){return us(e,"ploshhad_spalni")},title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_holla||""},isVisible:function(e){return us(e,"ploshhad_holla")},title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_kuhni||""},isVisible:function(e){return us(e,"ploshhad_kuhni")},title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_sanuzla||""},isVisible:function(e){return us(e,"ploshhad_sanuzla")},title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_balkona||""},isVisible:function(e){return us(e,"ploshhad_balkona")},title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_terrasy||""},isVisible:function(e){return us(e,"ploshhad_terrasy")},title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_komnaty_ohrany||""},isVisible:function(e){return us(e,"ploshhad_komnaty_ohrany")},title:"Площадь комнаты охраны М²"}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_gostinnoj||""},isVisible:function(e){return us(e,"ploshhad_gostinnoj")},title:"Площадь гостинной М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_spalni||""},isVisible:function(e){return us(e,"ploshhad_spalni")},title:"Площадь комнаты М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_holla||""},isVisible:function(e){return us(e,"ploshhad_holla")},title:"Площадь холла М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_kuhni||""},isVisible:function(e){return us(e,"ploshhad_kuhni")},title:"Площадь кухни М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_sanuzla||""},isVisible:function(e){return us(e,"ploshhad_sanuzla")},title:"Площадь санузла М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_balkona||""},isVisible:function(e){return us(e,"ploshhad_balkona")},title:"Площадь балкона М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_terrasy||""},isVisible:function(e){return us(e,"ploshhad_terrasy")},title:"Площадь террасы М²"},{type:o.Text,columns:"3",outlined:!1,compute:function(e){return e.ploshhad_komnaty_ohrany||""},isVisible:function(e){return us(e,"ploshhad_komnaty_ohrany")},title:"Площадь комнаты охраны М²"}]}]},{type:o.Paper,isVisible:function(e){return us(e,"addon_square_names","addon_square_values")},fieldBottomMargin:"1",fieldRightMargin:"1",tabletHidden:!0,phoneHidden:!0,child:{type:o.Component,element:Bc}},{type:o.Paper,features:["hasDescriptionPermission"],fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:o.Text,sx:{pointerEvents:"all"},inputRows:8,outlined:!1,name:"opisanie",title:"Описание"}]},{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:o.Component,sx:{mb:2},element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:o.Component,element:np}]},{type:o.Component,isVisible:function(e,t){return!t.hideAutofindFlag},fieldBottomMargin:"1",fieldRightMargin:"1",element:function(e){var t=e._fieldData,n=e.payload,r=e.features;return ve(sd,{payload:n,features:r,fieldData:t})}}];window.apartment_card_fields=Ld;var Id,Bd,jd,Dd,Rd=me.createLoader(28),qd=[],Pd=[{type:Ct.Component,headerName:"Аватар",sortable:!1,avatar:!0,width:function(){return 65},element:function(e){var t,n=e.avatar,a=e.email;return ve(we,{Loader:Rd,children:(t=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,Xl.appwriteService.getImageURL(n);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:return t=e.t0,e.abrupt("return",ve(ge,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:ve(St,{src:t||void 0,alt:a})}));case 9:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})}},{type:Ct.Compute,sortable:!1,primary:!0,headerName:"Ф.И.О.",compute:function(e){var t=e.first_name,n=void 0===t?"":t,r=e.last_name,a=void 0===r?"":r,i=e.middle_name;return[n,a,void 0===i?"":i].filter((function(e){return e.length})).join(" ")||"Unset"},width:function(){return 200}},{type:Ct.Compute,sortable:!1,secondary:!0,compute:(Id=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_role,a=t.telefon,e.next=3,Xl.dictService.getUserRoles();case 3:return i=e.sent,o=null!=n&&n.length?G.get(i,n[0])||n[0]:"Не указано",e.abrupt("return",a||o);case 6:case"end":return e.stop()}}),e)}))),function(e){return Id.apply(this,arguments)}),headerName:"Роль",width:function(){return 200}}],Ed=function(e){var t=e.title,n=e.payload,a=e.features,o=e.selectedRows,u=void 0===o?qd:o,l=e.selectionMode,s=void 0===l?dn.Multiple:l,c=uc(),p=Dn({title:t,selectedRows:u,columns:Pd,handler:c,payload:n,features:a,selectionMode:s}),d=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),m=d.handleLoadStart,f=d.handleLoadEnd;return He(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({selectedRows:u}).toPromise();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),{onLoadStart:m,onLoadEnd:f,fallback:Xl.errorService.handleGlobalError}).execute},Nd=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",label:"Просмотр объекта"},{type:Ye.Button,isDisabled:function(e){var t=e.payload,n=t.hasAdvertising,r=t.permissions;return ne(re(r.hasAdvertisingPublicationPermission,!n))},action:"create-advertising-action",label:"Добавить в рекламу"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasApartmentUpdatePermission},action:"edit-action",label:"Редактировать"}],Od=[{action:"pick-allowance-action",isDisabled:(Dd=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.object,a=Xl.appwriteService.currentUser.$id,e.abrupt("return",ne(te(Promise.resolve(n.system_created_by===a),Xl.featureService.hasFeature("vizhu_kontakty_pod_bronyu"))));case 3:case"end":return e.stop()}}),e)}))),function(e){return Dd.apply(this,arguments)}),label:"Поделиться объектом"},{action:"toggle-only-for-owner-action",isVisible:function(e){return!!e.data.object.system_only_for_owner},isDisabled:(jd=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.object,a=Xl.appwriteService.currentUser.$id,e.abrupt("return",ne(te(Promise.resolve(n.system_created_by===a),Xl.featureService.hasFeature("vizhu_kontakty_pod_bronyu"))));case 3:case"end":return e.stop()}}),e)}))),function(e){return jd.apply(this,arguments)}),icon:Bt,label:"Эксклюзив"},{action:"toggle-only-for-owner-action",isVisible:function(e){return!e.data.object.system_only_for_owner},isDisabled:(Bd=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.object,a=Xl.appwriteService.currentUser.$id,e.abrupt("return",ne(te(Promise.resolve(n.system_created_by===a),Xl.featureService.hasFeature("vizhu_kontakty_pod_bronyu"))));case 3:case"end":return e.stop()}}),e)}))),function(e){return Bd.apply(this,arguments)}),icon:It,label:"Эксклюзив"}],Ud=function(e){var t=e.fieldData,n=e.onChange,a=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),o=a.handleLoadStart,u=a.handleLoadEnd,l=a.loading,s=function(){var e=i(r().mark((function e(){var a,l,s,c,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,o(),e.prev=2,e.next=5,xn("*");case 5:if(l=e.sent){e.next=8;break}return e.abrupt("return");case 8:return s=wn(t.contact_files)||[],e.next=11,Promise.all(l.map(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xl.appwriteService.uploadFile(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:c=e.sent,p=[].concat(f(s),f(c)),n({contact_files:p}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),a=!1,Xl.alertService.notify(Eu(e.t0));case 20:return e.prev=20,u(a),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,16,20,23]])})));return function(){return e.apply(this,arguments)}}();return ve(kn,{children:ve(st,{disabled:l,sx:{borderRadius:"20px"},startIcon:ve(gn,{}),onClick:s,variant:"contained",children:"Юридическое лицо"===t.kontakt?"Скан документов организации":"Скан документа"})})},Hd=[{action:"edit-action",label:"Редактировать"},{action:"remove-action",label:"Удалить"}],Wd=function(e){var t=e.id,n=e.name,a=e.phone,u=e.sx,l=e.onChange,s=e.onRemove,c=_n({title:"Удалить",msg:"Вы уверены что хотите удалить?"}),p=Ke({title:"Редактировать номер",fields:[{type:o.Text,name:"name",title:"Имя",isInvalid:function(e){return e.name?null:"Укажите имя"}},{type:o.Text,name:"phone",title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",isInvalid:function(e){return e.phone?null:"Укажите телефон"}}]}),d=function(){return p({handler:{id:t,name:n,phone:a}}).then((function(e){e&&l({id:t,name:e.name,phone:e.phone})}))},m=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().toPromise();case 2:e.sent&&s({id:t,name:n,phone:a});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ve(kt,{sx:u,disablePadding:!0,dense:!0,children:ve(ze,{disableRipple:!0,onClick:d,children:[ve(xt,{children:ve(St,{sx:{"& svg":{color:"#aaa !important"},background:"transparent"},children:ve(Rn,{})})}),ve(ft,{primary:"Имя: ".concat(n),secondary:"Телефон: ".concat(a)}),ve(Sn,{sx:{mr:1},transparent:!0,options:Hd,onAction:function(e){"edit-action"===e&&d(),"remove-action"===e&&m()}})]})})},$d=function(e){var t=e.contact_phones,n=e.contact_names;t=t||[],n=n||[];for(var r=[],a=0;a!==n.length;a++)r.push({id:z(),name:n[a],phone:t[a]});return r},Gd=function(e){var t=e.contact_phones,n=e.contact_names,r=e.onChange,a=l(ye.useState((function(){return $d({contact_phones:t,contact_names:n})})),2),i=a[0],s=a[1],c=Ht((function(){var e;r({contact_names:(e=i)?e.map((function(e){return e.name})):null,contact_phones:e?e.map((function(e){return e.phone})):null})}),[i]).resetWatcher;ye.useEffect((function(){var e=$d({contact_names:n,contact_phones:t});c(),s(e)}),[n,t]);var p=Ke({title:"Создание номера",fields:[{type:o.Text,sx:{mt:-2},name:"name",title:"Имя",isInvalid:function(e){return e.name?null:"Укажите имя"}},{type:o.Text,name:"phone",title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",isInvalid:function(e){return e.phone?null:"Укажите телефон"}}]});return ve(ge,{style:{display:"flex",flexDirection:"column",overflowY:"auto",marginRight:"1px",minHeight:275},children:[ve(Me,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[ve(je,{sx:{ml:2,mt:1},variant:"h6",fontWeight:"bold",children:"Список номеров телефонов"}),ve(Ae,{sx:{mr:3,mt:1},onClick:function(){return p().then((function(e){e&&s((function(t){return[].concat(f(t),[u(u({},e),{},{id:z()})])}))}))},children:ve(qn,{})})]}),ve(pt,{dense:!0,disablePadding:!0,children:i.map((function(e,t){return ve(Wd,{sx:u({},t%2==0&&{background:"#ccc2"}),id:e.id,name:e.name,phone:e.phone,onChange:function(e){return s((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))},onRemove:function(e){var t=e.id;return s((function(e){return e.filter((function(e){return e.id!==t}))}))}})}))}),ve(ge,{sx:{flex:1}})]})},Yd="Вы уверены, что хотите удалить файл?",Kd="Подтверждение",Zd=me.createLoader(24),Xd=function(e){return e&&"Физическое лицо"!==e?{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:o.Combo,outlined:!1,name:"kontakt",title:"Контакт",itemList:["Физическое лицо","Юридическое лицо"]},{type:o.Text,outlined:!1,name:"naimenovanie_organizaczii",title:"Наименование организации"},{type:o.Text,outlined:!1,name:"fio",title:"Ф.И.О."},{type:o.Text,description:"Основной",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon",title:"Телефон"},{type:o.Combo,outlined:!1,name:"tip_klienta",title:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:o.Combo,outlined:!1,name:"status_klienta",title:"Статус клиента",itemList:["VIP-клиент","Клиент","Постоянный клиент","Специальный клиент","Черный список"]},{type:o.Combo,outlined:!1,name:"loyalnost_klienta",title:"Лояльность клиента",itemList:["Высокая","Средняя","Низкая"]},{type:o.Date,outlined:!1,name:"data-sozdaniya_klienta",title:"Дата создания клиента"},{type:o.Text,outlined:!1,name:"fakticheskij_adres",title:"Фактический адрес"},{type:o.Text,outlined:!1,name:"email",title:"Email"},{type:o.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Xl.routerService.location.pathname.includes("bid_view"))&&!Xl.routerService.location.pathname.includes("bid_edit")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:o.Text,outlined:!1,name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:o.Text,outlined:!1,name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]}:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"0",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:o.Combo,outlined:!1,name:"kontakt",title:"Контакт",itemList:["Физическое лицо","Юридическое лицо"]},{type:o.Text,outlined:!1,name:"fio",title:"Ф.И.О."},{type:o.Text,description:"Основной",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon",title:"Телефон"},{type:o.Combo,outlined:!1,name:"tip_klienta",title:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:o.Combo,outlined:!1,name:"status_klienta",title:"Статус клиента",itemList:["VIP-клиент","Клиент","Постоянный клиент","Специальный клиент","Черный список"]},{type:o.Combo,outlined:!1,name:"loyalnost_klienta",title:"Лояльность клиента",itemList:["Высокая","Средняя","Низкая"]},{type:o.Date,outlined:!1,name:"data-sozdaniya_klienta",title:"Дата создания клиента"},{type:o.Text,outlined:!1,name:"fakticheskij_adres",title:"Фактический адрес"},{type:o.Text,outlined:!1,name:"email",title:"Email"},{type:o.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Xl.routerService.location.pathname.includes("bid_view"))&&!Xl.routerService.location.pathname.includes("bid_edit")},fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:o.Text,outlined:!1,name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:o.Text,outlined:!1,name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]}},Jd=function(e){return e&&"Физическое лицо"!==e?{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:o.Text,outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:o.Date,outlined:!1,name:"data_rozhdeniya",title:"Дата рождения"},{type:o.Combo,outlined:!1,name:"pol",title:"Пол",itemList:["Мужской","Женский"]},{type:o.Date,outlined:!1,name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:o.Text,outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:o.Text,outlined:!1,name:"adres_registraczii",title:"Адрес регистрации"},{type:o.Text,outlined:!1,name:"pinfl",title:"ПИНФЛ"},{type:o.Text,outlined:!1,name:"inn",title:"ИНН"},{type:o.Text,outlined:!1,name:"dolzhnost_rukovoditelya",title:"Должность руководителя"},{type:o.Combo,outlined:!1,name:"osnovanie-deyatelnosti-dannogo_licza",title:"Основание деятельности данного лица",itemList:["На основании устава","По доверенности"]},{type:o.Text,outlined:!1,name:"yuridicheskij_adres",title:"Юридический адрес"},{type:o.Text,outlined:!1,name:"sertifikat_kompanii",title:"Сертификат компании (Гувохнома)"},{type:o.Text,outlined:!1,name:"rekvizity",title:"Реквизиты"}]}:{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:o.Text,outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:o.Date,outlined:!1,name:"data_rozhdeniya",title:"Дата рождения"},{type:o.Combo,outlined:!1,name:"pol",title:"Пол",itemList:["Мужской","Женский"]},{type:o.Date,outlined:!1,name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:o.Text,outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:o.Text,outlined:!1,name:"adres_registraczii",title:"Адрес регистрации"},{type:o.Text,outlined:!1,name:"pinfl",title:"ПИНФЛ"},{type:o.Text,outlined:!1,name:"inn",title:"ИНН"},{type:o.Text,outlined:!1,name:"rekvizity",title:"Реквизиты"}]}},Qd=function(e){return"desktop"===e?{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"0",innerPadding:"0",tabletHidden:!0,phoneHidden:!0,child:{type:o.Component,element:Gd}}:{type:o.Paper,fieldBottomMargin:"1",innerPadding:"0",desktopHidden:!0,child:{type:o.Component,element:Gd}}},em=function(e){return e&&"Физическое лицо"!==e?[{type:o.Paper,fieldBottomMargin:"1",sx:{padding:"0 !important"},isVisible:function(e){return e.contact_files&&e.contact_files.length},child:{type:o.Component,element:function(e){var t=e.contact_files,n=e.onChange,a=_n({title:Kd,msg:Yd});return ve(pt,{children:null==t?void 0:t.map((function(e,o){return ve(kt,{disableGutters:!0,secondaryAction:ve(Pn,{onClick:function(){var r=wn(t)||[];a().then((function(t){t&&n({contact_files:r.filter((function(t){return t!==e}))})}))},children:ve(jt,{})}),children:ve(ze,{onClick:(l=i(r().mark((function t(){var n,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xl.appwriteService.getFileURL(e);case 2:return n=t.sent,t.next=5,Xl.appwriteService.readFileName(e);case 5:a=t.sent,_t(n,a);case 7:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),children:ve(we,{payload:e,Loader:Zd,children:(u=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.readFileName(t);case 2:return n=e.sent,e.abrupt("return",ve(ft,{primary:n}));case 4:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})})})},"".concat(e,"-").concat(o));var u,l}))})}}},{type:o.Paper,fieldBottomMargin:"0",fields:[{type:o.Component,element:function(e){var t=e._fieldData,n=e.onChange;return ve(Ud,{fieldData:t,onChange:n})}}]}]:[{type:o.Paper,fieldBottomMargin:"1",sx:{padding:"0 !important"},isVisible:function(e){return e.contact_files&&e.contact_files.length},child:{type:o.Component,element:function(e){var t=e.contact_files,n=e.onChange,a=_n({title:Kd,msg:Yd});return ve(pt,{children:null==t?void 0:t.map((function(e,o){return ve(kt,{disableGutters:!0,secondaryAction:ve(Pn,{onClick:function(){var r=wn(t)||[];a().then((function(t){t&&n({contact_files:r.filter((function(t){return t!==e}))})}))},children:ve(jt,{})}),children:ve(ze,{onClick:(l=i(r().mark((function t(){var n,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xl.appwriteService.getFileURL(e);case 2:return n=t.sent,t.next=5,Xl.appwriteService.readFileName(e);case 5:a=t.sent,_t(n,a);case 7:case"end":return t.stop()}}),t)}))),function(){return l.apply(this,arguments)}),children:ve(we,{payload:e,Loader:Zd,children:(u=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.readFileName(t);case 2:return n=e.sent,e.abrupt("return",ve(ft,{primary:n}));case 4:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})})})},"".concat(e,"-").concat(o));var u,l}))})}}},{type:o.Paper,fieldBottomMargin:"0",fields:[{type:o.Component,element:function(e){var t=e._fieldData,n=e.onChange;return ve(Ud,{fieldData:t,onChange:n})}}]}]},tm=[{type:o.Init,name:"contact_phones",defaultValue:null},{type:o.Init,name:"contact_names",defaultValue:null},{type:o.Fragment,isVisible:function(e){return!e.kontakt||!!Ie(e.kontakt,"Физическое лицо")},fields:[{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"1",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",phoneHidden:!0,tabletHidden:!0,fields:[Xd("Физическое лицо"),Qd("desktop")]},{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",desktopHidden:!0,fields:[Xd("Физическое лицо"),Qd("desktop")]},{type:o.Group,fieldBottomMargin:"1",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",fields:[Jd("Физическое лицо"),Qd("mobile")].concat(f(em("Физическое лицо")))}]},{type:o.Fragment,isVisible:function(e){return!!Ie(e.kontakt,"Юридическое лицо")},fields:[{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"1",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",phoneHidden:!0,tabletHidden:!0,fields:[Xd("Юридическое лицо"),Qd("desktop")]},{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",desktopHidden:!0,fields:[Xd("Юридическое лицо"),Qd("desktop")]},{type:o.Group,fieldBottomMargin:"1",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",fields:[Jd("Юридическое лицо"),Qd("mobile")].concat(f(em("Юридическое лицо")))}]},{type:o.Component,features:["withBottomSaveButton"],watchOneContext:!0,element:Dc}];window.contact_fields=tm;var nm=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование контакта"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание контакта"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],rm="Вы уверены, что хотите удалить файл?",am="Подтверждение",im=me.createLoader(24),om=function(e){return e&&"Физическое лицо"!==e?{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"kontakt")},name:"kontakt",title:"Контакт"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"naimenovanie_organizaczii")},name:"naimenovanie_organizaczii",title:"Наименование организации"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"fio")},name:"fio",title:"Ф.И.О."},{type:o.Text,description:"Основной",features:["hasContactNumberPermission"],outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",isVisible:function(e){return us(e,"telefon")},name:"telefon",title:"Телефон"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"tip_klienta")},name:"tip_klienta",title:"Тип клиента"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"status_klienta")},name:"status_klienta",title:"Статус клиента"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"loyalnost_klienta")},name:"loyalnost_klienta",title:"Лояльность клиента"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"data-sozdaniya_klienta")},name:"data-sozdaniya_klienta",title:"Дата создания клиента"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"fakticheskij_adres")},name:"fakticheskij_adres",title:"Фактический адрес"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"email")},name:"email",title:"Email"},{type:o.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Xl.routerService.location.pathname.includes("bid_view"))&&!Xl.routerService.location.pathname.includes("bid_edit")},fields:[{type:o.Component,fieldBottomMargin:"1",isVisible:function(e){return us(e,"kadastrovyj-nomer_obekta","kadastrovyj-nomer_zemli")},element:function(){return ve(je,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"kadastrovyj-nomer_obekta")},name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"kadastrovyj-nomer_zemli")},name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]}:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"0",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"kontakt")},name:"kontakt",title:"Контакт"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"fio")},name:"fio",title:"Ф.И.О."},{type:o.Text,description:"Основной",features:["hasContactNumberPermission"],outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",isVisible:function(e){return us(e,"telefon")},name:"telefon",title:"Телефон"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"tip_klienta")},name:"tip_klienta",title:"Тип клиента"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"status_klienta")},name:"status_klienta",title:"Статус клиента"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"loyalnost_klienta")},name:"loyalnost_klienta",title:"Лояльность клиента"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"data-sozdaniya_klienta")},name:"data-sozdaniya_klienta",title:"Дата создания клиента"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"fakticheskij_adres")},name:"fakticheskij_adres",title:"Фактический адрес"},{type:o.Text,isVisible:function(e){return us(e,"email")},outlined:!1,name:"email",title:"Email"},{type:o.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Xl.routerService.location.pathname.includes("bid_view"))&&!Xl.routerService.location.pathname.includes("bid_edit")},fields:[{type:o.Component,fieldBottomMargin:"1",isVisible:function(e){return us(e,"kadastrovyj-nomer_obekta","kadastrovyj-nomer_zemli")},element:function(){return ve(je,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"kadastrovyj-nomer_obekta")},name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"kadastrovyj-nomer_zemli")},name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]}},um=function(e){return e&&"Физическое лицо"!==e?{type:o.Paper,isVisible:function(e){return us(e,"seriya-i-nomer_pasporta","data_rozhdeniya","pol","data-vydachi_pasporta","kem_vydan","adres_registraczii","pinfl","inn","dolzhnost_rukovoditelya","osnovanie-deyatelnosti-dannogo_licza","yuridicheskij_adres","sertifikat_kompanii","rekvizity")},fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"seriya-i-nomer_pasporta")},name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"data_rozhdeniya")},name:"data_rozhdeniya",title:"Дата рождения"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"pol")},name:"pol",title:"Пол"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"data-vydachi_pasporta")},name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"kem_vydan")},name:"kem_vydan",title:"Кем выдан"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"adres_registraczii")},name:"adres_registraczii",title:"Адрес регистрации"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"pinfl")},name:"pinfl",title:"ПИНФЛ"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"inn")},name:"inn",title:"ИНН"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"dolzhnost_rukovoditelya")},name:"dolzhnost_rukovoditelya",title:"Должность руководителя"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"osnovanie-deyatelnosti-dannogo_licza")},name:"osnovanie-deyatelnosti-dannogo_licza",title:"Основание деятельности данного лица"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"yuridicheskij_adres")},name:"yuridicheskij_adres",title:"Юридический адрес"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"sertifikat_kompanii")},name:"sertifikat_kompanii",title:"Сертификат компании (Гувохнома)"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"rekvizity")},name:"rekvizity",title:"Реквизиты"}]}:{type:o.Paper,isVisible:function(e){return us(e,"seriya-i-nomer_pasporta","data_rozhdeniya","pol","data-vydachi_pasporta","kem_vydan","adres_registraczii","pinfl","inn","rekvizity")},fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"seriya-i-nomer_pasporta")},name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"data_rozhdeniya")},name:"data_rozhdeniya",title:"Дата рождения"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"pol")},name:"pol",title:"Пол"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"data-vydachi_pasporta")},name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"kem_vydan")},name:"kem_vydan",title:"Кем выдан"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"adres_registraczii")},name:"adres_registraczii",title:"Адрес регистрации"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"pinfl")},name:"pinfl",title:"ПИНФЛ"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"inn")},name:"inn",title:"ИНН"},{type:o.Text,outlined:!1,isVisible:function(e){return us(e,"rekvizity")},name:"rekvizity",title:"Реквизиты"}]}},lm=function(e){return"desktop"===e?{type:o.Paper,features:["hasContactNumberPermission"],fieldRightMargin:"0",innerPadding:"0",tabletHidden:!0,phoneHidden:!0,child:{type:o.Component,isVisible:function(e){return us(e,"contact_phones","contact_names")},element:Gd}}:{type:o.Paper,features:["hasContactNumberPermission"],fieldBottomMargin:"1",innerPadding:"0",desktopHidden:!0,child:{type:o.Component,isVisible:function(e){return us(e,"contact_phones","contact_names")},element:Gd}}},sm=function(e){return e&&"Физическое лицо"!==e?[{type:o.Paper,fieldBottomMargin:"1",sx:{padding:"0 !important"},isVisible:function(e){return e.contact_files&&e.contact_files.length},child:{type:o.Component,element:function(e){var t=e.contact_files,n=e.onChange,a=e.readonly,o=_n({title:am,msg:rm});return ve(pt,{sx:{pointerEvents:"all"},children:null==t?void 0:t.map((function(e,u){return ve(kt,{disableGutters:!0,secondaryAction:ve(Pn,{disabled:a,onClick:function(){var r=wn(t)||[];o().then((function(t){t&&n({contact_files:r.filter((function(t){return t!==e}))})}))},children:ve(jt,{})}),children:ve(ze,{onClick:(s=i(r().mark((function t(){var n,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xl.appwriteService.getFileURL(e);case 2:return n=t.sent,t.next=5,Xl.appwriteService.readFileName(e);case 5:a=t.sent,_t(n,a);case 7:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)}),children:ve(we,{payload:e,Loader:im,children:(l=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.readFileName(t);case 2:return n=e.sent,e.abrupt("return",ve(ft,{primary:n}));case 4:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})})})},"".concat(e,"-").concat(u));var l,s}))})}}}]:[{type:o.Paper,fieldBottomMargin:"1",sx:{padding:"0 !important"},isVisible:function(e){return e.contact_files&&e.contact_files.length},child:{type:o.Component,element:function(e){var t=e.contact_files,n=e.onChange,a=e.readonly,o=_n({title:am,msg:rm});return ve(pt,{sx:{pointerEvents:"all"},children:null==t?void 0:t.map((function(e,u){return ve(kt,{disableGutters:!0,secondaryAction:ve(Pn,{disabled:a,onClick:function(){var r=wn(t)||[];o().then((function(t){t&&n({contact_files:r.filter((function(t){return t!==e}))})}))},children:ve(jt,{})}),children:ve(ze,{onClick:(s=i(r().mark((function t(){var n,a;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xl.appwriteService.getFileURL(e);case 2:return n=t.sent,t.next=5,Xl.appwriteService.readFileName(e);case 5:a=t.sent,_t(n,a);case 7:case"end":return t.stop()}}),t)}))),function(){return s.apply(this,arguments)}),children:ve(we,{payload:e,Loader:im,children:(l=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.readFileName(t);case 2:return n=e.sent,e.abrupt("return",ve(ft,{primary:n}));case 4:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})})})},"".concat(e,"-").concat(u));var l,s}))})}}}]},cm=[{type:o.Init,name:"contact_phones",defaultValue:null},{type:o.Init,name:"contact_names",defaultValue:null},{type:o.Fragment,isVisible:function(e){return!e.kontakt||!!Ie(e.kontakt,"Физическое лицо")},fields:[{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"1",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",phoneHidden:!0,tabletHidden:!0,fields:[om("Физическое лицо"),lm("desktop")]},{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",desktopHidden:!0,fields:[om("Физическое лицо"),lm("desktop")]},{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",fields:[um("Физическое лицо"),lm("mobile")].concat(f(sm("Физическое лицо")))}]},{type:o.Fragment,isVisible:function(e){return!!Ie(e.kontakt,"Юридическое лицо")},fields:[{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"1",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",phoneHidden:!0,tabletHidden:!0,fields:[om("Юридическое лицо"),lm("desktop")]},{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",desktopHidden:!0,fields:[om("Юридическое лицо"),lm("desktop")]},{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",fields:[um("Юридическое лицо"),lm("mobile")].concat(f(sm("Юридическое лицо")))}]}];window.contact_fields=cm;var pm,dm,mm,fm,ym,hm,vm=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",label:"Просмотр контакта"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasApartmentUpdatePermission},action:"edit-action",label:"Редактировать"}],bm=function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentViewService.read(t);case 2:return n=e.sent,a=n.contact_id,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_m=al()({container:{alignItems:"center",backgroundColor:"#F7F7F7",border:"1px solid #ECECEC",boxShadow:"0 4px 16px 0px rgba(0,0,0,0.2)",display:"flex",gap:8,justifyContent:"stretch",minHeight:"72px",padding:"10px 24px",borderRadius:"0 0 8px 8px"},textInput:{flex:1,"& textarea::-webkit-scrollbar":{display:"none"}},contained:{color:"#FFFFFF",backgroundColor:"#3578E5","&:hover":{backgroundColor:"#3578E5"}}}),gm=[{type:o.Choose,fieldBottomMargin:"3",fieldRightMargin:"0",choose:(dm=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickData(t.user_id?[t.user_id]:[]),e.next=3,n.resultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return dm.apply(this,arguments)}),tr:(pm=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",[null==n?void 0:n.last_name,null==n?void 0:n.first_name,null==n?void 0:n.middle_name].filter((function(e){return e})).join(" ")||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return pm.apply(this,arguments)}),name:"user_id",title:"",placeholder:"Кому"},{type:o.Text,fieldBottomMargin:"0",fieldRightMargin:"0",placeholder:"Введите сообщение",inputRows:3,labelShrink:!0,name:"comment",title:""}],km=function(){var e=Rv(),t=Ql("id");if(e&&t){if(e.path.includes("apartment"))return"/apartment_view/".concat(t,"/service_comment");if(e.path.includes("bid"))return"/bid_view/".concat(t,"/service_comment")}return""},xm=function(e){var t,n,a,o,u,s=e.addMessage,c=void 0===s?function(){return null}:s,p=e.addFile,d=void 0===p?function(){return null}:p,m=e.payload,f=_m().classes,h=l(ye.useState(""),2),v=h[0],b=h[1],_=pc({payload:m}),g=_.pickData,k=_.render,x=_.resultSubject,w=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),S=w.handleLoadStart,z=w.handleLoadEnd,T=w.loading,A=Ke({title:"Уведомить сотрудника",fields:gm,payload:{pickData:g,resultSubject:x}});return ve("div",{className:f.container,children:[ve(En,{className:f.textInput,readOnly:T,value:v,onChange:function(e){var t=e.target;return b(t.value)},placeholder:"Введите комментарий",multiline:!0,maxRows:5}),ve(Mt,{condition:(u=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:return t=e.sent,e.abrupt("return",t.hasUserServiceCommentMentionPermission);case 4:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),children:ve(Pn,{disabled:T,onClick:(o=i(r().mark((function e(){var t,n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A().toPromise();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(t.user_id&&t.comment){e.next=8;break}return Xl.alertService.notify("Укажите получателя и сообщение"),e.abrupt("return");case 8:return n=t.user_id,a=t.comment,e.next=11,Xl.userViewService.read(n);case 11:return i=e.sent,o=i.first_name,u=['<blank-link href="/user_view/'.concat(n,'">@').concat(o,"</blank-link>"),a].join("\n"),e.next=16,Xl.notifyViewService.create({title:"Вас упомянули в служебном комментарии",user_id:n,url:km()});case 16:return e.next=18,c(u);case 18:b("");case 19:case"end":return e.stop()}}),e)}))),function(){return o.apply(this,arguments)}),onLoadStart:S,onLoadEnd:z,children:ve(Nn,{})})}),ve(Mt,{condition:(a=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:return t=e.sent,e.abrupt("return",t.hasUserServiceCommentAddingFilePermission);case 4:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),children:ve(Pn,{disabled:T,onClick:(n=i(r().mark((function e(){var t,n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xn();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:n=y(t),e.prev=6,n.s();case 8:if((a=n.n()).done){e.next=17;break}return i=a.value,e.next=12,Xl.appwriteService.uploadFile(i);case 12:return o=e.sent,e.next=15,d(v,o);case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),n.e(e.t0);case 22:return e.prev=22,n.f(),e.finish(22);case 25:if(!v){e.next=28;break}return e.next=28,c(v);case 28:b("");case 29:case"end":return e.stop()}}),e,null,[[6,19,22,25]])}))),function(){return n.apply(this,arguments)}),onLoadStart:S,onLoadEnd:z,children:ve(On,{})})}),ve(st,{disabled:T,className:f.contained,onClick:(t=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c(v);case 4:b("");case 5:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),onLoadStart:S,onLoadEnd:z,variant:"contained",size:"large",children:ve(kn,{children:ve(Un,{})})}),k()]})},wm=al()((function(e,t,n){return{newMessage:{backgroundColor:"#3578E5",borderRadius:"8px",color:"#FFFFFF",display:"flex",fontFamily:"Roboto, sans-serif",padding:12,paddingRight:0,width:"65%","& pre":{margin:0}},newFile:{backgroundColor:"#3578E5",overflow:"hidden",borderRadius:"8px",color:"#FFFFFF",display:"flex",fontFamily:"Roboto, sans-serif",width:"65%"},newMessageContainer:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",width:"100%",paddingBottom:"12px"},receivedMessage:{backgroundColor:"#FFFFFF",borderRadius:"8px",display:"flex",padding:12,paddingRight:0,fontFamily:"Roboto, sans-serif",width:"65%"},recievedFile:{backgroundColor:"#FFFFFF",overflow:"hidden",borderRadius:"8px",display:"flex",fontFamily:"Roboto, sans-serif",width:"65%"},receivedMessageContainer:{display:"flex",flex:"0 0 auto",justifyContent:"flex-start",flexDirection:"row-reverse",width:"100%",paddingBottom:"12px","& pre":{margin:0}},receivedMessageSender:{paddingRight:10,paddingTop:5},stretch:{flex:1},copy:{width:"100%",alignItems:"flex-start !important"}}})),Sm=function(e){var t=e.sessionData,n=wm().classes,a=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),o=a.handleLoadStart,u=a.handleLoadEnd,l=He(i(r().mark((function e(){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.fileId){e.next=8;break}return e.next=3,Xl.appwriteService.getFileURL(t.fileId);case 3:return n=e.sent,e.next=6,Xl.appwriteService.readFileName(t.fileId);case 6:a=e.sent,_t(n,a);case 8:case"end":return e.stop()}}),e)}))),{onLoadStart:o,onLoadEnd:u}).execute;return ve("div",{children:t.userId===Xl.appwriteService.currentUser.$id?ve("div",{className:n.newMessageContainer,children:t.fileId?ve(kt,{disablePadding:!0,className:n.newFile,onClick:function(){return l()},children:ve(ze,{children:[ve(xt,{children:ve(St,{children:ve(Hn,{})})}),ve(ft,{primary:t.fileName||"Файл"})]})}):ve("div",{className:n.newMessage,children:ve(Vt,{onCopyClick:function(){return Xl.alertService.notify("Сообщение скопировано в буфер обмена")},className:n.copy,sx:{"& svg":{color:"white"}},content:zt.sanitize(t.message),children:ve("pre",{children:ve(zt,{config:Vs,handler:function(){return t.message}})})})})}):ve("div",{className:n.receivedMessageContainer,children:[ve("div",{className:n.stretch}),t.fileId?ve(kt,{disablePadding:!0,className:n.recievedFile,onClick:function(){return l()},children:ve(ze,{children:[ve(xt,{children:ve(St,{children:ve(Hn,{})})}),ve(ft,{primary:t.fileName||"Файл"})]})}):ve("div",{className:n.receivedMessage,children:ve(Vt,{onCopyClick:function(){return Xl.alertService.notify("Сообщение скопировано в буфер обмена")},className:n.copy,content:zt.sanitize(t.message),children:ve("pre",{children:ve(zt,{config:Vs,handler:function(){return t.message}})})})}),ve("div",{className:n.receivedMessageSender,children:ve(Wn,{title:t.displayName,children:ve(St,{src:t.avatar,style:{height:28,width:28}})})})]})})},zm=al()({container:{backgroundColor:"#F0F0F0",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",height:"100%",width:"100%"},content:{padding:"8px",flex:1}}),Tm=function(e){var t=e.className,n=e.style,r=e.messages,a=e.payload,i=e.onText,o=e.onFile,u=zm(),l=u.classes,s=u.cx,c=ye.useMemo((function(){return null!=r&&r.length?r[(null==r?void 0:r.length)-1]:null}),[r]),p=ye.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Xl.appwriteService.currentUser.$id;return!(!e&&(null==c?void 0:c.userId)!==t)&&"auto"}),[c]),d=ye.useCallback((function(e,t){return ve(Sm,{sessionData:t},"".concat(t.id,"-").concat(e))}),[]);return ve("div",{className:s(l.container,t),style:n,children:[ve("div",{className:l.content,children:ve($n,{data:r,followOutput:p,initialTopMostItemIndex:null==r?void 0:r.length,itemContent:d,computeItemKey:function(e){var t=r[e];return(null==t?void 0:t.id)||z()}})}),ve(xm,{payload:a,addMessage:i,addFile:o})]})},Am="real-estate__headerRoot",Fm=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",label:"Просмотр служебных комментариев"}],Cm=ye.forwardRef((function(e,t){var n,a,o=e.item,u=e.loading,l=e.className,s=e.style;return ve("div",{className:l,style:s,ref:t,children:ve(it,{sx:{position:"relative",overflow:"hidden"},children:[ve(kt,{children:[ve(xt,{children:ve(we,{loading:u,payload:o,Loader:function(){return ve(wt,{variant:"circular",width:40,height:40})},children:(a=i(r().mark((function e(t){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,e.next=3,Xl.userViewService.tryRead(n);case 3:if(null==(a=e.sent)||!a.avatar){e.next=10;break}return e.next=7,Xl.appwriteService.getImageURL(a.avatar);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=void 0;case 11:return i=e.t0,e.abrupt("return",ve(St,{alt:null==a?void 0:a.email,src:i,sx:{height:40,mr:2,width:40}}));case 13:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})})}),ve(we,{loading:u,payload:o,Loader:function(){return ve(Me,{flex:1,children:[ve(wt,{sx:{mb:1},variant:"rectangular",width:210,height:22}),ve(wt,{variant:"rectangular",width:170,height:22})]})},children:(n=i(r().mark((function e(t){var n,a,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user_id,e.next=3,Xl.userViewService.tryRead(n);case 3:return a=e.sent,o=[null==a?void 0:a.first_name,null==a?void 0:a.last_name,null==a?void 0:a.middle_name].filter((function(e){return e})).join(" "),u=function(){var e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==a||null===(t=a.user_role)||void 0===t||!t.length){e.next=5;break}return e.next=3,Xl.roleViewService.tryRead(a.user_role[0]);case 3:return n=e.sent,e.abrupt("return",(null==n?void 0:n.title)||"");case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=8,u();case 8:return l=e.sent,e.abrupt("return",ve(ft,{primary:o,secondary:l}));case 10:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}),ve(je,{children:h(o.$createdAt).format("HH:mm DD/MM/YYYY")})]}),!!o.comment&&ve(ge,{component:"pre",sx:{ml:1,mr:1,mb:1},children:ve(zt,{config:Vs,handler:function(){return o.comment}})}),ve(ge,{sx:{position:"absolute",top:0,left:0,bottom:0,width:6,zIndex:1,background:"skyblue"}})]})})})),Vm="real-estate__headerRoot",Mm=[{type:Ye.Link,action:"list-action",label:"База объектов"},{type:Ye.Link,action:"list-action",label:"Просмотр задач"}],Lm=[{id:"list",element:function(e){var t=e.payload;return ve(bn,{history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},routes:Lc,payload:t})},isActive:function(e){return rs(["/apartment","/apartment_rent","/apartment_sell","/apartment_archive","/apartment_remove"],e)},isAvailable:function(){return!1}},{id:"create",element:function(){var e=at(),t=e.elementRef,n=e.size,a=l(ye.useState((function(){return{activeStep:0,contact_id:null,fio:"",telefon:""}})),2),o=a[0],s=a[1],c=l(ye.useState([]),2),p=c[0],m=c[1],f=l(ye.useState(!1),2),y=f[0],h=f[1],v=l(ye.useState(!1),2),b=v[0],_=v[1],g=ye.useMemo((function(){return new Date(Date.now()+1e4)}),[o.activeStep]);ye.useEffect((function(){_(!1)}),[o.activeStep]);var k=function(e){return s((function(t){return u(u({},t),{},{activeStep:e})}))},x=o.activeStep,w=xs().classes,S=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),z=S.handleLoadStart,T=S.handleLoadEnd,A=S.loading,F=S.unblock,C=function(){var e=i(r().mark((function e(){var t,n,a,i,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=o.contact_id,n=o.fio,a=o.telefon,t){e.next=7;break}return e.next=5,Xl.contactViewService.create({fio:n,telefon:a,"data-sozdaniya_klienta":vt.currentDate()});case 5:i=e.sent,t=i.$id;case 7:return e.next=9,Xl.apartmentViewService.create({contact_id:t});case 9:u=e.sent,l=u.id,F(),Xl.routerService.push("/apartment_edit/".concat(l),{viewRedirectFlag:!0}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Xl.alertService.notify(Eu(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=i(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),o.fio||o.telefon){e.next=3;break}return e.abrupt("return");case 3:if(0!==x){e.next=11;break}return e.next=6,Xl.contactRequestService.findDuplicates(o);case 6:t=e.sent,n=t.rows,a=t.total,m(n),k(0===a?2:1);case 11:if(1===x&&k(2),2!==x){e.next=15;break}return e.next=15,C();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=!1;return 1===x&&(e=e||!b),e=(e=e||A)||3===x};return ve(ct,{children:[ve(Qe,{items:ks}),ve(it,{className:w.root,children:[ve(ot,{className:w.header,activeStep:x,children:[ve(ut,{completed:x>0,children:ve(lt,{children:"Первичные данные"})},0),ve(ut,{completed:x>1,children:ve(lt,{children:"Поиск дубликатов"})},1),ve(ut,{completed:x>2,children:ve(lt,{children:"Создание объекта"})},2)]}),ve("div",{className:w.adjust}),ve(ge,{ref:t,className:w.content,children:0===x?ve(et,{sx:{pl:1,pr:1,pt:2,pb:3},handler:o,onChange:s,dirty:y,fields:gs}):1===x?ve(yt,{sx:{height:n.height},component:pt,minRowHeight:54,children:p.map((function(e,t){var n,a=e.fio,l=e.telefon,c=e.$id,p=e.tip_klienta,m=e.system_created_by,f=e.index;return ve(ze,{className:ke(d({},w.listItemBackground,t%2==1)),onClick:function(){s((function(e){return u(u({},e),{},{contact_id:c,activeStep:2})}))},dense:!0,children:[ve(dt,{children:ve(mt,{edge:"start",checked:o.contact_id===c,sx:{marginLeft:"0 !important"},disableRipple:!0})}),ve(ft,{primary:a,secondary:ve(we,{Loader:ws,children:(n=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(m);case 2:return t=e.sent,n=t?"Создал "+[t.last_name,t.first_name,t.middle_name].filter((function(e){return e})).join(" "):"",e.abrupt("return",["№".concat(f),n,p].filter((function(e){return e})).join(", "));case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})})}),ve(je,{children:l})]},t)}))}):2===x?ve(et,{sx:{pl:1,pr:1,pt:2,pb:3},handler:o,dirty:y,fields:gs}):null}),ve(Me,{sx:{pl:1,pr:1,pb:1},justifyContent:"space-between",flexDirection:"row",children:[ve(st,{disabled:A||0===x,fallback:Xl.errorService.handleGlobalError,onClick:function(){s((function(e){return u(u({},e),{},{contact_id:null})})),0===p.length?k(0):k(x-1)},sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:"Назад"}),ve(st,1===x?{disabled:M(),fallback:Xl.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:ve(ht,{expireAt:g,onExpire:function(){return _(!0)},children:"Не вижу дубликат"})}:2===x?{disabled:M(),fallback:Xl.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:"Создать объект"}:{disabled:M(),fallback:Xl.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:"Далее"})]})]})]})},isActive:function(e){return rs(["/apartment/create"],e)},isAvailable:function(){return!1}},{id:"object",element:function(e){var t=e.beginSave,n=e.onChange,r=e.payload,a=e.data,i=e.formState,o=Je(a);return ve(Le,{children:[ve(Qe,{items:Cp,payload:i,onAction:function(e){"list-action"===e&&Xl.routerService.push("/apartment"),"save-action"===e&&t()}}),ve(ts,{}),ve(Ts,{payload:r,mode:r.menuMode,children:[ve(et,{fields:gp,changeSubject:o,features:function(){return u(u({},r.permissions),{},{withBottomSaveButton:!0})},payload:function(){return u(u({},r),{},{beginSave:t})},context:i,onChange:n,handler:function(){return a}}),ve(tt,{}),ve(nt,{})]})]})},isActive:function(e){return rs(["/apartment_edit/:id","/apartment_edit/:id/object"],e)}},{id:"documents",element:function(e){var t,n,a,o=e.onChange,u=e.payload,l=e.beginSave,s=e.formState,c=e.data,p=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),d=p.handleLoadStart,m=p.handleLoadEnd,f=p.loading;return ve(Le,{children:[ve(Qe,{items:As,payload:s,onAction:function(e){"list-action"===e&&Xl.routerService.push("/apartment"),"save-action"===e&&l()}}),ve(ts,{}),ve(Ts,{payload:u,mode:u.menuMode,children:[ve(it,{sx:{p:1},children:ve(bt,{disabled:f,accept:"*",multiple:!0,items:c,tr:(a=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.tryReadFileName(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=t;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),fallback:Xl.errorService.handleGlobalError,onClick:(n=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getFileURL(t);case 2:return n=e.sent,e.next=5,Xl.appwriteService.readFileName(t);case 5:a=e.sent,_t(n,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onUpload:function(e){return Xl.appwriteService.uploadFile(e)},onChange:(t=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(t);case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onLoadStart:d,onLoadEnd:m})}),ve(tt,{}),ve(nt,{})]})]})},isActive:function(e){return rs(["/apartment_edit/:id/documents"],e)}},{id:"owner_contact",element:function(e){var t=e.data,n=e.payload,r=e.formState,a=e.onChange,i=e.beginSave,o=Je(t);return ve(Le,{children:[ve(Qe,{items:nm,onAction:function(e){"list-action"===e&&Xl.routerService.push("/apartment"),"save-action"===e&&i()},payload:r}),ve(ts,{}),ve(Ts,{payload:n,mode:n.menuMode,children:[ve(et,{handler:function(){return t},onChange:a,features:function(){return u(u({},n.permissions),{},{withBottomSaveButton:!0})},payload:function(){return u(u({},n),{},{beginSave:i})},context:r,changeSubject:o,fields:tm}),ve(tt,{}),ve(nt,{})]})]})},isActive:function(e){return rs(["/apartment_edit/:id/owner_contact"],e)}},{id:"object",element:function(e){var t,n,a=e.params.id,o=e.formState,u=e.payload,l=e.data,s=Xe({fields:gp,payload:u,features:u.permissions,outlinePaper:!0,handler:(n=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentViewService.tryRead(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},onSubmit:(t=i(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,e.prev=1,!t){e.next=8;break}return e.next=5,Xl.apartmentViewService.update(a,t);case 5:if(!u.hasAdvertising){e.next=8;break}return e.next=8,Xl.advertisingRequestService.updateAdvertisingByApartment(a,t);case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(1),n=!1,i=Eu(e.t0),Xl.alertService.notify(i),e.abrupt("return",!1);case 16:return e.prev=16,e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[1,10,16,19]])}))),function(e){return t.apply(this,arguments)}),submitLabel:"Сохранить"}),c=s.pickData,p=s.render,d=Ed({title:"Поделиться объектом",payload:u,features:u.permissions,selectedRows:l.system_allowance||[]}),m=He(function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("list-action"===t&&Xl.routerService.push("/apartment"),"edit-action"===t&&c(),"toggle-only-for-owner-action"!==t){e.next=5;break}return e.next=5,Xl.apartmentViewService.toggleOnlyForOwner(a);case 5:if("create-advertising-action"!==t){e.next=9;break}return e.next=8,Xl.advertisingRequestService.createAdvertisingByApartment(a);case 8:Xl.routerService.push("/apartment_view/".concat(a,"/advertising"));case 9:if("pick-allowance-action"!==t){e.next=17;break}return e.next=12,d();case 12:if(n=e.sent){e.next=15;break}return e.abrupt("return");case 15:return e.next=17,Xl.apartmentViewService.updateAllowance(a,n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),f=m.execute,y=Je(l);return ve(Le,{children:[ve(Qe,{payload:o,items:Nd,actions:Od,onAction:f}),ve(ts,{}),ve(os,{payload:u,mode:u.menuMode,children:[ve(et,{dirty:!0,readonly:!0,changeSubject:y,features:u.permissions,payload:u,fields:Ld,handler:function(){return l}}),ve(tt,{}),ve(nt,{})]}),p()]})},isActive:function(e){return rs(["/apartment_view/:id","/apartment_view/:id/object"],e)}},{id:"owner_contact",element:function(e){var t,n,a=e.params.id,o=e.payload,u=e.formState,l=e.data,s=Je(l),c=Xe({fields:tm,payload:o,features:o.permissions,outlinePaper:!0,handler:(n=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bm(a);case 2:return t=e.sent,e.next=5,Xl.contactViewService.tryRead(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},onSubmit:(t=i(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,e.prev=1,!t){e.next=8;break}return e.next=5,bm(a);case 5:return i=e.sent,e.next=8,Xl.contactViewService.update(i,t);case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(1),n=!1,o=Eu(e.t0),Xl.alertService.notify(o),e.abrupt("return",!1);case 16:return e.prev=16,e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[1,10,16,19]])}))),function(e){return t.apply(this,arguments)}),submitLabel:"Сохранить"}),p=c.pickData,d=c.render,m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"list-action"===t&&Xl.routerService.push("/apartment"),"edit-action"===t&&p();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(Qe,{items:vm,payload:u,onAction:m}),ve(ts,{}),ve(os,{payload:o,mode:o.menuMode,children:[ve(et,{changeSubject:s,readonly:!0,handler:function(){return l},features:o.permissions,fields:cm,payload:o}),ve(tt,{}),ve(nt,{})]}),d()]})},isActive:function(e){return rs(["/apartment_view/:id/owner_contact"],e)}},{id:"documents",element:function(e){var t,n,a,o=e.params.id,u=e.data,l=e.payload,s=e.formState,c=Fs({data:u,onSubmit:(t=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentViewService.update(o,{apartment_files:t});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}),p=c.render,d=c.pickFiles;return ve(Le,{children:[ve(Qe,{items:Cs,payload:s,onAction:function(e){"list-action"===e&&Xl.routerService.push("/apartment"),"edit-action"===e&&d()}}),ve(ts,{}),ve(os,{payload:l,mode:l.menuMode,children:[ve(it,{sx:{p:1},children:ve(bt,{disabled:!0,accept:"*",multiple:!0,items:u,tr:(a=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.tryReadFileName(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=t;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),fallback:Xl.errorService.handleGlobalError,onClick:(n=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getFileURL(t);case 2:return n=e.sent,e.next=5,Xl.appwriteService.readFileName(t);case 5:a=e.sent,_t(n,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onUpload:function(e){return Xl.appwriteService.uploadFile(e)}})}),ve(tt,{}),ve(nt,{})]}),p()]})},isActive:function(e){return rs(["/apartment_view/:id/documents"],e)}},{id:"tasks",element:function(e){var t=e.payload,n=l(ye.useState([]),2),a=n[0],o=n[1],u=at({target:document.body,selector:"main",compute:function(e){var n,r=e.height,a=e.width;if(t.menuMode===W.Tabs){var i=document.querySelector(".".concat(Tt));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(n=document.querySelector(".".concat(Vm)))||void 0===n?void 0:n.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=He(function(){var e=i(r().mark((function e(t){var n,a,i,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return n=Ql("id")||"unknown",e.next=4,Xl.apartmentViewService.read(n);case 4:return a=e.sent,i=a.contact_id,e.next=8,Xl.taskHistoryViewService.findAllByContactId(i);case 8:u=e.sent,o(u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Xl.errorService.handleGlobalError,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),c=s.loading,p=s.execute;return ve(Le,{children:[ve("div",{className:Vm,children:[ve(Qe,{className:"",items:Mm,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment")}}),ve(ts,{})]}),ve(os,{payload:t,mode:t.menuMode,children:ve(yt,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){p(e)},children:ve(Me,{spacing:1,children:a.map((function(e){return ve(Cm,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return rs(["/apartment_view/:id/tasks"],e)}},{id:"advertising",element:function(e){var t,n=e.formState,a=e.payload,o=e.data,u=Ke({title:"Опубликовать в Telegram",fields:bs}),l=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),s=l.handleLoadStart,c=l.handleLoadEnd,p=He(i(r().mark((function e(){var t,n,i,l,s,c,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u().toPromise();case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,Xl.dictService.getTelegramMapRaw();case 7:return n=e.sent,i=G.get(n,t.telegram_channel),e.next=11,vs(o,i.channel,a);case 11:return l=e.sent,s=o.apartment_images||[],c=o.advertising_images||[],p=s.filter((function(e){return c.includes(e)})),e.next=17,Xl.publishService.publishTelegram(t.telegram_channel,l,p,"№".concat(o.apartment_index));case 17:Xl.alertService.notify("Пост опубликован успешно!");case 18:case"end":return e.stop()}}),e)}))),{onLoadStart:s,onLoadEnd:c,fallback:Xl.errorService.handleGlobalError}).execute,d=Xe({fields:ml,handler:function(){return o},payload:a,features:a.permissions,outlinePaper:!0,fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},onSubmit:(t=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,e.prev=1,!t){e.next=5;break}return e.next=5,Xl.advertisingViewService.update(o.id,t);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),n=!1,a=Eu(e.t0),Xl.alertService.notify(a),e.abrupt("return",!1);case 13:return e.prev=13,e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,7,13,16]])}))),function(e){return t.apply(this,arguments)}),submitLabel:"Сохранить"}),m=d.pickData,f=d.render,y=Je(o);return ve(Le,{children:[ve(Qe,{payload:n,items:_s,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment"),"edit-action"===e&&m(),"publish-action"===e&&p()}}),ve(ts,{}),ve(os,{payload:a,mode:a.menuMode,children:[ve(et,{dirty:!0,readonly:!0,changeSubject:y,features:a.permissions,payload:a,fields:ls,handler:function(){return o}}),ve(tt,{}),ve(nt,{})]}),f()]})},isActive:function(e){return rs(["/apartment_view/:id/advertising"],e)}},{id:"history",element:function(e){var t=e.payload,n=l(ye.useState([]),2),a=n[0],o=n[1],u=at({target:document.body,selector:"main",compute:function(e){var n,r=e.height,a=e.width;if(t.menuMode===W.Tabs){var i=document.querySelector(".".concat(Tt));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(n=document.querySelector(".".concat(Ls)))||void 0===n?void 0:n.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=He(function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return n=Ql("id"),e.next=4,Xl.dealHistoryViewService.findAllByApartmentId(n);case 4:a=e.sent,o(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Xl.errorService.handleGlobalError,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),c=s.loading,p=s.execute;return ve(Le,{children:[ve("div",{className:Ls,children:[ve(Qe,{className:"",items:Is,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment")}}),ve(ts,{})]}),ve(os,{payload:t,mode:t.menuMode,children:ve(yt,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){p(e)},children:ve(Me,{spacing:1,children:a.map((function(e){return ve(Ms,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return rs(["/apartment_view/:id/history"],e)}},{id:"service_comment",element:function(e){var t=e.payload,n=e.formState,a=l(ye.useState([]),2),o=a[0],u=a[1],s=at({target:document.body,selector:"main",compute:function(e){var n,r=e.height,a=e.width;if(t.menuMode===W.Tabs){var i=document.querySelector(".".concat(Tt));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(n=document.querySelector(".".concat(Am)))||void 0===n?void 0:n.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,c=He(i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ql("id"),e.next=3,Xl.serviceCommentViewService.findAllByApartmentId(t);case 3:return n=e.sent,e.t0=u,e.next=7,Promise.all(n.map(function(){var e=i(r().mark((function e(t){var n,a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$id,a=t.user_id,i=t.file_id,o=t.comment,u=t.$createdAt,e.next=3,Xl.userViewService.tryRead(a);case 3:if(l=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(!l.avatar){e.next=12;break}return e.next=9,Xl.appwriteService.getImageURL(l.avatar);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0="";case 13:if(s=e.t0,!i){e.next=20;break}return e.next=17,Xl.appwriteService.tryReadFileName(i);case 17:e.t1=e.sent,e.next=21;break;case 20:e.t1="";case 21:return c=e.t1,e.abrupt("return",{id:n,message:o,fileId:i,userId:a,displayName:[l.last_name,l.first_name,l.middle_name,h(u).format("DD.MM.YYYY / HH:mm")].join(" "),fileName:c,avatar:s});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter((function(e){return!!e})).reverse());case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),{fallback:Xl.errorService.handleGlobalError,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),p=c.execute;ye.useEffect((function(){p()}),[]),ye.useEffect((function(){return Xl.serviceCommentViewService.createSubject.subscribe((function(e){var t=Ql("id");e.apartment_id===t&&p()}))}),[]);var d=function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xl.appwriteService.currentUser.$id,a=Ql("id"),e.next=4,Xl.serviceCommentViewService.create({user_id:n,comment:t,apartment_id:a,bid_id:null,contact_id:null,file_id:null});case 4:return e.next=6,p();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t,n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xl.appwriteService.currentUser.$id,i=Ql("id"),e.next=4,Xl.serviceCommentViewService.create({user_id:a,comment:t,apartment_id:i,bid_id:null,contact_id:null,file_id:n});case 4:return e.next=6,p();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return ve(Le,{children:[ve("div",{className:Am,children:[ve(Qe,{payload:n,items:Fm,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment")}}),ve(ts,{})]}),ve(os,{payload:t,mode:t.menuMode,children:ve(Tm,{payload:t,style:{height:s.height},messages:o,onText:d,onFile:m})})]})},isActive:function(e){return rs(["/apartment_view/:id/service_comment"],e)}}],Im=function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==t){e.next=2;break}return e.abrupt("return",{"data-sozdaniya_klienta":vt.currentDate()});case 2:return e.next=4,Xl.apartmentViewService.read(t);case 4:return n=e.sent,a=n.contact_id,e.next=8,Xl.contactViewService.tryRead(a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bm=function(e){var t,n=e.id,a=void 0===n?"create":n,o=function(){var e=i(r().mark((function e(t,n){var i,o,u,l,s,c,p,d,m,f,y,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.afterSave,o=!0,e.prev=2,u=G.get(t,"object")||{},l=G.get(t,"owner_contact")||{},s=G.get(t,"documents")||[],c=G.get(t,"object.contact_id"),G.set(t,"object.apartment_files",s),!c){e.next=14;break}return e.next=11,Xl.contactViewService.tryRead(c);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=!1;case 15:if(p=e.t0,!c||!p){e.next=21;break}return e.next=19,Xl.contactViewService.update(c,l);case 19:e.next=26;break;case 21:return e.next=23,Xl.contactViewService.create(l);case 23:d=e.sent,m=d.id,c=m;case 26:if(G.set(t,"object.contact_id",c),"create"!==a){e.next=37;break}return e.next=30,Xl.apartmentViewService.create(u);case 30:return f=e.sent,y=f.id,e.next=34,i();case 34:Xl.routerService.push("/apartment_edit/".concat(y)),e.next=39;break;case 37:return e.next=39,Xl.apartmentViewService.update(a,u);case 39:if(!Xl.routerService.hasViewRedirectFlag()){e.next=43;break}return e.next=42,i();case 42:Xl.routerService.push("/apartment_view/".concat(a));case 43:Xl.alertService.notify("Изменения сохранены"),e.next=51;break;case 46:e.prev=46,e.t1=e.catch(2),o=!1,h=Eu(e.t1),Xl.alertService.notify(h);case 51:return e.prev=51,e.abrupt("return",o);case 54:case"end":return e.stop()}}),e,null,[[2,46,51,54]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Im(a);case 2:return e.t0=e.sent,e.next=5,Xl.apartmentViewService.tryRead(a);case 5:return e.t1=e.sent,e.next=8,Xl.advertisingViewService.tryReadByApartmentId(a);case 8:return e.t2=e.sent,e.next=11,Xl.settingsViewService.getMasterDetailMode();case 11:return e.t3=e.sent,e.next=14,Xl.permissionService.getPermissions();case 14:return e.t4=e.sent,e.next=17,Xl.featureService.getAccessLevel();case 17:return e.t5=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3,e.t4,e.t5]);case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=he();return ye.useEffect((function(){return Xl.contactViewService.updateSubject.subscribe(function(){var e=i(r().mark((function e(t){var n,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,2),i=n[0],o=n[1],e.next=3,Xl.apartmentViewService.tryRead(a);case 3:if(u=e.sent,i===(null==u?void 0:u.contact_id)){e.next=6;break}return e.abrupt("return");case 6:s.next(["owner_contact",o]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),ye.useEffect((function(){return Xl.apartmentViewService.updateSubject.subscribe((function(e){var t=l(e,2),n=t[0],r=t[1];a===n&&(s.next(["object",r]),s.next(["advertising",r]),s.next(["documents",(null==r?void 0:r.apartment_files)||[]]))}))}),[]),ye.useEffect((function(){return Xl.advertisingViewService.updateSubject.subscribe((function(e){var t=l(e,2),n=(t[0],t[1]);a===n.apartment_id&&s.next(["advertising",n])}))}),[]),ve(Gn,{state:u,reloadSubject:Xl.layoutService.reloadOutletSubject,fallback:Xl.errorService.handleGlobalError,children:(t=i(r().mark((function e(t){var n,i,u,c,p,d,m;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,6),i=n[0],u=n[1],c=n[2],p=n[3],d=n[4],m=n[5],e.abrupt("return",ve(bn,{changeSubject:s,history:Xl.routerService,waitForChangesDelay:qa,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},routes:Lm,params:{id:a},initialData:{owner_contact:i,advertising:c,object:u,documents:(null==u?void 0:u.apartment_files)||[]},payload:function(){return{menuMode:p,permissions:d,accessLevel:m,hasAdvertising:!!c}},onChange:console.log,onSubmit:o}));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})},jm=me.createLoader(12),Dm=function(){return ve(ge,{sx:{mb:1,minHeight:32},children:ve(un,{sx:{height:"100%"},hideOverflowY:!0,children:ve(ge,{sx:{display:"flex",alignItems:"center",justifyContent:"stretch",gap:1},children:[ve(je,{variant:"subtitle2",children:"Заявки:"}),ve(we,{payload:null,Loader:jm,children:(e=i(r().mark((function e(){var t,n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.bidRequestService.getAllBidCount();case 2:return t=e.sent,e.next=5,Xl.bidRequestService.getRentBidCount();case 5:return n=e.sent,e.next=8,Xl.bidRequestService.getSellBidCount();case 8:return a=e.sent,e.next=11,Xl.bidRequestService.getArchiveBidCount();case 11:return i=e.sent,e.next=14,Xl.bidRequestService.getNewBidCount();case 14:return o=e.sent,e.abrupt("return",ve(Me,{direction:"row",gap:1,sx:{pointerEvents:"none"},children:[ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Всего ",t]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Аренда ",n]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Продажа ",a]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Архив ",i]}),ve(ln,{orientation:"vertical"})]}),ve(ge,{sx:{display:"flex",gap:"4px",whiteSpace:"nowrap"},children:[ve(ln,{orientation:"vertical"}),ve(sn,{href:"#",children:["Новые ",o]}),ve(ln,{orientation:"vertical"})]})]}));case 16:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})]})})});var e},Rm=function(){return window.innerHeight-70},qm=function(){return window.innerHeight-70},Pm=function(){return window.innerHeight-70},Em=function(){return window.innerHeight-70},Nm=[{id:"common",element:function(e){var t=e.payload,n=he(Xl.bidViewService.reloadSubject),a=ac({columns:pd,storageKey:"bid_columns"}),o=a.render,l=a.pickColumns,s=a.columns,c=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,p=zd(),d=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"edit-action"===t&&Xl.routerService.push("/bid_edit/".concat(a.id)),"remove-action"!==t){e.next=7;break}return e.next=6,Xl.bidViewService.remove(a.id);case 6:n.next();case 7:if("copy-action"!==t){e.next=14;break}return e.next=10,Xl.bidViewService.read(a.id);case 10:return i=e.sent,e.next=13,Xl.bidViewService.create(i);case 13:n.next();case 14:if("toggle-archive"!==t){e.next=18;break}return e.next=17,Xl.bidViewService.toggleArchive(a.id);case 17:n.next();case 18:return e.prev=18,Xl.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasBidViewPermission&&Xl.routerService.push("/bid_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSearch:!0,withSingleSort:!0,withSingleChip:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Заявки",filterLabel:"Фильтры",heightRequest:qm,rowActions:dd,actions:cd,filters:bd,columns:s,handler:p,chips:md,AfterActionList:Dm,AfterOperationList:Ad,onRowAction:d,onRowClick:m,onAction:function(e){"add-action"===e&&Xl.routerService.push("/bid/create"),"column-setup-action"===e&&l()},selectionMode:dn.Multiple,payload:t},c)),o()]})},isActive:function(e){return rs(["/bid"],e)},isAvailable:function(){return!1}},{id:"rent",element:function(e){var t=e.payload,n=he(Xl.bidViewService.reloadSubject),a=ac({columns:pd,storageKey:"bid_columns"}),o=a.render,l=a.pickColumns,s=a.columns,c=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,p=zd(),d=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"edit-action"===t&&Xl.routerService.push("/bid_edit/".concat(a.id)),"remove-action"!==t){e.next=7;break}return e.next=6,Xl.bidViewService.remove(a.id);case 6:n.next();case 7:if("copy-action"!==t){e.next=14;break}return e.next=10,Xl.bidViewService.read(a.id);case 10:return i=e.sent,e.next=13,Xl.bidViewService.create(i);case 13:n.next();case 14:if("toggle-archive"!==t){e.next=18;break}return e.next=17,Xl.bidViewService.toggleArchive(a.id);case 17:n.next();case 18:return e.prev=18,Xl.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasBidViewPermission&&Xl.routerService.push("/bid_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSearch:!0,withSingleSort:!0,withSingleChip:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Заявки",filterLabel:"Фильтры",heightRequest:Pm,rowActions:dd,actions:cd,filters:bd,columns:s,handler:p,chips:md,AfterActionList:Dm,AfterOperationList:Ad,onRowAction:d,onRowClick:m,onAction:function(e){"add-action"===e&&Xl.routerService.push("/bid/create"),"column-setup-action"===e&&l()},selectionMode:dn.Multiple,payload:u(u({},t),{},{_rent:!0})},c)),o()]})},isActive:function(e){return rs(["/bid_rent"],e)},isAvailable:function(){return!1}},{id:"sell",element:function(e){var t=e.payload,n=he(Xl.bidViewService.reloadSubject),a=ac({columns:pd,storageKey:"bid_columns"}),o=a.render,l=a.pickColumns,s=a.columns,c=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,p=zd(),d=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"edit-action"===t&&Xl.routerService.push("/bid_edit/".concat(a.id)),"remove-action"!==t){e.next=7;break}return e.next=6,Xl.bidViewService.remove(a.id);case 6:n.next();case 7:if("copy-action"!==t){e.next=14;break}return e.next=10,Xl.bidViewService.read(a.id);case 10:return i=e.sent,e.next=13,Xl.bidViewService.create(i);case 13:n.next();case 14:if("toggle-archive"!==t){e.next=18;break}return e.next=17,Xl.bidViewService.toggleArchive(a.id);case 17:n.next();case 18:return e.prev=18,Xl.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasBidViewPermission&&Xl.routerService.push("/bid_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSearch:!0,withSingleSort:!0,withSingleChip:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Заявки",filterLabel:"Фильтры",heightRequest:Em,rowActions:dd,actions:cd,filters:bd,columns:s,handler:p,chips:md,AfterActionList:Dm,AfterOperationList:Ad,onRowAction:d,onRowClick:m,onAction:function(e){"add-action"===e&&Xl.routerService.push("/bid/create"),"column-setup-action"===e&&l()},selectionMode:dn.Multiple,payload:u(u({},t),{},{_sell:!0})},c)),o()]})},isActive:function(e){return rs(["/bid_sell"],e)},isAvailable:function(){return!1}},{id:"archive",element:function(e){var t=e.payload,n=he(Xl.bidViewService.reloadSubject),a=ac({columns:pd,storageKey:"bid_columns"}),o=a.render,l=a.pickColumns,s=a.columns,c=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,p=zd(),d=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"edit-action"===t&&Xl.routerService.push("/bid_edit/".concat(a.id)),"remove-action"!==t){e.next=7;break}return e.next=6,Xl.bidViewService.remove(a.id);case 6:n.next();case 7:if("copy-action"!==t){e.next=14;break}return e.next=10,Xl.bidViewService.read(a.id);case 10:return i=e.sent,e.next=13,Xl.bidViewService.create(i);case 13:n.next();case 14:if("toggle-archive"!==t){e.next=18;break}return e.next=17,Xl.bidViewService.toggleArchive(a.id);case 17:n.next();case 18:return e.prev=18,Xl.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasBidViewPermission&&Xl.routerService.push("/bid_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSearch:!0,withSingleSort:!0,withSingleChip:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Заявки",filterLabel:"Фильтры",heightRequest:Rm,rowActions:dd,actions:cd,filters:bd,columns:s,handler:p,chips:md,AfterActionList:Dm,AfterOperationList:Tc,onRowAction:d,onRowClick:m,onAction:function(e){"add-action"===e&&Xl.routerService.push("/bid/create"),"column-setup-action"===e&&l()},selectionMode:dn.Multiple,payload:u(u({},t),{},{_archive:!0})},c)),o()]})},isActive:function(e){return rs(["/bid_archive"],e)},isAvailable:function(){return!1}}],Om=[{id:"contact",label:"Контакт",isActive:function(){return rs(["/bid_edit/:id/contact"])}},{id:"parameter",label:"Параметры заявки",isActive:function(){return rs(["/bid_edit/:id","/bid_edit/:id/parameter"])}},{id:"tasks",label:"Задачи",isDisabled:function(){return!0},isActive:function(){return rs(["/bid_edit/:id/tasks"])}},{id:"service_comment",label:"Служебный комментарий",isDisabled:function(){return!0},isActive:function(){return rs(["/bid_edit/:id/service_comment"])}},{id:"history",label:"История",isDisabled:function(){return!0},isActive:function(){return rs(["/bid_edit/:id/history"])}},{id:"documents",label:"Документы",isActive:function(){return rs(["/bid_edit/:id/documents"])}},{id:"commission_and_status",label:"Комиссия и статус",isDisabled:function(){return!0},isActive:function(){return rs(["/bid_edit/:id/commission_and_status"])}}],Um=function(e,t){if(!t){var n=Ql("id","create");"contact"===e&&Xl.routerService.replace("/bid_edit/".concat(n,"/contact")),"parameter"===e&&Xl.routerService.replace("/bid_edit/".concat(n,"/parameter")),"tasks"===e&&Xl.routerService.replace("/bid_edit/".concat(n,"/tasks")),"service_comment"===e&&Xl.routerService.replace("/bid_edit/".concat(n,"/service_comment")),"history"===e&&Xl.routerService.replace("/bid_edit/".concat(n,"/history")),"documents"===e&&Xl.routerService.replace("/bid_edit/".concat(n,"/documents")),"commission_and_status"===e&&Xl.routerService.replace("/bid_edit/".concat(n,"/commission_and_status"))}},Hm=function(e){var t=e.payload,n=e.children,r=e.mode,a=void 0===r?W.Paper:r,i=ye.useMemo((function(){return"tabs"===a?W.Tabs:W.Paper}),[a]);return ve($e,{withFixedPos:!0,payload:t,fixedPosHeaderAdjust:a===W.Paper?85:64,mode:i,options:Om,onActiveOptionChange:Um,children:n})},Wm=[{type:Ye.Link,action:"list-action",label:"Заявки"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование контакта"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание контакта"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],$m=[{id:"contact",label:"Контакт",isActive:function(){return rs(["/bid_view/:id/contact"])}},{id:"parameter",label:"Параметры заявки",isActive:function(){return rs(["/bid_view/:id","/bid_view/:id/parameter"])}},{id:"tasks",label:"Задачи",isActive:function(){return rs(["/bid_view/:id/tasks"])}},{id:"service_comment",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Служебный комментарий",isActive:function(){return rs(["/bid_view/:id/service_comment"])}},{id:"history",label:"История",isActive:function(){return rs(["/bid_view/:id/history"])}},{id:"documents",label:"Документы",isActive:function(){return rs(["/bid_view/:id/documents"])}},{id:"commission_and_status",label:"Комиссия и статус",isDisabled:function(){return!0},isActive:function(){return rs(["/bid_view/:id/commission_and_status"])}}],Gm=function(e,t){if(!t){var n=Ql("id","create");"contact"===e&&Xl.routerService.replace("/bid_view/".concat(n,"/contact")),"parameter"===e&&Xl.routerService.replace("/bid_view/".concat(n,"/parameter")),"tasks"===e&&Xl.routerService.replace("/bid_view/".concat(n,"/tasks")),"service_comment"===e&&Xl.routerService.replace("/bid_view/".concat(n,"/service_comment")),"history"===e&&Xl.routerService.replace("/bid_view/".concat(n,"/history")),"documents"===e&&Xl.routerService.replace("/bid_view/".concat(n,"/documents")),"commission_and_status"===e&&Xl.routerService.replace("/bid_view/".concat(n,"/commission_and_status"))}},Ym=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?W.Paper:r,i=ye.useMemo((function(){return"tabs"===a?W.Tabs:W.Paper}),[a]);return ve($e,{payload:n,withFixedPos:!0,fixedPosHeaderAdjust:a===W.Paper?85:64,mode:i,options:$m,onActiveOptionChange:Gm,children:t})},Km=[{type:Ye.Link,action:"list-action",label:"Заявки"},{type:Ye.Link,action:"list-action",label:"Просмотр контакта"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasBidUpdatePermission},action:"edit-action",label:"Редактировать"}],Zm=function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.bidViewService.read(t);case 2:return n=e.sent,a=n.contact_id,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xm=[{type:o.Fragment,isVisible:function(e){return 0===e.activeStep},fields:[{type:o.Component,element:function(){return ve(je,{variant:"h6",fontWeight:"bold",mb:2,children:"Данные контакта"})}},{type:o.Text,outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:o.Text,outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]},{type:o.Fragment,isVisible:function(e){return 2===e.activeStep},fields:[{type:o.Component,element:function(){return ve(je,{variant:"h6",fontWeight:"bold",mb:1,children:"Предпросмотр"})}},{type:o.Component,isVisible:function(e){return!e.contact_id},element:function(){return ve(rt,{variant:"outlined",color:"warning",sx:{mb:2},children:"Создавая новую заявку, убедитесь, что нет дубликата контакта"})}},{type:o.Component,isVisible:function(e){return!!e.contact_id},element:function(){return ve(rt,{variant:"outlined",color:"info",sx:{mb:2},children:"Убедитесь, что это контактные данные клиента"})}},{type:o.Text,isVisible:function(e){return!!e.contact_id},compute:(fm=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.fio,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return fm.apply(this,arguments)}),disabled:!0,outlined:!0,title:"Ф.И.О"},{type:o.Text,isVisible:function(e){return!!e.contact_id},compute:(mm=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.telefon,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return mm.apply(this,arguments)}),fieldBottomMargin:"0",disabled:!0,outlined:!0,title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000"},{type:o.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:o.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]}],Jm=[{type:Ye.Link,action:"list-action",label:"Список заявок"},{type:Ye.Link,action:"list-action",label:"Создание заявки"}],Qm=al()((function(e){return{root:{position:"relative",overflow:"hidden"},header:{position:"absolute",top:0,left:0,height:65,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),background:"whitesmoke",width:"100%"},content:{minHeight:300},adjust:{paddingBottom:65},listItemBackground:{background:fe(e.palette.primary.main,.05)}}})),ef=me.createLoader(12),tf=[{type:Ye.Link,action:"list-action",label:"Заявки"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование документа"},{type:Ye.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание документа"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],nf=[{type:Ye.Link,action:"list-action",label:"Заявки"},{type:Ye.Link,action:"list-action",label:"Просмотр документа"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasBidUpdatePermission},action:"edit-action",label:"Редактировать"}],rf="real-estate__headerRoot",af=[{type:Ye.Link,action:"list-action",label:"Заявки"},{type:Ye.Link,action:"list-action",label:"Просмотр истории"}],of=[{type:o.Complete,fieldRightMargin:"0",outlined:!1,name:"strana",title:"Страна",tip:(hm=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Узбекистан"]);case 1:case"end":return e.stop()}}),e)}))),function(){return hm.apply(this,arguments)})},{type:o.Complete,fieldRightMargin:"0",outlined:!1,name:"gorod",title:"Город",tip:["Ташкент"]},{type:o.Complete,fieldRightMargin:"0",outlined:!1,name:"oblast",title:"Область",tip:(ym=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Ташкентская область"]);case 1:case"end":return e.stop()}}),e)}))),function(){return ym.apply(this,arguments)})},{type:o.Complete,fieldRightMargin:"0",outlined:!1,name:"rajon",title:"Район",tip:["Алмазарский район","Бектемирский район","Мирабадский район","Мирзо-Улугбекский район","Сергелийский район","Учтепинский район","Чиланзарский район","Шайхантахурский район","Юнусабадский район","Яккасарайский район","Янгихаётский район","Яшнабадский район"]},{type:o.Complete,fieldRightMargin:"0",tip:Xl.dictService.getMahallya,outlined:!1,name:"mahallya",title:"Махалля"},{type:o.Complete,fieldRightMargin:"0",tip:Xl.dictService.getUlicza,outlined:!1,name:"ulicza",title:"Улица"},{type:o.Text,fieldRightMargin:"0",outlined:!1,name:"orientir",title:"Ориентир"},{type:o.Combo,fieldRightMargin:"0",freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Fragment,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,columns:"6",outlined:!1,name:"nomer_doma",title:"№ дома"},{type:o.Text,fieldRightMargin:"0",columns:"6",outlined:!1,name:"nomer_kvartiry",title:"№ квартиры"}]},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta)&&!Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Text,fieldRightMargin:"0",outlined:!1,name:"nomer_doma",title:"№ дома"}]},{type:o.Component,element:ip}];window.address_fields=of;var uf=[{type:o.Items,labelShrink:!0,placeholder:"Выберите несколько",freeSolo:!0,outlined:!1,name:"metro_list",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:o.Items,labelShrink:!0,freeSolo:!0,placeholder:"Выберите несколько",fieldRightMargin:"0",outlined:!1,name:"rajon_list",title:"Район",itemList:["Алмазарский район","Бектемирский район","Мирабадский район","Мирзо-Улугбекский район","Сергелийский район","Учтепинский район","Чиланзарский район","Шайхантахурский район","Юнусабадский район","Яккасарайский район","Янгихаётский район","Яшнабадский район"]},{type:o.Items,labelShrink:!0,freeSolo:!0,placeholder:"Выберите несколько",fieldRightMargin:"0",itemList:Xl.dictService.getMahallya,outlined:!1,name:"mahallya_list",title:"Махалля"}];window.area_fields=uf;var lf=54,sf=al()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",overflow:"hidden",height:775},container:{overflow:"hidden",padding:e.spacing(1),flex:1},appBarRoot:{background:e.palette.primary.main,maxHeight:lf,height:lf,boxShadow:"unset",color:"#000"},tabsRoot:{minHeight:lf,height:lf,marginLeft:"0 !important",marginRight:"0 !important"},tabRoot:{minHeight:lf,height:lf,color:"#fff"},tabRootTransparent:{minHeight:lf,height:lf},tabSelected:{color:"#fff !important"},indicator:{height:6,background:"#0288d1"},indicatorTransparent:{height:6,background:e.palette.primary.main}}})),cf={},pf=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая недвижимость)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Земля/Участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Квартиры)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Дома)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая квартира)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческий дом)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]}]},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая земля/участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]}],df=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Квартиры"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая недвижимость)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Телефон","Телевизор","Кондиционер","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Терраса","Угловой","Комната охраны","Вдоль дороги","Сарай","Огород","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Закрытый двор","Шлагбаум","Охрана","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая квартира)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Холодильник","Телевизор","Кондиционер","Стиральная машина","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж","Угловой","Вдоль дороги"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Охрана","Барбекю зона","Закрытый двор","Шлагбаум","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческий дом)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Телефон","Телевизор","Кондиционер","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Комната охраны","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Вдоль дороги","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Закрытый двор","Шлагбаум","Охрана","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая земля/участок)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Охрана","Закрытый двор","Шлагбаум","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}}],mf=[{type:o.Fragment,isVisible:function(e){return(!Ie(e.podkategoriya_obekta,"Земля/Участок")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Дома")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&((!Ie(e.podkategoriya_obekta,"Квартиры")||!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.kategoriya_obekta,"Коммерческая")))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая недвижимость)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_obekta",title:"Состояние объекта",itemList:["Новой постройки","Недостроенный","Под снос","Коробка","Пустая земля/участок"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:o.Items,columns:"3",outlined:!1,name:"voda",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"lift_kommercziya",title:"Лифт",itemList:["Есть","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,columns:"3",outlined:!1,name:"elektrichestvo",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya",title:"Канализация",itemList:["Да","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Items,columns:"3",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}}]}},{type:o.Fragment,isVisible:function(e){if(Ie(e.podkategoriya_obekta,"Квартиры")&&Ie(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Квартиры)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]}]}},{type:o.Fragment,isVisible:function(e){if(Ie(e.podkategoriya_obekta,"Дома")&&Ie(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Дома)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:o.Items,outlined:!1,columns:"3",name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]}]}},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")&&Ie(e.podkategoriya_obekta,"Земля/Участок")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Земля/Участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Component,sx:{mb:2,pr:1},columns:"3",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Items,columns:"3",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Квартиры"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая квартира)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Complete,columns:"3",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,columns:"3",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Дома"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческий дом)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:o.Component,sx:{pr:1,mb:2},columns:"3",name:"naznachenie_obekta",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(d({},"naznachenie_obekta",t))}})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,columns:"3",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:o.Combo,sx:{mt:2},columns:"3",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:o.Items,columns:"3",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:o.Fragment,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Земля/Участок"))},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая земля/участок)"})}},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:o.Component,sx:{mt:2,mb:2,pr:1},columns:"3",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ve(Be,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(d({},"naznachenie-obekta_zemlya",t))}})}},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},Ps({columns:"3",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:o.Items,sx:{mt:2},columns:"3",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:o.Items,columns:"3",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:o.Items,columns:"3",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:o.Combo,columns:"3",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}}],ff=[{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Квартиры")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Квартиры)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Телефон","Холодильник","Телевизор","Кондиционер","Стиральная машина","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Барбекю зона","Закрытый двор","Шлагбаум","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!Ie(e.kategoriya_obekta,"Коммерческая"))&&Ie(e.podkategoriya_obekta,"Дома")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Дома)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Телефон","Холодильник","Телевизор","Кондиционер","Стиральная машина","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Комната охраны","Вдоль дороги","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Охрана","Закрытый двор","Шлагбаум","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||Ie(e.podkategoriya_obekta,"Земля/Участок"))&&!Ie(e.kategoriya_obekta,"Коммерческая")},child:{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Group,fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Земля/Участок)"})}},{type:o.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:o.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Больница","Детская площадка","Детский сад","Автобусная остановка","Парковая зона","ТЦ","Кафе/Рестораны","Супермаркет","Магазин","Школа","Закрытый двор","Шлагбаум","Охрана","Спортивная площадка","Колледж","Университет","Рынок","Аптека","Ж/Д ветка"]}]}]}}],yf=[{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:o.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:o.Fragment,isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Combo,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:o.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:o.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:o.Items,isVisible:function(e){if(Ie(e.kategoriya_obekta,"Коммерческая")){if(Ie(e.podkategoriya_obekta,"Дома"))return!1;if(Ie(e.podkategoriya_obekta,"Земля/Участок"))return!1}return!0},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Combo,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Дома"))||!Ie(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:o.Combo,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:o.Items,isVisible:function(e){return!(!Ie(e.kategoriya_obekta,"Коммерческая")||!Ie(e.podkategoriya_obekta,"Земля/Участок"))},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]},{type:o.Fragment,isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},fields:[{type:o.Combo,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:o.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:o.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:o.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!Ie(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:o.Combo,columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:o.Complete,isVisible:function(e){return!!Ie(e.podkategoriya_obekta,"Квартиры")&&!Ie(e.kategoriya_obekta,"Коммерческая")},columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:o.Combo,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:o.Items,isVisible:function(e){var t=!1;return t=(t=(t=t||Ie(e.kategoriya_obekta,"Коммерческая"))&&!Ie(e.podkategoriya_obekta,"Дома"))&&!Ie(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:o.Items,isVisible:function(e){var t=!1;return t=t||Ie(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]}]}].concat(mf,[{type:o.Group,columns:"12",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:o.Component,columns:"6",fieldRightMargin:"1",fieldBottomMargin:"1",element:function(e){var t=e.sx,n=e.withTransparentHeader,r=void 0!==n&&n,a=e.readonly,i=void 0!==a&&a,o=e._fieldData,s=void 0===o?cf:o,c=e.onChange,p=sf().classes,d=l(ye.useState("area"),2),m=d[0],f=d[1],y=qt(),h=y.reloadTrigger,v=y.doReload,b=Je(s);return ye.useEffect((function(){return b.subscribe((function(){i&&v()}))}),[i]),ve(it,{className:p.root,sx:u(u({},t),{},{height:"100%"}),children:ve($t,{value:m,children:[r&&ve(ge,{sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:ve(Gt,{variant:"fullWidth",classes:{root:p.tabsRoot,indicator:p.indicatorTransparent},onChange:function(e,t){return f(t)},children:[ve(Yt,{classes:{root:p.tabRootTransparent},label:"Территория",value:"area"}),ve(Yt,{classes:{root:p.tabRootTransparent},label:"Адрес",value:"address"})]})}),!r&&ve(Kt,{classes:{root:p.appBarRoot},position:"static",sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:ve(Gt,{variant:"fullWidth",classes:{root:p.tabsRoot,indicator:p.indicator},onChange:function(e,t){return f(t)},children:[ve(Yt,{classes:{root:p.tabRoot,selected:p.tabSelected},label:"Территория",value:"area"}),ve(Yt,{classes:{root:p.tabRoot,selected:p.tabSelected},label:"Адрес",value:"address"})]})}),ve(Zt,{className:p.container,value:"address",children:ve(et,{readonly:i,sx:{marginRight:-8},payload:function(){return{readonly:i}},handler:s,fields:of,onChange:c},h)}),ve(Zt,{className:p.container,value:"area",children:ve(et,{readonly:i,payload:function(){return{readonly:i}},handler:s,fields:uf,onChange:c},h)})]})})}}},{type:o.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:o.Group,style:{height:"100%"},columns:"6",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:o.Component,style:{height:"calc(100% - 212px)"},fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData;return ve(Js,{withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}},{type:o.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:o.Text,inputRows:3,outlined:!1,name:"opisanie",title:"Описание"}]}]}}]}],ff,df,pf,[{type:o.Component,features:["withBottomSaveButton"],watchOneContext:!0,element:Dc}]);window.bid_fields=yf;var hf,vf,bf,_f,gf,kf,xf,wf,Sf,zf,Tf,Af,Ff,Cf,Vf,Mf,Lf,If,Bf,jf,Df,Rf=[{type:Ye.Link,action:"list-action",label:"Заявки"},{type:Ye.Link,action:"list-action",label:"Создание заявки"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],qf=[{type:Ye.Link,action:"list-action",label:"Заявки"},{type:Ye.Link,action:"list-action",label:"Просмотр заявки"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasBidUpdatePermission},action:"edit-action",label:"Редактировать"}],Pf=[{action:"pick-allowance-action",isDisabled:(bf=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.parameter,a=Xl.appwriteService.currentUser.$id,e.abrupt("return",ne(te(Promise.resolve(n.system_created_by===a),Xl.featureService.hasFeature("vizhu_kontakty_pod_bronyu"))));case 3:case"end":return e.stop()}}),e)}))),function(e){return bf.apply(this,arguments)}),label:"Поделиться объектом"},{action:"toggle-only-for-owner-action",isVisible:function(e){return!!e.data.parameter.system_only_for_owner},isDisabled:(vf=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.parameter,a=Xl.appwriteService.currentUser.$id,e.abrupt("return",ne(te(Promise.resolve(n.system_created_by===a),Xl.featureService.hasFeature("vizhu_kontakty_pod_bronyu"))));case 3:case"end":return e.stop()}}),e)}))),function(e){return vf.apply(this,arguments)}),icon:Bt,label:"Эксклюзив"},{action:"toggle-only-for-owner-action",isVisible:function(e){return!e.data.parameter.system_only_for_owner},isDisabled:(hf=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data.parameter,a=Xl.appwriteService.currentUser.$id,e.abrupt("return",ne(te(Promise.resolve(n.system_created_by===a),Xl.featureService.hasFeature("vizhu_kontakty_pod_bronyu"))));case 3:case"end":return e.stop()}}),e)}))),function(e){return hf.apply(this,arguments)}),icon:It,label:"Эксклюзив"}],Ef="real-estate__headerRoot",Nf=[{type:Ye.Link,action:"list-action",label:"Заявки"},{type:Ye.Link,action:"list-action",label:"Просмотр служебных комментариев"}],Of="real-estate__headerRoot",Uf=[{type:Ye.Link,action:"list-action",label:"Заявки"},{type:Ye.Link,action:"list-action",label:"Просмотр задач"}],Hf=[{id:"list",element:function(e){var t=e.payload;return ve(bn,{history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},routes:Nm,payload:t})},isActive:function(e){return rs(["/bid","/bid_rent","/bid_sell","/bid_archive"],e)},isAvailable:function(){return!1}},{id:"create",element:function(){var e=at(),t=e.elementRef,n=e.size,a=l(ye.useState((function(){return{activeStep:0,contact_id:null,fio:"",telefon:""}})),2),o=a[0],s=a[1],c=l(ye.useState([]),2),p=c[0],m=c[1],f=l(ye.useState(!1),2),y=f[0],h=f[1],v=l(ye.useState(!1),2),b=v[0],_=v[1],g=ye.useMemo((function(){return new Date(Date.now()+1e4)}),[o.activeStep]);ye.useEffect((function(){_(!1)}),[o.activeStep]);var k=function(e){return s((function(t){return u(u({},t),{},{activeStep:e})}))},x=o.activeStep,w=Qm().classes,S=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),z=S.handleLoadStart,T=S.handleLoadEnd,A=S.loading,F=S.unblock,C=function(){var e=i(r().mark((function e(){var t,n,a,i,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=o.contact_id,n=o.fio,a=o.telefon,t){e.next=7;break}return e.next=5,Xl.contactViewService.create({fio:n,telefon:a,"data-sozdaniya_klienta":vt.currentDate()});case 5:i=e.sent,t=i.$id;case 7:return e.next=9,Xl.bidViewService.create({contact_id:t});case 9:u=e.sent,l=u.id,F(),Xl.routerService.push("/bid_edit/".concat(l),{viewRedirectFlag:!0}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Xl.alertService.notify(Eu(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=i(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),o.fio||o.telefon){e.next=3;break}return e.abrupt("return");case 3:if(0!==x){e.next=11;break}return e.next=6,Xl.contactRequestService.findDuplicates(o);case 6:t=e.sent,n=t.rows,a=t.total,m(n),k(0===a?2:1);case 11:if(1===x&&k(2),2!==x){e.next=15;break}return e.next=15,C();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=!1;return 1===x&&(e=e||!b),e=(e=e||A)||3===x};return ve(ct,{children:[ve(Qe,{items:Jm}),ve(it,{className:w.root,children:[ve(ot,{className:w.header,activeStep:x,children:[ve(ut,{completed:x>0,children:ve(lt,{children:"Первичные данные"})},0),ve(ut,{completed:x>1,children:ve(lt,{children:"Поиск дубликатов"})},1),ve(ut,{completed:x>2,children:ve(lt,{children:"Создание заявки"})},2)]}),ve("div",{className:w.adjust}),ve(ge,{ref:t,className:w.content,children:0===x?ve(et,{sx:{pl:1,pr:1,pt:2,pb:3},handler:o,onChange:s,dirty:y,fields:Xm}):1===x?ve(yt,{sx:{height:n.height},component:pt,minRowHeight:54,children:p.map((function(e,t){var n,a=e.fio,l=e.telefon,c=e.$id,p=e.tip_klienta,m=e.index,f=e.system_created_by;return ve(ze,{className:ke(d({},w.listItemBackground,t%2==1)),onClick:function(){s((function(e){return u(u({},e),{},{contact_id:c,activeStep:2})}))},dense:!0,children:[ve(dt,{children:ve(mt,{edge:"start",checked:o.contact_id===c,sx:{marginLeft:"0 !important"},disableRipple:!0})}),ve(ft,{primary:a,secondary:ve(we,{Loader:ef,children:(n=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(f);case 2:return t=e.sent,n=t?"Создал "+[t.last_name,t.first_name,t.middle_name].filter((function(e){return e})).join(" "):"",e.abrupt("return",["№".concat(m),n,p].filter((function(e){return e})).join(", "));case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})})}),ve(je,{children:l})]},t)}))}):2===x?ve(et,{sx:{pl:1,pr:1,pt:2,pb:3},handler:o,dirty:y,fields:Xm}):null}),ve(Me,{sx:{pl:1,pr:1,pb:1},justifyContent:"space-between",flexDirection:"row",children:[ve(st,{disabled:A||0===x,fallback:Xl.errorService.handleGlobalError,onClick:function(){s((function(e){return u(u({},e),{},{contact_id:null})})),0===p.length?k(0):k(x-1)},sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:"Назад"}),ve(st,1===x?{disabled:M(),fallback:Xl.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:ve(ht,{expireAt:g,onExpire:function(){return _(!0)},children:"Не вижу дубликат"})}:2===x?{disabled:M(),fallback:Xl.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:"Создать заявку"}:{disabled:M(),fallback:Xl.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:"Далее"})]})]})]})},isActive:function(e){return rs(["/bid/create"],e)},isAvailable:function(){return!1}},{id:"contact",element:function(e){var t=e.formState,n=e.payload,r=e.data,a=e.beginSave,i=e.onChange,o=Je(r);return ve(Le,{children:[ve(Qe,{items:Wm,onAction:function(e){"save-action"===e&&a()},payload:t}),ve(ts,{}),ve(Hm,{payload:n,mode:n.menuMode,children:[ve(et,{changeSubject:o,features:function(){return u(u({},n.permissions),{},{withBottomSaveButton:!0})},handler:function(){return r},payload:function(){return u(u({},n),{},{beginSave:a})},context:t,fields:tm,onChange:i}),ve(tt,{}),ve(nt,{})]})]})},isActive:function(e){return rs(["/bid_edit/:id/contact"],e)}},{id:"parameter",element:function(e){var t=e.payload,n=e.formState,r=e.beginSave,a=e.data,i=e.onChange,o=Je(a);return ve(Le,{children:[ve(Qe,{items:Rf,onAction:function(e){"save-action"===e&&r()},payload:n}),ve(ts,{}),ve(Hm,{payload:t,mode:t.menuMode,children:[ve(et,{changeSubject:o,features:function(){return u(u({},t.permissions),{},{withBottomSaveButton:!0})},fields:yf,payload:function(){return u(u({},t),{},{beginSave:r})},context:n,handler:function(){return a},onChange:i}),ve(tt,{}),ve(nt,{})]})]})},isActive:function(e){return rs(["/bid_edit/:id","/bid_edit/:id/parameter"],e)}},{id:"documents",element:function(e){var t,n,a,o=e.data,u=e.onChange,l=e.payload,s=e.beginSave,c=e.formState,p=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),d=p.handleLoadStart,m=p.handleLoadEnd,f=p.loading;return ve(Le,{children:[ve(Qe,{items:tf,payload:c,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment"),"save-action"===e&&s()}}),ve(ts,{}),ve(Hm,{payload:l,mode:l.menuMode,children:[ve(it,{sx:{p:1},children:ve(bt,{disabled:f,accept:"*",multiple:!0,items:o,tr:(a=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.tryReadFileName(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=t;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),fallback:Xl.errorService.handleGlobalError,onClick:(n=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getFileURL(t);case 2:return n=e.sent,e.next=5,Xl.appwriteService.readFileName(t);case 5:a=e.sent,_t(n,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onUpload:function(e){return Xl.appwriteService.uploadFile(e)},onChange:(t=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onLoadStart:d,onLoadEnd:m})}),ve(tt,{}),ve(nt,{})]})]})},isActive:function(e){return rs(["/bid_edit/:id/documents"],e)}},{id:"contact",element:function(e){var t,n,a=e.params.id,o=e.formState,u=e.payload,l=e.data,s=e.beginSave,c=e.onChange,p=Xe({fields:tm,payload:u,features:u.permissions,outlinePaper:!0,handler:(n=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zm(a);case 2:return t=e.sent,e.next=5,Xl.contactViewService.tryRead(t);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},onSubmit:(t=i(r().mark((function e(t){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,e.prev=1,!t){e.next=8;break}return e.next=5,Zm(a);case 5:return i=e.sent,e.next=8,Xl.contactViewService.update(i,t);case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(1),n=!1,o=Eu(e.t0),Xl.alertService.notify(o),e.abrupt("return",!1);case 16:return e.prev=16,e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[1,10,16,19]])}))),function(e){return t.apply(this,arguments)}),submitLabel:"Сохранить"}),d=p.pickData,m=p.render,f=Je(l);return ve(Le,{children:[ve(Qe,{items:Km,onAction:function(e){"save-action"===e&&s(),"edit-action"===e&&d()},payload:o}),ve(ts,{}),ve(Ym,{payload:u,mode:u.menuMode,children:[ve(et,{readonly:!0,handler:function(){return l},fields:cm,features:u.permissions,changeSubject:f,payload:u,onChange:c}),ve(tt,{}),ve(nt,{})]}),m()]})},isActive:function(e){return rs(["/bid_view/:id/contact"],e)}},{id:"parameter",element:function(e){var t,n,a=e.params.id,o=void 0===a?"create":a,u=e.payload,l=e.formState,s=e.data,c=e.onChange,p=Xe({fields:yf,payload:u,features:u.permissions,outlinePaper:!0,handler:(n=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.bidViewService.tryRead(o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},onSubmit:(t=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,e.prev=1,!t){e.next=5;break}return e.next=5,Xl.bidViewService.update(o,t);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),n=!1,a=Eu(e.t0),Xl.alertService.notify(a),e.abrupt("return",!1);case 13:return e.prev=13,e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,7,13,16]])}))),function(e){return t.apply(this,arguments)}),submitLabel:"Сохранить"}),d=p.pickData,m=p.render,f=Ed({title:"Поделиться заявкой",payload:u,features:u.permissions,selectedRows:s.system_allowance||[]}),y=He(function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("list-action"===t&&Xl.routerService.push("/bid"),"edit-action"===t&&d(),"toggle-only-for-owner-action"!==t){e.next=5;break}return e.next=5,Xl.bidViewService.toggleOnlyForOwner(o);case 5:if("pick-allowance-action"!==t){e.next=13;break}return e.next=8,f();case 8:if(n=e.sent){e.next=11;break}return e.abrupt("return");case 11:return e.next=13,Xl.bidViewService.updateAllowance(o,n);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),h=y.execute,v=Je(s);return ve(Le,{children:[ve(Qe,{items:qf,actions:Pf,onAction:h,payload:l}),ve(ts,{}),ve(Ym,{payload:u,mode:u.menuMode,children:[ve(et,{readonly:!0,changeSubject:v,features:u.permissions,fields:od,handler:function(){return s},payload:u,onChange:c}),ve(tt,{}),ve(nt,{})]}),m()]})},isActive:function(e){return rs(["/bid_view/:id","/bid_view/:id/parameter"],e)}},{id:"history",element:function(e){var t=e.payload,n=l(ye.useState([]),2),a=n[0],o=n[1],u=at({target:document.body,selector:"main",compute:function(e){var n,r=e.height,a=e.width;if(t.menuMode===W.Tabs){var i=document.querySelector(".".concat(Tt));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(n=document.querySelector(".".concat(rf)))||void 0===n?void 0:n.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=He(function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return n=Ql("id"),e.next=4,Xl.dealHistoryViewService.findAllByBidId(n);case 4:a=e.sent,o(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Xl.errorService.handleGlobalError,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),c=s.loading,p=s.execute;return ve(Le,{children:[ve("div",{className:rf,children:[ve(Qe,{className:"",items:af,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/bid")}}),ve(ts,{})]}),ve(Ym,{payload:t,mode:t.menuMode,children:ve(yt,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){p(e)},children:ve(Me,{spacing:1,children:a.map((function(e){return ve(Ms,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return rs(["/bid_view/:id/history"],e)}},{id:"tasks",element:function(e){var t=e.payload,n=l(ye.useState([]),2),a=n[0],o=n[1],u=at({target:document.body,selector:"main",compute:function(e){var n,r=e.height,a=e.width;if(t.menuMode===W.Tabs){var i=document.querySelector(".".concat(Tt));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(n=document.querySelector(".".concat(Of)))||void 0===n?void 0:n.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=He(function(){var e=i(r().mark((function e(t){var n,a,i,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return n=Ql("id")||"unknown",e.next=4,Xl.bidViewService.read(n);case 4:return a=e.sent,i=a.contact_id,e.next=8,Xl.taskHistoryViewService.findAllByContactId(i);case 8:u=e.sent,o(u);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Xl.errorService.handleGlobalError,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),c=s.loading,p=s.execute;return ve(Le,{children:[ve("div",{className:Of,children:[ve(Qe,{className:"",items:Uf,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment")}}),ve(ts,{})]}),ve(Ym,{payload:t,mode:t.menuMode,children:ve(yt,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){p(e)},children:ve(Me,{spacing:1,children:a.map((function(e){return ve(Cm,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return rs(["/bid_view/:id/tasks"],e)}},{id:"documents",element:function(e){var t,n,a,o=e.params.id,u=e.data,l=e.payload,s=e.formState,c=Fs({data:u,onSubmit:(t=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.bidViewService.update(o,{bid_files:t});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}),p=c.render,d=c.pickFiles;return ve(Le,{children:[ve(Qe,{items:nf,payload:s,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment"),"edit-action"===e&&d()}}),ve(ts,{}),ve(Ym,{payload:l,mode:l.menuMode,children:[ve(it,{sx:{p:1},children:ve(bt,{disabled:!0,accept:"*",multiple:!0,items:u,tr:(a=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.tryReadFileName(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=t;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),fallback:Xl.errorService.handleGlobalError,onClick:(n=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getFileURL(t);case 2:return n=e.sent,e.next=5,Xl.appwriteService.readFileName(t);case 5:a=e.sent,_t(n,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onUpload:function(e){return Xl.appwriteService.uploadFile(e)}})}),ve(tt,{}),ve(nt,{})]}),p()]})},isActive:function(e){return rs(["/bid_view/:id/documents"],e)}},{id:"service_comment",element:function(e){var t=e.formState,n=e.payload,a=l(ye.useState([]),2),o=a[0],u=a[1],s=at({target:document.body,selector:"main",compute:function(e){var t,r=e.height,a=e.width;if(n.menuMode===W.Tabs){var i=document.querySelector(".".concat(Tt));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(t=document.querySelector(".".concat(Ef)))||void 0===t?void 0:t.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,c=He(i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ql("id"),e.next=3,Xl.serviceCommentViewService.findByBidId(t);case 3:return n=e.sent,e.t0=u,e.next=7,Promise.all(n.map(function(){var e=i(r().mark((function e(t){var n,a,i,o,u,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$id,a=t.user_id,i=t.file_id,o=t.comment,u=t.$createdAt,e.next=3,Xl.userViewService.tryRead(a);case 3:if(l=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(!i){e.next=12;break}return e.next=9,Xl.appwriteService.tryReadFileName(i);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0="";case 13:return s=e.t0,e.abrupt("return",{id:n,message:o,fileId:i,userId:a,displayName:[l.last_name,l.first_name,l.middle_name,h(u).format("DD.MM.YYYY / HH:mm")].join(" "),fileName:s,avatar:l.avatar||""});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter((function(e){return!!e})).reverse());case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),{fallback:Xl.errorService.handleGlobalError,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),p=c.execute;ye.useEffect((function(){p()}),[]),ye.useEffect((function(){return Xl.serviceCommentViewService.createSubject.subscribe((function(e){var t=Ql("id");e.bid_id===t&&p()}))}),[]);var d=function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Xl.appwriteService.currentUser.$id,a=Ql("id"),e.next=4,Xl.serviceCommentViewService.create({user_id:n,comment:t,bid_id:a,apartment_id:null,contact_id:null,file_id:null});case 4:return e.next=6,p();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=i(r().mark((function e(t,n){var a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xl.appwriteService.currentUser.$id,i=Ql("id"),e.next=4,Xl.serviceCommentViewService.create({user_id:a,comment:t,apartment_id:i,bid_id:null,contact_id:null,file_id:n});case 4:return e.next=6,p();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return ve(Le,{children:[ve("div",{className:Ef,children:[ve(Qe,{payload:t,items:Nf,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment")}}),ve(ts,{})]}),ve(Ym,{payload:n,mode:n.menuMode,children:ve(Tm,{payload:n,style:{height:s.height},messages:o,onText:d,onFile:m})})]})},isActive:function(e){return rs(["/bid_view/:id/service_comment"],e)}}],Wf=function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==t){e.next=2;break}return e.abrupt("return",{"data-sozdaniya_klienta":vt.currentDate()});case 2:return e.next=4,Xl.bidViewService.read(t);case 4:return n=e.sent,a=n.contact_id,e.next=8,Xl.contactViewService.tryRead(a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$f=function(e){var t,n=e.id,a=void 0===n?"create":n,o=function(){var e=i(r().mark((function e(t,n){var i,o,u,l,s,c,p,d,m,f,y,h;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.afterSave,o=!0,e.prev=2,u=G.get(t,"parameter")||{},l=G.get(t,"contact")||{},s=G.get(t,"documents")||[],c=G.get(t,"parameter.contact_id"),G.set(t,"parameter.bid_files",s),!c){e.next=14;break}return e.next=11,Xl.contactViewService.tryRead(c);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=!1;case 15:if(p=e.t0,!c||!p){e.next=21;break}return e.next=19,Xl.contactViewService.update(c,l);case 19:e.next=26;break;case 21:return e.next=23,Xl.contactViewService.create(l);case 23:d=e.sent,m=d.id,c=m;case 26:if(G.set(t,"parameter.contact_id",c),"create"!==a){e.next=37;break}return e.next=30,Xl.bidViewService.create(u);case 30:return f=e.sent,y=f.id,e.next=34,i();case 34:Xl.routerService.push("/bid_edit/".concat(y)),e.next=39;break;case 37:return e.next=39,Xl.bidViewService.update(a,u);case 39:if(!Xl.routerService.hasViewRedirectFlag()){e.next=43;break}return e.next=42,i();case 42:Xl.routerService.push("/bid_view/".concat(a));case 43:Xl.alertService.notify("Изменения сохранены"),e.next=51;break;case 46:e.prev=46,e.t1=e.catch(2),o=!1,h=Eu(e.t1),Xl.alertService.notify(h);case 51:return e.prev=51,e.abrupt("return",o);case 54:case"end":return e.stop()}}),e,null,[[2,46,51,54]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wf(a);case 2:return e.t0=e.sent,e.next=5,Xl.bidViewService.tryRead(a);case 5:return e.t1=e.sent,e.next=8,Xl.settingsViewService.getMasterDetailMode();case 8:return e.t2=e.sent,e.next=11,Xl.permissionService.getPermissions();case 11:return e.t3=e.sent,e.next=14,Xl.featureService.getAccessLevel();case 14:return e.t4=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3,e.t4]);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=he();return ye.useEffect((function(){return Xl.contactViewService.updateSubject.subscribe(function(){var e=i(r().mark((function e(t){var n,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,2),i=n[0],o=n[1],e.next=3,Xl.bidViewService.read(a);case 3:u=e.sent,i===(null==u?void 0:u.contact_id)&&s.next(["contact",o]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),ye.useEffect((function(){return Xl.bidViewService.updateSubject.subscribe((function(e){var t=l(e,2),n=t[0],r=t[1];a===n&&(s.next(["parameter",r]),s.next(["documents",(null==r?void 0:r.bid_files)||[]]))}))}),[]),ve(Gn,{state:u,reloadSubject:Xl.layoutService.reloadOutletSubject,fallback:Xl.errorService.handleGlobalError,children:(t=i(r().mark((function e(t){var n,i,u,c,p,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,5),i=n[0],u=n[1],c=n[2],p=n[3],d=n[4],e.abrupt("return",ve(bn,{history:Xl.routerService,waitForChangesDelay:qa,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},routes:Hf,params:{id:a},initialData:{contact:i,parameter:u,documents:(null==u?void 0:u.bid_files)||[]},payload:function(){return{menuMode:c,permissions:p,accessLevel:d}},changeSubject:s,onChange:console.log,onSubmit:o}));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})},Gf=[{id:"contact",label:"Контакт",isActive:function(){return rs(["/contact_edit/:id/contact"])}},{id:"tasks",isDisabled:function(){return!0},label:"Задачи",isActive:function(){return rs(["/contact_edit/:id/tasks"])}},{id:"history",isDisabled:function(){return!0},label:"История",isActive:function(){return rs(["/contact_edit/:id/history"])}}],Yf=function(e,t){if(!t){var n=Ql("id","create");"contact"===e&&Xl.routerService.replace("/contact_edit/".concat(n,"/contact")),"tasks"===e&&Xl.routerService.replace("/contact_edit/".concat(n,"/tasks")),"history"===e&&Xl.routerService.replace("/contact_edit/".concat(n,"/history"))}},Kf=function(e){var t=e.payload,n=e.children,r=e.mode,a=void 0===r?W.Paper:r,i=ye.useMemo((function(){return"tabs"===a?W.Tabs:W.Paper}),[a]);return ve($e,{withFixedPos:!0,fixedPosHeaderAdjust:a===W.Paper?85:64,mode:i,options:Gf,payload:t,onActiveOptionChange:Yf,children:n})},Zf=[{type:Ye.Link,action:"list-action",label:"Список контактов"},{type:Ye.Link,action:"user-list-action",label:"Данные контакта"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],Xf=[{id:"contact",label:"Контакт",isActive:function(){return rs(["/contact_view/:id","/contact_view/:id/contact"])}},{id:"tasks",label:"Задачи",isActive:function(){return rs(["/contact_view/:id/tasks"])}},{id:"history",label:"История",isActive:function(){return rs(["/contact_view/:id/history"])}}],Jf=function(e,t){if(!t){var n=Ql("id","create");"contact"===e&&Xl.routerService.replace("/contact_view/".concat(n,"/contact")),"tasks"===e&&Xl.routerService.replace("/contact_view/".concat(n,"/tasks")),"history"===e&&Xl.routerService.replace("/contact_view/".concat(n,"/history"))}},Qf=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?W.Paper:r,i=ye.useMemo((function(){return"tabs"===a?W.Tabs:W.Paper}),[a]);return ve($e,{withFixedPos:!0,payload:n,fixedPosHeaderAdjust:a===W.Paper?85:64,mode:i,options:Xf,onActiveOptionChange:Jf,children:t})},ey=[{type:Ye.Link,action:"list-action",label:"Список контактов"},{type:Ye.Link,action:"user-list-action",label:"Данные контакта"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasContactUpdatePermission},action:"edit-action",label:"Редактировать"}],ty=[{type:o.Fragment,isVisible:function(e){return 0===e.activeStep},fields:[{type:o.Component,element:function(){return ve(je,{variant:"h6",fontWeight:"bold",mb:2,children:"Данные контакта"})}},{type:o.Text,outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:o.Text,outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]},{type:o.Fragment,isVisible:function(e){return 2===e.activeStep},fields:[{type:o.Component,element:function(){return ve(je,{variant:"h6",fontWeight:"bold",mb:1,children:"Предпросмотр"})}},{type:o.Component,isVisible:function(e){return!e.contact_id},element:function(){return ve(rt,{variant:"outlined",color:"warning",sx:{mb:2},children:"Создавая новый контакт, убедитесь, что нет дубликата"})}},{type:o.Component,isVisible:function(e){return!!e.contact_id},element:function(){return ve(rt,{variant:"outlined",color:"info",sx:{mb:2},children:"Убедитесь, что это контактные данные клиента"})}},{type:o.Text,isVisible:function(e){return!!e.contact_id},compute:(gf=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.fio,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return gf.apply(this,arguments)}),disabled:!0,outlined:!0,title:"Ф.И.О"},{type:o.Text,isVisible:function(e){return!!e.contact_id},compute:(_f=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_id,e.next=3,Xl.contactViewService.tryRead(n);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.telefon,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return _f.apply(this,arguments)}),fieldBottomMargin:"0",disabled:!0,outlined:!0,title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000"},{type:o.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:o.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]}],ny=[{type:Ye.Link,action:"list-action",label:"Список контактов"},{type:Ye.Link,action:"list-action",label:"Создание контакта"}],ry=al()((function(e){return{root:{position:"relative",overflow:"hidden"},header:{position:"absolute",top:0,left:0,height:65,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),background:"whitesmoke",width:"100%"},content:{minHeight:300},adjust:{paddingBottom:65},listItemBackground:{background:fe(e.palette.primary.main,.05)}}})),ay=me.createLoader(12),iy="real-estate__headerRoot",oy=[{type:Ye.Link,action:"list-action",label:"Список контактов"},{type:Ye.Link,action:"list-action",label:"История контакта"}],uy=[{type:Ct.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ve(Vt,{content:t})},width:function(){return 100}},{type:Ct.Compute,sortable:!0,field:"fio",compute:function(e){return e.fio||""},headerName:"Ф.И.О. Клиента",width:function(){return 200}},{type:Ct.Compute,isVisible:function(e){return e.payload.permissions.hasPreviewModeDisabled},sortable:!0,field:"phone",element:function(e){return ve(Mt,{payload:e.id,condition:function(e){return Xl.permissionRequestService.getOwnerContactPermissionByContactId(e)},Loading:"Загрузка",Else:"Скрыто",children:e.telefon||""})},headerName:"Номер телефона",width:function(){return 200}},{type:Ct.Compute,sortable:!0,field:"tip_klienta",compute:function(e){return e.tip_klienta||""},headerName:"Тип клиента",width:function(){return 200}},{type:Ct.Compute,sortable:!0,field:"status_klienta",compute:function(e){return e.status_klienta||""},headerName:"Статус клиента",width:function(){return 200}},{type:Ct.Compute,sortable:!1,field:"status",headerName:"Статус сделки",compute:(kf=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xl.dealViewService.readStatusByContactId(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return kf.apply(this,arguments)}),width:function(){return 150}},{type:Ct.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],ly=[{type:At.Add,isDisabled:function(e,t){return!t.permissions.hasContactCreatePermission},label:"Создать"},{type:At.Menu,options:[{action:"add-action",isDisabled:function(e,t){return!t.permissions.hasContactCreatePermission}},{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],sy=[{label:"Создать копию",action:"copy-action",icon:Rt},{label:"Удалить",action:"remove-action",icon:jt}],cy=function(){return window.innerHeight-70},py="real-estate__headerRoot",dy=[{type:Ye.Link,action:"list-action",label:"Список контактов"},{type:Ye.Link,action:"list-action",label:"Задачи контакта"}],my=function(e){return function(){return ve(me,{handler:(t=i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Xl.appwriteService.isAuthorized){t.next=3;break}return Xl.routerService.push("/login_page"),t.abrupt("return");case 3:return t.next=5,e();case 5:case"end":return t.stop()}}),t)}))),function(){return t.apply(this,arguments)}),height:"calc(100vh - 80px)"});var t}},fy=[{id:"list",element:function(e){var t=e.payload,n=he(Xl.contactViewService.reloadSubject),a=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,o=gc(),l=function(){var e=i(r().mark((function e(t,a){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Xl.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==t){e.next=6;break}return e.next=5,Xl.contactViewService.remove(a.id);case 5:n.next();case 6:if("copy-action"!==t){e.next=13;break}return e.next=9,Xl.contactViewService.read(a.id);case 9:return i=e.sent,e.next=12,Xl.contactViewService.create(i);case 12:n.next();case 13:return e.prev=13,Xl.layoutService.setAppbarLoader(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasContactViewPermission&&Xl.routerService.push("/contact_view/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:ve(vn,u({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:Ra,reloadSubject:n,title:"Контакты",filterLabel:"Фильтры",heightRequest:cy,AfterOperationList:xc,rowActions:sy,actions:ly,columns:uy,handler:o,filters:dc,onRowAction:l,onRowClick:s,onAction:function(e){"add-action"===e&&Xl.routerService.push("/contact/create")},selectionMode:dn.Multiple,payload:t},a))})},isActive:function(e){return rs(["/contact"],e)},isAvailable:function(){return!1}},{id:"create",element:function(){var e=at(),t=e.elementRef,n=e.size,a=l(ye.useState((function(){return{activeStep:0,contact_id:null,fio:"",telefon:""}})),2),o=a[0],s=a[1],c=l(ye.useState([]),2),p=c[0],m=c[1],f=l(ye.useState(!1),2),y=f[0],h=f[1],v=l(ye.useState(!1),2),b=v[0],_=v[1],g=ye.useMemo((function(){return new Date(Date.now()+1e4)}),[o.activeStep]);ye.useEffect((function(){_(!1)}),[o.activeStep]);var k=function(e){return s((function(t){return u(u({},t),{},{activeStep:e})}))},x=o.activeStep,w=ry().classes,S=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),z=S.handleLoadStart,T=S.handleLoadEnd,A=S.loading,F=S.unblock,C=function(){var e=i(r().mark((function e(){var t,n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=o.contact_id,n=o.fio,a=o.telefon,t){e.next=7;break}return e.next=5,Xl.contactViewService.create({fio:n,telefon:a,"data-sozdaniya_klienta":vt.currentDate()});case 5:i=e.sent,t=i.$id;case 7:F(),Xl.routerService.push("/contact_view/".concat(t)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Xl.alertService.notify(Eu(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=i(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),o.fio||o.telefon){e.next=3;break}return e.abrupt("return");case 3:if(0!==x){e.next=11;break}return e.next=6,Xl.contactRequestService.findDuplicates(o);case 6:t=e.sent,n=t.rows,a=t.total,m(n),k(0===a?2:1);case 11:if(1===x&&k(2),2!==x){e.next=15;break}return e.next=15,C();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=!1;return 1===x&&(e=e||!b),e=(e=e||A)||3===x};return ve(ct,{children:[ve(Qe,{items:ny}),ve(it,{className:w.root,children:[ve(ot,{className:w.header,activeStep:x,children:[ve(ut,{completed:x>0,children:ve(lt,{children:"Первичные данные"})},0),ve(ut,{completed:x>1,children:ve(lt,{children:"Поиск дубликатов"})},1),ve(ut,{completed:x>2,children:ve(lt,{children:"Создание контакта"})},2)]}),ve("div",{className:w.adjust}),ve(ge,{ref:t,className:w.content,children:0===x?ve(et,{sx:{pl:1,pr:1,pt:2,pb:3},handler:o,onChange:s,dirty:y,fields:ty}):1===x?ve(yt,{sx:{height:n.height},component:pt,minRowHeight:54,children:p.map((function(e,t){var n,a=e.fio,l=e.telefon,c=e.$id,p=e.tip_klienta,m=e.index,f=e.system_created_by;return ve(ze,{className:ke(d({},w.listItemBackground,t%2==1)),onClick:function(){s((function(e){return u(u({},e),{},{contact_id:c,activeStep:2})}))},dense:!0,children:[ve(dt,{children:ve(mt,{edge:"start",checked:o.contact_id===c,sx:{marginLeft:"0 !important"},disableRipple:!0})}),ve(ft,{primary:a,secondary:ve(we,{Loader:ay,children:(n=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(f);case 2:return t=e.sent,n=t?"Создал "+[t.last_name,t.first_name,t.middle_name].filter((function(e){return e})).join(" "):"",e.abrupt("return",["№".concat(m),n,p].filter((function(e){return e})).join(", "));case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})})}),ve(je,{children:l})]},t)}))}):2===x?ve(et,{sx:{pl:1,pr:1,pt:2,pb:3},handler:o,dirty:y,fields:ty}):null}),ve(Me,{sx:{pl:1,pr:1,pb:1},justifyContent:"space-between",flexDirection:"row",children:[ve(st,{disabled:A||0===x,fallback:Xl.errorService.handleGlobalError,onClick:function(){s((function(e){return u(u({},e),{},{contact_id:null})})),0===p.length?k(0):k(x-1)},sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:"Назад"}),ve(st,1===x?{disabled:M(),fallback:Xl.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:ve(ht,{expireAt:g,onExpire:function(){return _(!0)},children:"Не вижу дубликат"})}:2===x?{disabled:M(),fallback:Xl.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:"Перейти"}:{disabled:M(),fallback:Xl.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:T,children:"Далее"})]})]})]})},isActive:function(e){return rs(["/contact/create"],e)},isAvailable:function(){return!1}},{id:"contact",element:my((function(){var e=Ql("id");Xl.routerService.push("/contact_edit/".concat(e,"/contact"))})),isActive:function(e){return rs(["/contact_edit/:id"],e)}},{id:"contact",element:function(e){var t=e.params.id,n=void 0===t?"create":t,r=e.payload,a=e.formState,i=e.beginSave,o=e.data;return ve(Le,{children:[ve(Qe,{items:Zf,onAction:function(e){"save-action"===e&&i()},payload:a}),ve(ts,{}),ve(Kf,{mode:r.menuMode,payload:r,children:[ve(et,{dirty:"create"===n,handler:function(){return o},fields:tm,features:function(){return u(u({},r.permissions),{},{withBottomSaveButton:!0})},payload:function(){return u(u({},r),{},{beginSave:i})},context:a}),ve(nt,{})]})]})},isActive:function(e){return rs(["/contact_edit/:id/contact"],e)}},{id:"contact",element:my((function(){var e=Ql("id");Xl.routerService.push("/contact_view/".concat(e,"/contact"))})),isActive:function(e){return rs(["/contact_view/:id"],e)}},{id:"contact",element:function(e){var t,n,a=e.params.id,o=void 0===a?"create":a,u=e.formState,l=e.payload,s=e.data,c=Je(s),p=Xe({fields:tm,payload:l,features:l.permissions,outlinePaper:!0,handler:(n=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},onSubmit:(t=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,e.prev=1,!t){e.next=5;break}return e.next=5,Xl.contactViewService.update(o,t);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),n=!1,a=Eu(e.t0),Xl.alertService.notify(a),e.abrupt("return",!1);case 13:return e.prev=13,e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,7,13,16]])}))),function(e){return t.apply(this,arguments)}),submitLabel:"Сохранить"}),d=p.pickData,m=p.render;return ve(Le,{children:[ve(Qe,{items:ey,onAction:function(e){"edit-action"===e&&d()},payload:u}),ve(ts,{}),ve(Qf,{mode:l.menuMode,payload:l,children:[ve(et,{readonly:!0,dirty:"create"===o,handler:function(){return s},fields:cm,features:l.permissions,changeSubject:c,payload:l}),ve(nt,{}),m()]})]})},isActive:function(e){return rs(["/contact_view/:id/contact"],e)}},{id:"tasks",element:function(e){var t=e.payload,n=l(ye.useState([]),2),a=n[0],o=n[1],u=at({target:document.body,selector:"main",compute:function(e){var n,r=e.height,a=e.width;if(t.menuMode===W.Tabs){var i=document.querySelector(".".concat(Tt));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(n=document.querySelector(".".concat(py)))||void 0===n?void 0:n.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=He(function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return n=Ql("id")||"unknown",e.next=4,Xl.taskHistoryViewService.findAllByContactId(n);case 4:a=e.sent,o(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Xl.errorService.handleGlobalError,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),c=s.loading,p=s.execute;return ve(Le,{children:[ve("div",{className:py,children:[ve(Qe,{className:"",items:dy,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment")}}),ve(ts,{})]}),ve(Qf,{payload:t,mode:t.menuMode,children:ve(yt,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){p(e)},children:ve(Me,{spacing:1,children:a.map((function(e){return ve(Cm,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return rs(["/contact_view/:id/tasks"],e)}},{id:"history",element:function(e){var t=e.payload,n=l(ye.useState([]),2),a=n[0],o=n[1],u=at({target:document.body,selector:"main",compute:function(e){var n,r=e.height,a=e.width;if(t.menuMode===W.Tabs){var i=document.querySelector(".".concat(Tt));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(n=document.querySelector(".".concat(iy)))||void 0===n?void 0:n.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=He(function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return n=Ql("id"),e.next=4,Xl.dealHistoryViewService.findAllByContactId(n);case 4:a=e.sent,o(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Xl.errorService.handleGlobalError,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),c=s.loading,p=s.execute;return ve(Le,{children:[ve("div",{className:iy,children:[ve(Qe,{className:"",items:oy,onAction:function(e){"list-action"===e&&Xl.routerService.replace("/apartment")}}),ve(ts,{})]}),ve(Qf,{payload:t,mode:t.menuMode,children:ve(yt,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){p(e)},children:ve(Me,{spacing:1,children:a.map((function(e){return ve(Ms,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return rs(["/contact_view/:id/history"],e)}}],yy=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==t){e.next=2;break}return e.abrupt("return",{"data-sozdaniya_klienta":vt.currentDate()});case 2:return e.next=4,Xl.contactViewService.tryRead(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hy=function(e){var t,n=e.id,a=void 0===n?"create":n,o=function(){var e=i(r().mark((function e(t,n){var i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.afterSave,o=!0,e.prev=2,u=G.get(t,"contact")||{},"create"!==a){e.next=14;break}return e.next=7,Xl.contactViewService.create(u);case 7:return l=e.sent,s=l.id,e.next=11,i();case 11:Xl.routerService.push("/contact_edit/".concat(s)),e.next=16;break;case 14:return e.next=16,Xl.contactViewService.update(a,u);case 16:if(!Xl.routerService.hasViewRedirectFlag()){e.next=20;break}return e.next=19,i();case 19:Xl.routerService.push("/contact_view/".concat(a));case 20:Xl.alertService.notify("Изменения сохранены"),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(2),o=!1,c=Eu(e.t0),Xl.alertService.notify(c);case 28:return e.prev=28,e.abrupt("return",o);case 31:case"end":return e.stop()}}),e,null,[[2,23,28,31]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yy(a);case 2:return e.t0=e.sent,e.next=5,Xl.settingsViewService.getMasterDetailMode();case 5:return e.t1=e.sent,e.next=8,Xl.permissionService.getPermissions();case 8:return e.t2=e.sent,e.next=11,Xl.featureService.getAccessLevel();case 11:return e.t3=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=he();return ye.useEffect((function(){return Xl.contactViewService.updateSubject.subscribe((function(e){var t=l(e,2),n=t[0],r=t[1];a===n&&s.next(["contact",r])}))}),[]),ve(Gn,{state:u,reloadSubject:Xl.layoutService.reloadOutletSubject,fallback:Xl.errorService.handleGlobalError,children:(t=i(r().mark((function e(t){var n,i,u,c,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,4),i=n[0],u=n[1],c=n[2],p=n[3],e.abrupt("return",ve(bn,{changeSubject:s,history:Xl.routerService,waitForChangesDelay:qa,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},routes:fy,params:{id:a},initialData:{contact:i},payload:function(){return{menuMode:u,permissions:c,accessLevel:p}},onChange:console.log,onSubmit:o}));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})},vy=al()((function(e){return{container:{padding:"16px",height:"100%"},icoContainer:{display:"flex",alignContent:"center",justifyContent:"center",width:"100%",marginBottom:"12px"},ico:{color:e.palette.text.primary,width:"48px",height:"48px"},btn:{borderRadius:"100px",marginLeft:"10%",marginRight:"10%",maxWidth:"225px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#000000DE",background:"#E0E0E0",fontWeight:"500",width:"100%","&:hover":{color:"white"}},content:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",height:"100%"}}})),by=function(e){var t=e.text,n=e.iconNumber,r=e.onClick,a=vy().classes,i=[ve(Yn,{className:a.ico}),ve(Kn,{className:a.ico}),ve(Zn,{className:a.ico})];return ve("div",{className:a.container,children:ve(ge,{className:a.content,children:[ve("div",{className:a.icoContainer,children:ve(Pn,{onClick:function(){r&&r()},disableRipple:!0,children:n?i[n-1]:ve(Xn,{})})}),ve(st,{onClick:r,endIcon:ve(Jn,{}),className:a.btn,variant:"contained",children:t})]})})},_y=function(){var e=h.localeData(),t=e.weekdays(),n=e.weekdaysShort(),r=h.Ls[h.locale()].weekStart,a=void 0===r?0:r,i=n||t;return[].concat(f(i.slice(a,7)),f(i.slice(0,a))).map((function(e){return"".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1,3))}))},gy=al()((function(e){return{switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0 10px"},daysHeader:{display:"flex",justifyContent:"stretch",alignItems:"stretch",height:"35px"},monthName:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",button:{padding:"5px",color:e.palette.text.primary}},dayLabel:{flex:1,textAlign:"center",opacity:.5},dayLabelStart:{textAlign:"center"},dayLabelEnd:{textAlign:"center"},noBorder:{border:"0"}}})),ky=function(e){var t=e.currentMonth,n=e.onMonthChange,r=e.onHeaderMonthClick,a=e.onHeaderYearClick,i=gy().classes;return ve("div",{children:[ve("div",{className:i.switchHeader,children:[ve(Ae,{onClick:function(){return n(t.clone().subtract(1,"months"))},children:ve(Qn,{})}),ve(je,{className:i.monthName,children:[ve(en,{onClick:r,className:ke(i.noBorder),children:t.format("MMMM")}),ve(en,{onClick:a,className:ke(i.noBorder),children:t.format("YYYY")})]}),ve(Ae,{className:i.noBorder,onClick:function(){return n(t.clone().add(1,"months"))},children:ve(er,{})})]}),ve("div",{className:i.daysHeader,children:_y().map((function(e,t){var n;return ve(je,{className:ke(i.dayLabel,(n={},d(n,i.dayLabelStart,0===t),d(n,i.dayLabelEnd,6===t),n)),children:e},t)}))})]})},xy=l(ce(),2),wy=xy[0],Sy=xy[1],zy=al()((function(e){return{listItemAccient:{background:fe(e.palette.getContrastText(e.palette.background.paper),.018)}}})),Ty=function(e){e.onChange;var t=e.day,n=zy().classes,a=l(Sy(),1)[0],o=l(ye.useState([]),2),s=o[0],c=o[1],p=l(ye.useState(null),2),m=p[0],f=p[1],y=s.length,v=He(i(r().mark((function e(){var n,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c([]),a){e.next=3;break}return e.abrupt("return");case 3:return n=Wi(t),e.next=6,a.promise;case 6:i=e.sent,o=i.filter((function(e){return e.moment_stamp===n})).filter((function(e){return!e.is_complete})),c(o);case 9:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError}).execute;ye.useEffect((function(){v()}),[a]);return ve(Le,{children:[ve(en,{onClick:function(e){var t=e.currentTarget;return f(t)},sx:u({},t.isToday()&&{background:"#132e5511","&:hover":{background:"#132e5533"}}),children:ve(kn,{sx:{flexDirection:"column",gap:"5px"},children:[t.format("DD"),!!y&&ve(tr,{sx:{mt:"-2.5px"},side:5,color:t.isBefore(h().add(-1,"days"))?"red":y>3?"orange":"green"})]})}),ve(nr,{open:!!m,anchorEl:m,onClose:function(){return f(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:0===s.length?ve(je,{sx:{p:2},children:"На этот день задач не назначено"}):ve(ge,{sx:{height:356,width:356},children:ve(pt,{disablePadding:!0,subheader:ve(rr,{component:je,sx:{fontWeight:"bold"},children:["Задачи на ",t.format("DD/MM/YYYY")]}),children:ve(yt,{sx:{height:308,width:356},children:s.map((function(e,t){var r=e.id,a=e.title,i=e.contact_fio,o=e.to_user_fio,u=e.type,l=e.is_call,s=e.is_meet;return ve(ze,{className:ke(d({},n.listItemAccient,t%2==0)),onClick:function(){return Xl.routerService.push("/task")},children:ve(ft,{primary:"Внутренняя"===u?"Задача: ".concat(a):"Контакт: ".concat(i," ").concat([l&&"Звонок",s&&"Встреча"].filter((function(e){return e})).join(", ")),secondary:"Ответственный: ".concat(o)})},r)}))})})})})]})},Ay=al()((function(e){return{container:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},calendar:{flex:1,display:"grid",background:e.palette.background.paper,gridTemplateColumns:"repeat(7, 2fr)",gridRowGap:"2px"},inactiveDay:{opacity:.5,pointerEvents:"none"},day:{"& button":{border:"0",color:e.palette.text.primary}},cell:{display:"flex",alignItems:"center",justifyContent:"center","&:nth-of-type(7n)":{justifyContent:'"flex-end"'},"&:nth-of-type(7n + 1)":{justifyContent:'"flex-start"'}}}})),Fy=function(e){var t=e.onChange,n=e.onHeaderMonthClick,r=e.onHeaderYearClick,a=e.minDate,i=e.maxDate,o=e.date,u=l(ye.useState(o.clone().startOf("month")),2),s=u[0],c=u[1],p=l(Sy(),2)[1];ye.useEffect((function(){var e=Wi(s.clone().startOf("week")),t=Wi(s.clone().endOf("month").endOf("week"));p({fromStamp:e,toStamp:t,promise:Xl.dashboardRequestService.getTasksByStamp(e,t)})}),[s]);var m=ye.useCallback((function(e){var n=e.clone().endOf("week"),r=s.get("month");return function(e,t){for(var n=t.diff(e,"days")+1,r=[],a=0;a!==n;a++)r.push(e.clone().add(a,"days"));return r}(e,n).map((function(e){var n=o.isSame(e,"date"),u=e.get("month")!==r||i.isBefore(e)||a.isAfter(e);return ve("div",{className:ke(y.day,y.cell,d({},y.inactiveDay,u)),children:ve(Ty,{day:e,isActive:n,onChange:t})},e.toString())}))}),[s,o,i,a,t]),f=ye.useCallback((function(){return function(e,t){for(var n=t.diff(e,"weeks")+1,r=[],a=0;a!==n;a++)r.push(e.clone().add(a,"weeks"));return r}(s.clone().startOf("week"),s.clone().endOf("month").endOf("week")).map((function(e){return ve(ye.Fragment,{children:m(e)},"week-".concat(e.toString()))}))}),[s,m]),y=Ay().classes;return ve("div",{className:y.container,children:[ve(ky,{currentMonth:s,onMonthChange:function(e){return c(e)},onHeaderMonthClick:n,onHeaderYearClick:r}),ve("div",{className:y.calendar,children:f()})]})},Cy=al()((function(e){return{container:{height:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},stretch:{flex:1},disabled:{pointerEvents:"none",opacity:.5},monthLabel:{textAlign:"center"},noBorder:{border:"0"},arrows:{padding:"5px",color:e.palette.text.secondary},header:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"5px"},content:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:"15px",button:{color:e.palette.text.primary}}}})),Vy=function(e){var t=e.date,n=e.minDate,r=e.maxDate,a=e.onChange;t.get("month");var i=l(ye.useState(t.get("year")),2),o=i[0],u=i[1],s=function(){for(var e=[],t=h().startOf("year"),n=0;12!==n;n++)e.push(t.clone().add(n,"months"));return e}().map((function(e){return e.get("month")})),c=function(){var e=h.localeData(),t=e.months();return(e.monthsShort()||t).map((function(e){return"".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1,3))}))}(),p=Cy().classes,m=ye.useCallback((function(e){var i=t.clone().set("month",e);i=i.set("year",o),t&&r.isBefore(t)?a(r.clone()):t&&n.isAfter(t)?a(n.clone()):a(i)}),[o,t,r,n,a]);return ve("div",{className:p.container,children:[ve("div",{className:p.header,children:[ve(Ae,{className:p.noBorder,onClick:function(){var e=o-1;e>=n.get("year")&&u(e)},children:ve(ar,{className:p.arrows})}),ve(je,{className:ke(p.monthLabel,p.stretch),children:o}),ve(Ae,{className:p.noBorder,onClick:function(){var e=o+1;e<=r.get("year")&&u(e)},children:ve(ir,{className:p.arrows})})]}),ve("div",{className:p.content,children:s.map((function(e){var t=r.get("month")<e&&r.get("year")===o||n.get("month")>e&&n.get("year")===o;return ve(en,{className:ke(d({},p.disabled,t)),onClick:function(){return m(e)},children:c[e]},e)}))})]})},My=al()((function(e){return{container:{height:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},stretch:{flex:1},yearLabel:{textAlign:"center"},noBorder:{border:"0"},arrows:{padding:"5px",border:"0",color:e.palette.text.disabled},header:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"5px"},content:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:"15px",button:{color:e.palette.text.primary}}}})),Ly=function(e){var t=e.date,n=e.minDate,r=e.maxDate,a=e.onChange,i=t.get("year"),o=ye.useMemo((function(){return function(e,t){for(var n=t.diff(e,"years")+1,r=[],a=0;a!==n;a++)r.push(e.clone().add(a,"years"));return r}(n,r).map((function(e){return e.get("year")})).reduce((function(e,t){var n=l(e.slice().reverse(),1)[0];return n.push(t),12===n.length?[].concat(f(e),[[]]):e}),[[]])}),[n,r]),u=l(ye.useState(o.findIndex((function(e){return e.includes(i)}))),2),s=u[0],c=u[1],p=ye.useCallback((function(e){var i=t.clone().set("year",e);t&&r.isBefore(t)?a(r.clone()):t&&n.isAfter(t)?a(n.clone()):a(i)}),[t,r,n,a]),d=o[s]||[],m=My().classes;return ve("div",{className:m.container,children:[ve("div",{className:m.header,children:[ve(en,{className:m.noBorder,variant:"text",onClick:function(){c(Math.max(s-1,0))},children:ve(ar,{className:m.arrows})}),ve(je,{className:ke(m.yearLabel,m.stretch),children:t.format("YYYY")}),ve(en,{className:m.noBorder,variant:"text",onClick:function(){var e=s+1;e<o.length&&c(e)},children:ve(ir,{className:m.arrows})})]}),ve("div",{className:m.content,children:d.map((function(e){return ve(en,{color:e===i?"primary":"secondary",onClick:function(){return p(e)},children:e},e)}))})]})},Iy=al()((function(e){return{container:{width:"100%",height:"100%",padding:e.spacing(1)}}})),By=function(e){var t=e.date,n=void 0===t?h():t,r=e.minDate,a=void 0===r?h("1900-01-01"):r,i=e.maxDate,o=void 0===i?h("2100-01-01"):i,u=e.onChange,s=l(ye.useState((function(){return n.isBefore(a)?a:n})),2),c=s[0],p=s[1],d=l(ye.useState(!1),2),m=d[0],f=d[1],y=l(ye.useState(!1),2),v=y[0],b=y[1],_=function(){return f(!0)},g=function(){return b(!0)},k=c.startOf("day"),x=function(e){f(!1),p(e.clone().set("year",e.get("year")))},w=function(e){b(!1),p(e.clone().set("month",e.get("month")))},S=Iy().classes;return ve(it,{className:S.container,children:m?ve(Ly,{date:k,onChange:x,minDate:a,maxDate:o}):v?ve(Vy,{date:k,onChange:w,minDate:a,maxDate:o}):ve(wy,{initialState:null,children:ve(Fy,{date:k,onChange:u,minDate:a,maxDate:o,onHeaderMonthClick:g,onHeaderYearClick:_})})})},jy=al()((function(e){return{container:{padding:"24px",position:"relative"},text:{fontSize:"16px",p:{fontSize:"12px",margin:"0"}},heading:{display:"flex",gap:"12px",alignItems:"center",padding:"0 0 12px 0 ",marginBottom:"12px",borderBottom:"1px solid #0000001F",button:{color:e.palette.text.primary}},amount:{fontSize:"24px",textAlign:"right"},options:{position:"absolute",top:"4px",right:"4px"}}})),Dy=[ve(ur,{}),ve(lr,{}),ve(sr,{}),ve(cr,{}),ve(pr,{})],Ry=function(e){var t=e.text,n=e.amount,r=e.iconNumber,a=jy().classes;return ve("div",{className:a.container,children:[ve(Ae,{disableRipple:!0,className:a.options,children:ve(or,{})}),ve("div",{className:a.heading,children:[ve(Ae,{children:r?Dy[r-1]:ve(Xn,{})}),ve("div",{className:a.text,children:t})]}),ve("p",{className:a.amount,children:n})]})},qy=al()({funnelContainer:{padding:"10px 24px",position:"relative",height:"100%"},funnelTitle:{fontSize:"16px"},center:{height:"calc(100% - 100px)",marginTop:"65px"},funnel:{maxWidth:"452px",margin:"0 auto",width:"100%",paddingTop:"10px",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"-10%",gap:"10px"},row:{background:"#D9D9D9",clipPath:"polygon(0 0, 100% 0, 97% 100%, 3% 100%)",textAlign:"center",fontSize:"14px",height:"20px"},options:{position:"absolute",top:"4px",right:"4px"}}),Py=function(e){var t=e.valueMap,n=qy().classes;return ve(ge,{className:n.funnelContainer,children:[ve(Ae,{className:n.options,children:ve(or,{})}),ve(ge,{className:n.funnelTitle,children:"Воронка Продаж"}),ve(kn,{className:n.center,children:ve(ge,{className:n.funnel,children:no.map((function(e,r){return ve(ge,{sx:{width:100-5*r+"%"},className:n.row,children:[e," ",t[e]]},e)}))})})]})},Ey=function(){return ve(me,{sx:{height:"100%",width:"100%"}})},Ny=al()({title:{fontSize:"16px",marginBottom:"18px"},container:{padding:"10px 24px",position:"relative",height:"100%"},options:{position:"absolute",top:"4px",right:"4px"},list:{display:"flex",flexDirection:"column",gap:"13px",margin:"0",padding:"0"},statRow:{display:"flex",width:"100%",alignItems:"center",gap:"7px",color:"00000099",fontSize:"14px",letterSpacing:"0.17px"},stats:{height:"4px",width:"200px"},managersList:{listStyle:"none",display:"flex",flexDirection:"column",fontSize:"12px",gap:"5px",padding:"0 !important"},managerRow:{display:"flex",alignItems:"center",gap:"8px"},managerDot:{width:"12px",height:"12px",background:"#000000DE",borderRadius:"100%"}}),Oy=function(){var e,t=Ny().classes;return ve("div",{className:t.container,children:[ve(Ae,{className:t.options,children:ve(or,{})}),ve("div",{className:t.title,children:"Всего сделок"}),ve(we,{Loader:Ey,children:(e=i(r().mark((function e(){var n,a,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.findAll();case 2:return n=e.sent,e.next=5,Promise.all(n.map(function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,e.next=3,Xl.dashboardRequestService.getDoneDealsByUserCount("last-month",n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return a=e.sent,o=a.map((function(e,t){var r,a,i,o,u,l=[null===(r=n[t])||void 0===r?void 0:r.last_name,null===(a=n[t])||void 0===a?void 0:a.first_name,null===(i=n[t])||void 0===i?void 0:i.middle_name].filter((function(e){return e})).join(" ");return{id:(null===(o=n[t])||void 0===o?void 0:o.id)||"unknown",label:l,color:dr.getColor({shades:["500"],text:"".concat(l,"+").concat(null===(u=n[t])||void 0===u?void 0:u.id,"+").concat(t)}),value:e}})).sort((function(e,t){var n=e.value;return t.value-n})),u=a.reduce((function(e,t){return Math.max(e,t)})),e.abrupt("return",ve(mr,{sx:{maxHeight:"calc(100% - 60px)",paddingLeft:"8px",overflowY:"auto"},children:[ve("div",{className:t.list,children:o.map((function(e){var n=e.id,r=e.value,a=e.color,i=Math.round(100/u*r);return ve("div",{className:t.statRow,children:[ve(fr,{className:t.stats,sx:{backgroundColor:"#ccc","& .MuiLinearProgress-bar":{backgroundColor:a}},variant:"determinate",value:Math.max(i,3)}),r," Продаж"]},n)}))}),ve("ul",{className:t.managersList,children:o.map((function(e){var n=e.id,r=e.label,a=e.color;return ve("li",{className:t.managerRow,children:[ve(tr,{color:a,side:12})," ",r]},n)}))})]}));case 9:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})]})},Uy=al()({root:{position:"relative",height:"100%",width:"100%",overflow:"hidden"},container:{position:"absolute",top:0,left:0,height:"100%",width:"100%"}}),Hy=function(e){var t=e.children,n=void 0===t?null:t,r=e.className,a=e.style,i=Uy().classes;return ve(it,{className:ke(i.root,r),style:a,children:ve(ge,{className:i.container,children:n})})},Wy=function(e){for(var t=!0,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var i=0,o=r;i<o.length;i++){var u=o[i];t=t&&!!String(e[u]||"").length}return t},$y=[{type:o.Text,columns:"6",fieldBottomMargin:"1",shouldRecompute:function(){return!1},compute:(Tf=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xl.appwriteService.currentUser.$id,e.next=3,Xl.userViewService.tryRead(t);case 3:return n=e.sent,e.abrupt("return",[null==n?void 0:n.last_name,null==n?void 0:n.first_name,null==n?void 0:n.middle_name].filter((function(e){return e})).join(" "));case 5:case"end":return e.stop()}}),e)}))),function(){return Tf.apply(this,arguments)}),name:"from_user_id",title:"От кого"},{type:o.Choose,columns:"6",fieldBottomMargin:"1",choose:(zf=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickUser(t.to_user_id?[t.to_user_id]:[]),e.next=3,n.userResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return zf.apply(this,arguments)}),tr:(Sf=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",[null==n?void 0:n.last_name,null==n?void 0:n.first_name,null==n?void 0:n.middle_name].filter((function(e){return e})).join(" ")||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Sf.apply(this,arguments)}),name:"to_user_id",title:"Кому",placeholder:"Не выбрано"},{type:o.Date,columns:"6",fieldBottomMargin:"1",name:"date",title:"Дата выполнения",labelShrink:!0,placeholder:"Новые задачи"},{type:o.Time,columns:"6",fieldBottomMargin:"1",name:"time",title:"",labelShrink:!0,placeholder:"Не выбрано"},{type:o.Box,noBaseline:!0,isVisible:function(e){return"Клиент"===e.type},sx:{display:"grid",gridTemplateColumns:"1fr auto auto"},fields:[{type:o.Choose,sx:{minWidth:"100% !important"},fieldBottomMargin:"0",fieldRightMargin:"3",columns:"4",choose:(wf=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickContact(t.contact_id?[t.contact_id]:[]),e.next=3,n.contactResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return wf.apply(this,arguments)}),tr:(xf=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.contactViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.fio)||(null==n?void 0:n.id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return xf.apply(this,arguments)}),name:"contact_id",title:"",placeholder:"Контакт"},{type:o.Checkbox,fieldBottomMargin:"0",name:"is_call",title:"Звонок"},{type:o.Checkbox,fieldBottomMargin:"0",name:"is_meet",title:"Встреча"}]},{type:o.Text,isVisible:function(e){return"Клиент"!==e.type},fieldBottomMargin:"1",title:"",placeholder:"Задача",name:"title"},{type:o.Text,fieldBottomMargin:"1",title:"",placeholder:"Комментарий",inputRows:3,name:"comment"},{type:o.Radio,fieldBottomMargin:"0",name:"type",radioValue:"Внутренняя",defaultValue:"Внутренняя",title:"Внутренняя"},{type:o.Radio,fieldBottomMargin:"0",name:"type",radioValue:"Клиент",title:"Клиент"}],Gy=function(e){var t=e.payload,n=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),a=n.handleLoadStart,o=n.handleLoadEnd,l=pc({payload:t}),s=l.pickData,c=l.render,p=l.resultSubject,d=Sc({payload:t}),m=d.pickData,f=d.render,y=d.resultSubject,h=Ke({fields:$y,title:"Создать задачу",payload:u(u({},t),{},{pickUser:s,userResultSubject:p,pickContact:m,contactResultSubject:y}),handler:function(){return{from_user_id:Xl.appwriteService.currentUser.$id}}});return{execute:He(i(r().mark((function e(){var t,n,a,i,o,u,l,s,c,p,d,m,f,y,v,b,_,g;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().toPromise();case 2:if(!(t=e.sent)||"Внутренняя"!==t.type){e.next=12;break}if(n=t.to_user_id,a=t.comment,i=t.date,o=t.time,u=t.title,l=i?vt.dateStamp(i):null,s=o?vt.timeStamp(o):null,Wy(t,"to_user_id","title")){e.next=10;break}return Xl.alertService.notify("Укажите все поля"),e.abrupt("return");case 10:return e.next=12,Xl.taskRequestService.createTodoTask(n,l,s,u,a);case 12:if(!t||"Клиент"!==t.type){e.next=21;break}if(c=t.to_user_id,p=t.comment,d=t.date,m=t.time,f=t.contact_id,y=t.title,v=t.is_meet,b=t.is_call,Wy(t,"to_user_id","contact_id")){e.next=17;break}return Xl.alertService.notify("Укажите все поля"),e.abrupt("return");case 17:return _=d?vt.dateStamp(d):null,g=m?vt.timeStamp(m):null,e.next=21,Xl.taskRequestService.createClientTask(c,f,_,g,y,!!b,!!v,p);case 21:case"end":return e.stop()}}),e)}))),{onLoadStart:a,onLoadEnd:o,fallback:Xl.errorService.handleGlobalError}).execute,render:function(){return ve(Le,{children:[f(),c()]})}}},Yy="7px",Ky=function(){return ve(me,{size:24,sx:{justifyContent:"flex-end",width:"100%"}})},Zy=function(){return ve(me,{sx:{height:"100%",width:"100%",marginTop:"-2.5%"}})},Xy=[{type:o.Group,columns:"14",tabletColumns:"12",phoneColumns:"12",fieldRightMargin:Yy,fieldBottomMargin:Yy,fields:[{type:o.Hero,height:"max(calc(100vh * 0.2), 150px)",columns:"3",tabletColumns:"6",phoneColumns:"12",bottom:Yy,right:Yy,child:{type:o.Component,element:function(){return ve(Hy,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ve(Ry,{amount:ve(we,{Loader:Ky,children:(e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dashboardRequestService.getNewBidsCount("last-month");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),text:"Новые заявки",iconNumber:1})});var e}}},{type:o.Hero,columns:"3",tabletColumns:"6",phoneColumns:"12",right:Yy,bottom:Yy,height:"max(calc(100vh * 0.2), 150px)",child:{type:o.Component,element:function(){return ve(Hy,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ve(Ry,{amount:ve(we,{Loader:Ky,children:(e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dashboardRequestService.getNewApartmentCount("last-month");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),text:"Новые объекты",iconNumber:2})});var e}}},{type:o.Hero,columns:"3",tabletColumns:"6",phoneColumns:"12",height:"max(calc(100vh * 0.2), 150px)",bottom:Yy,right:Yy,child:{type:o.Component,element:function(){return ve(Hy,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ve(Ry,{amount:ve(we,{Loader:Ky,children:(e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dashboardRequestService.getDealsInProgressCount("last-month");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),text:"В работе",iconNumber:3})});var e}}},{type:o.Hero,columns:"3",tabletColumns:"6",phoneColumns:"12",bottom:Yy,right:Yy,height:"max(calc(100vh * 0.2), 150px)",child:{type:o.Component,element:function(){return ve(Hy,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033",opacity:"0.5"},children:ve(Ry,{amount:null,text:ve(Le,{children:["Прибыль ",ve("p",{children:"За месяц"})]}),iconNumber:4})})}}}]},{type:o.Group,columns:"12",tabletColumns:"12",phoneColumns:"12",fields:[{type:o.Hero,height:"min(calc(100vh * 0.5), 700px)",right:Yy,bottom:Yy,columns:"6",phoneColumns:"12",child:{type:o.Component,element:function(){return ve(Hy,{children:ve(By,{onChange:console.log})})}}},{type:o.Hero,columns:"6",phoneColumns:"12",right:Yy,bottom:Yy,height:"min(calc(100vh * 0.5), 700px)",child:{type:o.Component,element:function(){return ve(Hy,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ve(we,{Loader:Zy,children:(e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(no.map(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dashboardRequestService.getDealsByStatusCount("last-month",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return t=e.sent,n=no.reduce((function(e,n,r){return u(u({},e),{},d({},n,t[r]))}),{}),e.abrupt("return",ve(Py,{valueMap:n}));case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})});var e}}}]},{type:o.Group,columns:"12",tabletColumns:"12",phoneColumns:"12",fields:[{type:o.Hero,minHeight:"min(calc(100vh * 0.5), 700px)",columns:"6",phoneColumns:"12",right:Yy,bottom:Yy,child:{type:o.Component,element:function(){return ve(Hy,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ve(Oy,{})})}}},{type:o.Group,columns:"6",phoneColumns:"12",fields:[{type:o.Hero,desktopColumns:"6",tabletColumns:"6",phoneColumns:"12",right:Yy,bottom:Yy,minHeight:"min(calc(100vh * 0.25), 350px)",child:{type:o.Component,element:function(){return ve(Hy,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ve(by,{onClick:function(){return Xl.routerService.push("/apartment/create")},text:"Добавить Обьект",iconNumber:1})})}}},{type:o.Hero,desktopColumns:"6",tabletColumns:"6",phoneColumns:"12",right:Yy,bottom:Yy,minHeight:"min(calc(100vh * 0.25), 350px)",child:{type:o.Component,element:function(){return ve(Hy,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ve(by,{onClick:function(){return Xl.routerService.push("/bid/create")},text:"Создать Заявку",iconNumber:2})})}}},{type:o.Hero,desktopColumns:"6",tabletColumns:"6",phoneColumns:"12",right:Yy,bottom:Yy,minHeight:"min(calc(100vh * 0.25), 350px)",child:{type:o.Component,element:function(e){var t=e.payload,n=Gy({payload:t}),r=n.execute,a=n.render;return ve(Hy,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:[ve(by,{onClick:r,text:"Добавить Задачу",iconNumber:3}),a()]})}}}]}]}],Jy=[{id:"common",element:function(e){var t=e.payload;return ve(et,{fields:Xy,payload:t,features:t.permissions})},isActive:function(e){return rs(["/dashboard"],e)},isAvailable:function(){return!1}}],Qy=al()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",minHeight:150},container:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",flex:1},content:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",paddingTop:6,paddingBottom:6,gap:6,flex:1},header:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)},row:{display:"flex",alignItems:"center",justifyContent:"space-between"},noBorder:{border:"none !important"},bold:{fontWeight:"bold !important"},adjust:{maxHeight:10,minHeight:10,flex:1},button:{backgroundColor:"#3F51B5",color:"#ffffff",fontSize:12,marginLeft:"auto",marginRight:"auto","&:hover":{color:"#3F51B5"}},fieldContainer:{display:"flex",justifyContent:"space-between"},fieldDesc:{fontSize:10,opacity:.6,marginLeft:4},dateFieldDesc:{fontSize:8,opacity:.6,marginLeft:8},field:{fontSize:12,marginRight:4,fontWeight:500},dateField:{fontSize:8}}})),eh=ye.forwardRef((function(e,t){var n,a,o=e.className,u=e.style,s=e.contactDisplayName,c=e.contactType,p=e.contactNumber,d=e.responsible,m=e.requestType,f=e.dealIndex,y=e.dealType,v=e.dealStatus,b=e.price,_=e.currency,g=e.createdAt,k=e.updatedAt,x=e.apartmentId,w=e.targetApartmentId,S=e.targetBidId,z=e.bidId,T=e.id,A=e.onChangeStatus,F=e.onDrag,C=Qy().classes,V=l(ye.useState(null),2),M=V[0],L=V[1],I=l(ye.useState(null),2),B=I[0],j=I[1],D=He(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError}),R=D.execute,q=D.loading,P=ye.useMemo((function(){var e=no.findIndex((function(e){return e===v}));return no.filter((function(t,n){return n<e})).reverse()}),[v]),E=ye.useMemo((function(){var e=no.findIndex((function(e){return e===v}));return no.filter((function(t,n){return n>e}))}),[v]),N=ye.useMemo((function(){return h(g).format("DD.MM.YYYY / HH:mm")}),[g]),O=ye.useMemo((function(){return h(k).format("DD.MM.YYYY / HH:mm")}),[k]),U=ye.useMemo((function(){return"Сделка сорвана"===v||"Закрытая сделка"===v}),[v]),H=ye.useCallback((function(){x?Xl.routerService.push("/apartment_view/".concat(x,"/history")):z&&Xl.routerService.push("/bid_view/".concat(z,"/history"))}),[]);return ve("div",{"data-dealid":T,className:ke(C.root,o),onDrag:function(){return F(T)},style:u,ref:t,draggable:!U,children:[ve(it,{className:C.container,children:ve(ge,{className:C.content,children:[ve(ge,{className:C.row,children:[ve(Ae,{onClick:function(e){var t=e.currentTarget;L(t),j(null)},disabled:!P.length||q||U,size:"small",children:ve(Qn,{})}),ve(yr,{anchorEl:M,open:!!M,onClose:function(){return L(null)},children:P.map((function(e,t){return ve(hr,{onClick:function(){R(e),L(null)},children:e},"".concat(e,"-").concat(t))}))}),ve(Cn,{label:d,variant:"filled",color:"#2196F3",sx:{fontWeight:500,fontSize:10,maxWidth:175}}),ve(Ae,{onClick:function(e){var t=e.currentTarget;L(null),j(t)},disabled:!E.length||q||U,size:"small",children:ve(er,{})}),ve(yr,{anchorEl:B,open:!!B,onClose:function(){return j(null)},children:E.map((function(e,t){return ve(hr,{onClick:function(){R(e),j(null)},children:e},"".concat(e,"-").concat(t))}))})]}),ve(kn,{sx:{minHeight:50},children:ve(je,{fontSize:12,textAlign:"center",maxWidth:"80%",paddingBottom:"6px",children:s})}),p&&ve(ge,{className:C.content,children:[ve(ge,{className:C.fieldContainer,sx:{borderBottom:1,borderColor:"#E0E0E0"},children:[ve(je,{className:C.fieldDesc,children:"Тип контакта"}),ve(je,{className:C.field,children:c})]}),ve(ge,{className:C.fieldContainer,sx:{borderBottom:1,borderColor:"#E0E0E0"},children:[ve(je,{className:C.fieldDesc,children:"Номер телефона"}),ve(je,{className:C.field,children:p})]}),w&&ve(we,{payload:w,children:(a=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentViewService.read(t);case 2:return n=e.sent,a=n.zagolovok,e.abrupt("return",ve(ge,{className:C.fieldContainer,sx:{borderBottom:1,borderColor:"#E0E0E0"},children:[ve(je,{className:C.fieldDesc,children:"Объект недвижимости"}),ve(je,{className:C.field,children:ve(sn,{href:"#",onClick:function(){return ue("/apartment_view/".concat(t))},children:a})})]}));case 5:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})}),S&&ve(we,{payload:S,children:(n=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.bidViewService.read(t);case 2:return n=e.sent,a=n.zagolovok,e.abrupt("return",ve(ge,{className:C.fieldContainer,sx:{borderBottom:1,borderColor:"#E0E0E0"},children:[ve(je,{className:C.fieldDesc,children:"Заявка"}),ve(je,{className:C.field,children:ve(sn,{href:"#",onClick:function(){return ue("/bid_view/".concat(t))},children:a})})]}));case 5:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})]}),ve(kn,{children:ve(ge,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",maxWidth:"90%",gap:1},children:[ve(Cn,{label:"№ ".concat(f),variant:"filled",color:"#E0E0E0"}),ve(Cn,"Аренда"==y?{label:"Аренда",variant:"filled",color:"#AF4C5E",sx:{color:"white"}}:{label:"Продажа",variant:"filled",color:"#4CAFAF",sx:{color:"white"}}),ve(Cn,"Заявка"===m?{label:"Заявка",variant:"filled",color:"#AFAB4C",sx:{color:"white"}}:{label:"Объект",variant:"filled",color:"#4CAF50",sx:{color:"white"}})]})}),b&&ve(ge,{className:C.content,children:ve(ge,{className:C.fieldContainer,children:[ve(je,{className:C.fieldDesc,children:["Цена ","(".concat("uzs"===_?"SUM":"$",")")]}),ve(je,{className:C.field,children:b})]})}),ve(ge,{className:C.container,sx:{borderTop:1,pl:1,borderColor:"#E0E0E0"},children:[ve(kn,{className:C.content,children:[ve(je,{className:C.dateFieldDesc,children:"Дата создания:"}),ve(je,{className:C.dateField,children:N})]}),ve(kn,{className:C.content,children:[ve(je,{className:C.dateFieldDesc,children:"Дата обновления:"}),ve(je,{className:C.dateField,children:O})]})]}),ve(en,{onClick:H,variant:"outlined",sx:{ml:1,mr:1},children:"Посмотреть историю"})]})}),ve("div",{className:C.adjust})]})})),th=[{type:o.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr auto","& > .MuiGrid-root":{minWidth:"275px"},mt:-1},fields:[{type:o.Choose,fieldBottomMargin:"0",fieldRightMargin:"2",choose:(Ff=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickData(t.user_id?[t.user_id]:[]),e.next=3,n.resultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return Ff.apply(this,arguments)}),tr:(Af=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",[null==n?void 0:n.last_name,null==n?void 0:n.first_name,null==n?void 0:n.middle_name].filter((function(e){return e})).join(" ")||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Af.apply(this,arguments)}),name:"user_id",placeholder:"Ответственный",title:""},{type:o.Combo,fieldBottomMargin:"0",name:"tip_klienta",title:"",placeholder:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:o.Div},{type:o.Text,fieldBottomMargin:"0",name:"search",title:"",placeholder:"Поиск",leadingIcon:vr,trailingIcon:function(){return ve(mn,{sx:{opacity:.5}})},trailingIconClick:function(e,t,n){e&&n("")}}]}],nh=function(e){var t=e.onChange,n=e.className,r=e.style,a=e.data,i=e.payload,o=pc({payload:i}),l=o.pickData,s=o.render,c=o.resultSubject;return ve(it,{className:n,style:r,sx:{mb:1,minHeight:48},children:[ve(un,{sx:{height:"100%"},hideOverflowY:!0,children:ve(ge,{sx:{p:1,display:"flex",alignItems:"center",justifyContent:"stretch"},children:ve(et,{fields:th,handler:function(){return a},onChange:function(e,n){n||t(e)},payload:function(){return u(u({},i),{},{pickData:l,resultSubject:c})},fieldDebounce:Ra})})}),s()]})},rh=function(){var e=i(r().mark((function e(t){var n,a,o,u,l,s,c,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.apartment_id){e.next=3;break}return n="Объект",e.abrupt("return");case 3:if(!t.bid_id){e.next=6;break}return n="Заявка",e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,o();case 3:return e.next=5,Xl.userViewService.read(t.user_id);case 5:return u=e.sent,l=u.first_name,s=u.last_name,c=u.middle_name,p=[s,l,c].filter((function(e){return e})).join(" "),t.price&&1===t.price.length&&(a=t.price[0]),t.price&&2===t.price.length&&(a="От ".concat(t.price[0]," До ").concat(t.price[1])),e.abrupt("return",{id:t.id,contactType:t.tip_klienta,contactNumber:t.telefon,contactDisplayName:t.fio,createdAt:t.$createdAt,updatedAt:t.$updatedAt,dealIndex:t.index,requestType:n,currency:t.price_unit,metadata_created_at:h(t.$createdAt).format("DD/MM/YYYY"),metadata_updated_at:h(t.$updatedAt).format("DD/MM/YYYY"),price:a,apartmentId:t.apartment_id,bidId:t.bid_id,targetApartmentId:t.target_apartment_id,targetBidId:t.target_bid_id,userId:t.user_id,responsible:p,dealStatus:t.status,dealType:t.type});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ah=no.indexOf("Задаток/Залог"),ih=[{type:o.Choose,fieldBottomMargin:"1",isVisible:function(e){return Wy(e,"bid_id","occupation")},isInvalid:function(e){return e.occupation&&e.bid_id?e.target_apartment_id?null:"Укажите объект недвижимости":null},choose:(Lf=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickApartment(t.target_apartment_id?[t.target_apartment_id]:[]),e.next=3,n.apartmentResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return Lf.apply(this,arguments)}),tr:(Mf=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.apartmentViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.zagolovok)||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Mf.apply(this,arguments)}),name:"target_apartment_id",title:"Выберите объект",placeholder:"Не выбрано"},{type:o.Choose,fieldBottomMargin:"1",isVisible:function(e){return Wy(e,"apartment_id","occupation")},isInvalid:function(e){return e.occupation&&e.apartment_id?e.target_bid_id?null:"Укажите заявку":null},choose:(Vf=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickBid(t.target_bid_id?[t.target_bid_id]:[]),e.next=3,n.bidResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return Vf.apply(this,arguments)}),tr:(Cf=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.bidViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",(null==n?void 0:n.zagolovok)||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Cf.apply(this,arguments)}),name:"target_bid_id",title:"Выберите заявку",placeholder:"Не выбрано"},{type:o.Text,sx:{minWidth:470},title:"",placeholder:"Комментарий",name:"comment",inputRows:3}],oh=al()((function(e){return{root:d({display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",height:"calc(100vh - 85px)",width:"100%"},"& .".concat("react-declarative__scrollViewTarget"),{transform:"rotateX(180deg)","& > div > div":{marginBottom:"25px",transform:"rotateX(180deg)"}}),container:{position:"relative",flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flex:1,display:"flex"},group:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",maxWidth:"276px",minWidth:"276px",gap:10,padding:10,marginRight:10},inactiveGroup:{background:fe("#000",.03)},activeGroup:{background:fe(e.palette.primary.main,.5)},list:{flex:1,minWidth:"256px",height:"100%"},loading:{pointerEvents:"none"}}})),uh=["contactDisplayName","contactType","contactNumber","responsible","requestType","dealType","metadata_created_at","metadata_updated_at"],lh={user_id:"",tip_klienta:null,search:""},sh=[{id:"list",element:function(e){var t=e.params.dealCardMap,n=e.payload,a=oh().classes,o=l(br(lh),2),s=o[0],c=o[1],p=l(_r((function(){return{user_id:s.user_id,tip_klienta:JSON.parse(s.tip_klienta),search:s.search}})),2),m=p[0],y=p[1];Ht((function(){c(m.current)}),[m.current]);var v=l(ye.useState((function(){return new Map(t)})),2),b=v[0],_=v[1],g=ye.useMemo((function(){return f(b.values()).flatMap((function(e){return e}))}),[b]),k=An(b),x=ye.useRef(null),w=l(ye.useState(null),2),S=w[0],z=w[1],T=function(e){var t=e.payload,n=e.features,a=nd({payload:t,features:n}),o=a.pickData,l=a.render,s=a.resultSubject,c=Fd({payload:t,features:n}),p=c.pickData,d=c.render,m=c.resultSubject,f=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),y=f.handleLoadStart,h=f.handleLoadEnd,v=Ke({title:"Изменение статуса",fields:ih,payload:function(){return u(u({},t),{},{apartmentResultSubject:s,pickApartment:o,bidResultSubject:m,pickBid:p})}}),b=He(function(){var e=i(r().mark((function e(t){var n,a,i,o,u,l,s,c,p,d,m,f,y;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.fromStatus,i=t.toStatus,o=t.apartment_id,u=t.bid_id,l=t.target_apartment_id,s=t.target_bid_id,c=no.indexOf(i)>=ah,e.next=4,v({handler:function(){return{fromStatus:a,toStatus:i,occupation:c,apartment_id:o,bid_id:u,target_apartment_id:c?l:null,target_bid_id:c?s:null}}}).toPromise();case 4:if(!(p=e.sent)){e.next=34;break}if(!p.target_bid_id){e.next=19;break}return e.next=9,Xl.dealViewService.findOccupiedByBidId(p.target_bid_id);case 9:return d=e.sent,e.next=12,Xl.dealViewService.findOccupiedByTagetBidId(p.target_bid_id);case 12:if(m=e.sent,!d||d.id===n){e.next=16;break}return Xl.alertService.notify("На данную заявку создана другая сделка"),e.abrupt("return");case 16:if(!m||m.id===n){e.next=19;break}return Xl.alertService.notify("Данная заявка используется в другой сделке"),e.abrupt("return");case 19:if(!p.target_apartment_id){e.next=32;break}return e.next=22,Xl.dealViewService.findOccupiedByApartmentId(p.target_apartment_id);case 22:return f=e.sent,e.next=25,Xl.dealViewService.findOccupiedByTargetApartmentId(p.target_apartment_id);case 25:if(y=e.sent,!f||f.id===n){e.next=29;break}return Xl.alertService.notify("На данный объект создана другая сделка"),e.abrupt("return");case 29:if(!y||y.id===n){e.next=32;break}return Xl.alertService.notify("Данный лбъект используется в другой сделке"),e.abrupt("return");case 32:return e.next=34,Xl.dealRequestService.commitDealStatusChange(n,o,u,p.target_apartment_id,p.target_bid_id,a,i,p.comment);case 34:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:y,onLoadEnd:h,fallback:Xl.errorService.handleGlobalError});return{handleMoveDeal:b.execute,render:function(){return ve(Le,{children:[l(),d()]})}}}({payload:n,features:n.permissions}),A=T.handleMoveDeal,F=T.render,C=function(){var e=i(r().mark((function e(t,n){var a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=g.find((function(e){return e.id===t}))){e.next=3;break}throw new Error("DealPages BoardView handleChangeStatus dealCard not found");case 3:return i=a.dealStatus,o=a.apartmentId,u=a.bidId,e.next=6,A({id:t,apartment_id:o||null,bid_id:u||null,fromStatus:i,toStatus:n,target_apartment_id:a.targetApartmentId,target_bid_id:a.targetBidId});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=He(function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,1),a=n[0],z(null),e.next=4,C(x.current,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError}),M=V.loading,L=V.execute;ye.useEffect((function(){return Xl.dealViewService.updateSubject.subscribe(K(function(){var e=i(r().mark((function e(t){var n,a,i,o,u,s,c,p,d,m,f,y;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=l(t,2),a=n[0],i=n[1],o=new Map(k.current),u=0,s=no;u<s.length;u++)c=s[u],p=o.get(c)||[],o.set(c,p.filter((function(e){return e.id!==a})));d=0,m=no;case 4:if(!(d<m.length)){e.next=17;break}if((f=m[d])!==i.status){e.next=14;break}return y=o.get(f)||[],e.t0=y,e.next=11,rh(i);case 11:e.t1=e.sent,e.t0.unshift.call(e.t0,e.t1),o.set(f,y);case 14:d++,e.next=4;break;case 17:_(o);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),ye.useEffect((function(){return Xl.dealViewService.removeSubject.subscribe(K(function(){var e=i(r().mark((function e(t){var n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new Map(k.current),a=0,i=no;a<i.length;a++)o=i[a],u=n.get(o)||[],n.set(o,u.filter((function(e){return e.id!==t})));_(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),ye.useEffect((function(){return Xl.dealViewService.createSubject.subscribe(K(function(){var e=i(r().mark((function e(t){var n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Map(k.current),a=0,i=no;case 2:if(!(a<i.length)){e.next=16;break}if((o=i[a])!==t.status){e.next=13;break}return u=(u=n.get(o)||[]).filter((function(e){return e.id!==t.$id})),e.t0=u,e.next=10,rh(t);case 10:e.t1=e.sent,e.t0.unshift.call(e.t0,e.t1),n.set(o,u);case 13:a++,e.next=2;break;case 16:_(n);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]);var I=M;return ve(ge,{className:ke(a.root,d({},a.loading,I)),children:[ve(nh,{data:m.current,payload:n,onChange:y}),ve(ge,{className:a.container,children:ve(un,{withScrollbar:!0,hideOverflowY:!0,className:a.content,children:no.map((function(e){var t,n=k.current.get(e)||[];return ve(ge,{onDrop:function(t){var n=t.currentTarget;return L([e,n])},onDragEnd:function(){z(null)},onDragOver:function(t){z(e),t.preventDefault()},className:ke(a.group,(t={},d(t,a.activeGroup,S===e),d(t,a.inactiveGroup,S!==e),t)),children:[ve(je,{variant:"h6",fontWeight:"bold",children:e}),ve(yt,{className:a.list,minRowHeight:150,children:n.sort((function(e,t){var n=e.updatedAt,r=t.updatedAt;return h(n).isBefore(r)?1:-1})).filter((function(e){var t=m.current.user_id;return!t||e.userId===t})).filter((function(e){var t=m.current.tip_klienta;return null==t||!t.length||e.contactType===t[0]})).filter((function(e){var t=m.current.search;return!t||gr.apply(void 0,[e,t].concat(uh))})).map((function(e){return ve(eh,u({onChangeStatus:(t=i(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e.id,n);case 2:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)}),onDrag:function(){x.current=e.id}},e),e.id);var t}))})]})}))})}),F()]})},isActive:function(e){return rs(["/deal"],e)},isAvailable:function(){return!1}}],ch=function(){var e=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Map,e.next=3,Promise.all(no.map(function(){var e=i(r().mark((function e(n){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dealViewService.findByDealStatus(n);case 2:return a=e.sent,e.next=5,Promise.all(a.map(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rh(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=e.sent,t.set(n,o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ph=function(){return ve(je,{variant:"h2",color:"primary",width:"100%",textAlign:"center",fontWeight:"bold",sx:{textStroke:"2px #fff",WebkitTextStroke:"2px #fff"},children:Da})},dh=al()((function(e){return{root:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:e.palette.background.default,height:"100%",width:"100%",display:"flex",alignItems:"center",flexDirection:"column",gap:20,padding:15},container:{position:"relative",overflow:"hidden",minWidth:375,maxWidth:375,padding:15},reveal:{width:"unset"}}})),mh=al()((function(e){return{root:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:e.palette.background.default,height:"100%",width:"100%",display:"flex",alignItems:"center",flexDirection:"column",gap:20,padding:15},container:{position:"relative",overflow:"hidden",minWidth:375,maxWidth:375,padding:15},reveal:{width:"unset"}}})),fh=function(){var e=i(r().mark((function e(t){var n,a,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData(t),a=n.get("email"),i=n.get("password"),a){e.next=6;break}return Xl.alertService.notify("Введите email"),e.abrupt("return");case 6:if(i){e.next=9;break}return Xl.alertService.notify("Введите пароль"),e.abrupt("return");case 9:return e.next=11,Xl.authService.login({email:a.toString(),password:i.toString()});case 11:e.sent&&Xl.routerService.push("/profile");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yh=function(){var e=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=new FormData(t),a=n.get("email"),i=n.get("password"),o=n.get("confirm"),a){e.next=7;break}return Xl.alertService.notify("Введите email"),e.abrupt("return");case 7:if(i){e.next=10;break}return Xl.alertService.notify("Введите пароль"),e.abrupt("return");case 10:if(i===o){e.next=13;break}return Xl.alertService.notify("Пароли не совпадают"),e.abrupt("return");case 13:return e.next=15,Xl.authService.register({email:a.toString(),password:i.toString()});case 15:e.sent&&Xl.routerService.push("/profile");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hh=["Control","S"],vh={overrideSystem:!0,ignoreInputFields:!0,repeatOnHold:!1},bh=function(e){var t=wr(e);return Sr(hh,t,vh)},_h=function(e,t){return{type:o.Box,sx:{display:"grid",gridTemplateColumns:"1fr auto",alignItems:"flex-end",mb:1},fields:[{type:o.Text,fieldBottomMargin:"0",isDisabled:function(n){return!n["".concat(e,"_link_enabled_").concat(t)]},name:"".concat(e,"_link_").concat(t),title:"Ссылка на ".concat(e)},{type:o.Checkbox,fieldBottomMargin:"0",name:"".concat(e,"_link_enabled_").concat(t),title:"Включено"}]}},gh=[{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Курс валюты"})}},{type:o.Group,fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:o.Text,desktopColumns:"3",tabletColumns:"6",phoneColumns:"12",outlined:!1,name:"usd_eur",title:"Пара USD-EUR",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000"}]},{type:o.Group,fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:o.Text,desktopColumns:"3",tabletColumns:"6",phoneColumns:"12",outlined:!1,name:"usd_uzs",title:"Пара USD-UZS",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000"}]}]},{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Отображение карточек"})}},{type:o.Combo,desktopColumns:"3",tabletColumns:"6",phoneColumns:"12",outlined:!1,name:"masterdetail_mode",title:"Режим отображения",itemList:(Df=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getMasterDetailMode();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return Df.apply(this,arguments)}),tr:(jf=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getMasterDetailMode();case 2:return n=e.sent,e.abrupt("return",G.get(n,t));case 4:case"end":return e.stop()}}),e)}))),function(e){return jf.apply(this,arguments)})}]},{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Водяной знак"})}},{type:o.Choose,name:"watermark_file_id",title:"Файл водяного знака",choose:(Bf=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zr("*.png");case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,Xl.appwriteService.uploadFile(t);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),function(){return Bf.apply(this,arguments)}),tr:(If=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xl.appwriteService.readFileName(t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","Не указано");case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(e){return If.apply(this,arguments)}),desktopColumns:"3",tabletColumns:"6",phoneColumns:"12",outlined:!1}]},{type:o.Paper,fieldRightMargin:"0",fields:[{type:o.Component,fieldBottomMargin:"1",element:function(){return ve(je,{variant:"h6",fontWeight:"bold",children:"Ссылки на социальные сети"})}},_h(hi,1),_h(vi,1),_h(fi,1),_h(yi,1)]}];window.setting_common_fields=gh;var kh=[{type:Ye.Link,action:"breadcrumbs-action",label:"RealEstate"},{type:Ye.Link,action:"breadcrumbs-action",label:"Системные настройки"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],xh=[{type:o.Expansion,fieldBottomMargin:"1",hidden:!1,title:"Каналы в Telegram",fields:[{type:o.Typography,sx:{"& *":{fontWeight:"bold !important"}},placeholder:"Список каналов",typoVariant:"subtitle2"}].concat(f(f(new Array(5)).map((function(e,t){return function(e){return{type:o.Box,sx:{display:"grid",gridTemplateColumns:"1fr 1fr auto",alignItems:"flex-end",mb:1},fields:[{type:o.Text,isDisabled:function(t){return!t["telegram_channel_enabled_".concat(e)]},fieldBottomMargin:"0",name:"telegram_token_".concat(e),title:"Токен бота"},{type:o.Text,fieldBottomMargin:"0",isDisabled:function(t){return!t["telegram_channel_enabled_".concat(e)]},name:"telegram_channel_".concat(e),title:"Канал"},{type:o.Checkbox,fieldBottomMargin:"0",name:"telegram_channel_enabled_".concat(e),title:"Включено"}]}}(t+1)}))))},{type:o.Expansion,title:"Контакты в Telegram",fields:[{type:o.Outline,fieldRightMargin:"1",columns:"6",hidden:!1,fields:[{type:o.Typography,sx:{"& *":{fontWeight:"bold !important"}},placeholder:"Список номеров агенства",typoVariant:"subtitle2"}].concat(f(f(new Array(5)).map((function(e,t){return function(e){return{type:o.Box,sx:{display:"grid",gridTemplateColumns:"1fr 1fr auto",alignItems:"flex-end",mb:1},fields:[{type:o.Text,fieldBottomMargin:"0",isDisabled:function(t){return!t["telegram_agency_enabled_".concat(e)]},name:"telegram_agency_".concat(e),title:"Номер агенства"},{type:o.Text,isDisabled:function(t){return!t["telegram_agency_enabled_".concat(e)]},fieldBottomMargin:"0",name:"telegram_agency_nickname_".concat(e),title:"Никнейм в Telegram"},{type:o.Checkbox,fieldBottomMargin:"0",name:"telegram_agency_enabled_".concat(e),title:"Включено"}]}}(t+1)}))))},{type:o.Outline,columns:"6",hidden:!1,fields:[{type:o.Typography,sx:{"& *":{fontWeight:"bold !important"}},placeholder:"Список номеров агента",typoVariant:"subtitle2"}].concat(f(f(new Array(5)).map((function(e,t){return function(e){return{type:o.Box,sx:{display:"grid",gridTemplateColumns:"1fr 1fr auto",alignItems:"flex-end",mb:1},fields:[{type:o.Text,fieldBottomMargin:"0",isDisabled:function(t){return!t["telegram_agent_enabled_".concat(e)]},name:"telegram_agent_".concat(e),title:"Номер агента"},{type:o.Text,isDisabled:function(t){return!t["telegram_agent_enabled_".concat(e)]},fieldBottomMargin:"0",name:"telegram_agent_nickname_".concat(e),title:"Никнейм в Telegram"},{type:o.Checkbox,fieldBottomMargin:"0",name:"telegram_agent_enabled_".concat(e),title:"Включено"}]}}(t+1)}))))}]}];window.setting_integration_fields=xh;var wh,Sh,zh,Th,Ah,Fh=[{type:Ye.Link,action:"breadcrumbs-action",label:"RealEstate"},{type:Ye.Link,action:"breadcrumbs-action",label:"Telegram"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],Ch=[{type:o.Text,outlined:!0,name:"title",title:"Наименование",isInvalid:function(e){return e.title?null:"Поле не должно быть пустым"}},{type:o.Text,outlined:!0,title:"Комментарий",name:"comment",inputRows:3}],Vh=[{title:"База объектов",children:[{name:"sozdanie_obekta",label:"Создание объекта",description:"Возможность создать объект"},{name:"redaktirovanie_obekta",label:"Редактирование объекта",description:"Возможность отредактировать объект"},{name:"prosmotr_obekta",label:"Просмотр объекта",description:"Возможность просмотреть объект"}]},{title:"Заявки",children:[{name:"sozdanie_zayavki",label:"Создание заявки",description:"Возможность создать заявку"},{name:"redaktirovanie_zayavki",label:"Редактирование заявки",description:"Возможность отредактировать заявку"},{name:"prosmotr_zayavki",label:"Просмотр заявки",description:"Возможность просмотреть заявку"}]},{title:"Контакты",children:[{name:"sozdanie_kontakta",label:"Создание контакта",description:"Возможность создать контакт"},{name:"redaktirovanie_kontakta",label:"Редактирование контакта",description:"Возможность отредактировать данные контакта"},{name:"prosmotr_kontakta",label:"Просмотр контакта",description:"Возможность просмотреть данные контакта"}]},{title:"Реклама",children:[{name:"publikacziya_reklamy",label:"Публикация рекламы в канал",description:"Возможность опубликовать рекламу в канал"},{name:"dobavlenie_kategorii_i_podkategorii",label:"Добавление категории и подкатегории в канал",description:"Возможность добавления категории и подкатегории в канал"}]},{title:"Служебный комментарий",children:[{name:"upominanie_polzovatelya",label:"Упоминание сотрудника",description:"Возможность упомянуть сотрудника в чате"},{name:"dobavlenie_fajla",label:"Добавление файла",description:"Возможность добавить файл в чат"}]},{title:"Сотрудники",children:[{name:"redaktirovanie_sotrudnika",label:"Редактирование сотрудника",description:"Возможность отредактировать данные сотрудника"},{name:"prosmotr_nomera_telefona_i_email",label:"Просмотр номера телефона и email",description:"Возможность просмотреть номер телефона и email сотрудника"},{name:"nastrojka_urovnej_dostupa",label:"Настройка уровней доступа",description:"Возможность настраивать уровни доступа"}]},(wh={title:"Уровень доступа",levels:[{label:"Стажер",description:"Видит только свои записи"},{label:"Сотрудник",description:"Видит свои записи и записи стажера"},{label:"Менеджер",description:"Видит свои записи и записи стажера, сотрудника"},{label:"Администратор",description:"Видит свои записи и записи стажера, сотрудника, менеджера"},{label:"Суперадмин",description:"Видет все данные из базы данных без ограничений"}]},Sh=wh.title,zh=wh.levels,{title:Sh,children:zh.map((function(e,t){var n=e.label,r=e.description,a="level-".concat(t+1);return{name:a,label:n,description:r,map:function(e){if(!e[a])return e;for(var t=0;t!==zh.length;t++){var n="level-".concat(t+1);n!==a&&(e[n]=!1)}return e}}}))}),{title:"Доступ",children:[{name:"ne_vizhu_nomera_telefonov_chuzhih_kontaktov",label:"Не вижу номера телефонов чужих контактов (Стажер)",description:"Возможность скрыть номера телефонов контактов по всей базе кроме созданных самим пользователем"},{name:"vse_obekty_eksklyuzivny",label:"Все объекты эксклюзивны по умолчанию (Менеджер)",description:"Созданные пользователем контакты видны только ему"},{name:"vizhu_vse_urovni",label:"Вижу все уровни",description:"Видит номер контакта у вышестоящих уровней доступа"},{name:"vizhu_kontakty_pod_bronyu",label:"Вижу контакты под бронью (Директор)",description:"Вижу контакты, даже если получен задаток"},{name:"zaderzhka_perenaznacheniya_otvetstvennogo",label:"Задержка переназначения ответственного",description:"Могу забрать объект только через три дня простоя"}]},{title:"Настройки",children:[{name:"dostup_k_nastrojkam",label:"Доступ к настройкам",description:"Возможность разрешить менять настройки"},{name:"sozdanie_roli",label:"Создание роли",description:"Возможность создать роль"},{name:"redaktirovanie_roli",label:"Редактирование роли",description:"Возможность отредактировать роль"}]}],Mh=al()((function(e){return{root:{position:"absolute",padding:20,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",transform:"translate(-50%, -50%)",outline:"none",backgroundColor:e.palette.background.paper,borderRadius:5,gap:5},content:{overflow:"hidden",overflowY:"auto",flex:1},small:{top:"40%",left:"50%",maxHeight:"80%",width:500},large:{top:"50%",left:"50%",width:"calc(100vw - 50px)",height:"calc(100vh - 50px)"},container:{flex:1,overflow:"hidden"},title:{display:"flex",justifyContent:"space-between",alignItems:"center",height:65,color:e.palette.text.primary},submit:{marginTop:15},disabled:{opacity:.5,pointerEvents:"none"},indicatorTransparent:{height:6,background:e.palette.primary.main},tabRootTransparent:{minHeight:54,height:54},tabsRoot:{minHeight:54,height:54,marginLeft:"0 !important",marginRight:"0 !important"}}})),Lh=[{type:Ct.Compute,compute:function(e){return e.title||"Не указано"},field:"title",headerName:"Наименование",width:function(){return 200}},{type:Ct.Compute,compute:function(e){return e.comment||"Не указано"},field:"comment",headerName:"Комментарий",width:function(e){return Math.max(e-300,200)}},{type:Ct.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],Ih=[{type:At.Add,isDisabled:function(e,t){return!t.permissions.hasSettingsCreateRolePermission}},{type:At.Menu,options:[{action:"add-action",isDisabled:function(e,t){return!t.permissions.hasSettingsCreateRolePermission}},{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],Bh=[{label:"Удалить",action:"remove-action",icon:jt}],jh=function(){return window.innerHeight-160},Dh=[{id:"common",element:function(e){var t=e.payload,n=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.settingsViewService.getValue();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(e){var n,a=Tr({waitForChangesDelay:qa,history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},updateSubject:Xl.settingsViewService.updateSubject,onSave:(n=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.prev=1,e.next=4,Xl.settingsViewService.setValue(t);case 4:Xl.alertService.notify("Изменения сохранены"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),n=!1,a=Eu(e.t0),Xl.alertService.notify(a);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[1,7]])}))),function(e){return n.apply(this,arguments)}),fallback:Xl.errorService.handleGlobalError}),o=a.data,l=a.oneProps,s=a.beginSave,c=a.waitForChanges;bh(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:s();case 3:case"end":return e.stop()}}),e)}))));return ve(ct,{children:[ve(Qe,{items:kh,onAction:function(e){"save-action"===e&&s()},payload:{hasChanged:!!o,payload:t}}),ve(et,u({dirty:!0,handler:function(){return e.data},payload:t,fields:gh},l)),ve(nt,{})]})};return ve(Gn,{state:n,fallback:Xl.errorService.handleGlobalError,children:function(e){var t=l(e,1)[0];return ve(a,{data:t})}})},isActive:function(e){return rs(["/settings","/settings/common"],e)},isAvailable:function(){return!1}},{id:"roles",element:function(e){var t,n=e.payload,a=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),o=function(e){var t=e.fullScreen,n=e.onChange,a=e.onSubmit,o=e.fallback,s=e.onLoadStart,c=e.onLoadEnd,p=l(ye.useState("common"),2),m=p[0],f=p[1],y=l(ye.useState({}),2),h=y[0],v=y[1],b=l(ye.useState(!1),2),_=b[0],g=b[1],k=l(ye.useState(!1),2),x=k[0],w=k[1],S=l(ye.useState(!1),2),z=S[0],T=S[1],A=l(ye.useState(0),2),F=A[0],C=A[1],V=Mh(),M=V.classes,L=V.cx;Ht((function(){n&&n(h)}),[h]);var I=function(e,t){t||(v(e),T(!0),g(!1))},B=function(){v({}),w(!1),T(!1)},j=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=3;break}return e.next=3,a(h);case 3:w(!1),T(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){C((function(e){return e+1})),s&&s()},R=function(e){C((function(e){return e-1})),c&&c(e)};return{render:function(){var e;return ve(Ve,{open:x,onClose:B,children:ve(ge,{className:L(M.root,(e={},d(e,M.small,!t),d(e,M.large,t),e)),children:[ve(ge,{className:M.content,children:[ve(ge,{className:M.title,sx:{position:"sticky",top:0,zIndex:1,background:"white"},children:ve(je,{variant:"h6",component:"h2",children:h.id?"Редактирование роли":"Создание роли"})}),ve($t,{value:m,children:[ve(ge,{className:M.container,sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all",position:"sticky",top:"65px",zIndex:1,background:"white"},children:ve(Gt,{variant:"fullWidth",classes:{root:M.tabsRoot,indicator:M.indicatorTransparent},onChange:function(e,t){f(t),g(!1)},children:[ve(Yt,{classes:{root:M.tabRootTransparent},label:"Общая информация",value:"common"}),ve(Yt,{classes:{root:M.tabRootTransparent},label:"Бизнес функции",value:"features"})]})}),ve(Zt,{className:M.content,value:"common",children:ve(et,{sx:{pt:2},handler:h,fields:Ch,change:I,invalidity:function(){return g(!0)}})}),ve(Zt,{className:M.content,value:"features",children:ve(Ar,{sx:{pt:2},readonly:_,features:Vh,outlinePaper:!0,handler:function(){return h.role_features?h.role_features.reduce((function(e,t){return u(u({},e),{},d({},t,!0))}),{}):{}},change:function(e,t){if(e&&!t){var n=Object.entries(e).filter((function(e){var t=l(e,2);return t[0],!!t[1]})).map((function(e){return l(e,1)[0]}));v((function(e){return u(u({},e),{},{role_features:n})})),T(!0)}}})})]})]}),ve(st,{className:M.submit,disabled:!!F||!z||_,fallback:o,onLoadStart:D,onLoadEnd:R,size:"large",variant:"contained",color:"info",fullWidth:!0,onClick:j,children:h.id?"Сохранить":"Создать"})]})})},pickRole:function(e){v(e),w(!0)}}}({onLoadStart:a.handleLoadStart,onLoadEnd:a.handleLoadEnd,onSubmit:(t=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=6;break}return e.next=3,Xl.roleViewService.update(t.id,t);case 3:return Xl.alertService.notify("Изменения сохранены"),p.next(),e.abrupt("return");case 6:return e.next=8,Xl.roleViewService.create(t);case 8:Xl.alertService.notify("Роль создана"),p.next();case 10:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),fullScreen:!0}),s=o.pickRole,c=o.render,p=he(Xl.roleViewService.reloadSubject),m=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,f=Xt(Xl.roleViewService.findAll,{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError,searchEntries:["title","comment"]}),y=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"add-action"===t&&s({});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=i(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("remove-action"!==t){e.next=3;break}return e.next=3,Xl.roleViewService.remove(n.id);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:e.sent.hasSettingsEditRolePermission&&s(t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ve(Le,{children:[ve(vn,u({withSingleSort:!0,withSearch:!0,fetchDebounce:Ra,reloadSubject:p,title:"Роли",heightRequest:jh,rowActions:Bh,actions:Ih,columns:Lh,handler:f,payload:n,onRowClick:v,onAction:y,onRowAction:h,selectionMode:dn.Multiple},m)),c()]})},isActive:function(e){return rs(["/settings/roles"],e)},isAvailable:function(){return!1}},{id:"integration",element:function(e){var t=e.payload,n=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.settingsViewService.getValue();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(e){var n,a=Tr({waitForChangesDelay:qa,history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},updateSubject:Xl.settingsViewService.updateSubject,onSave:(n=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.prev=1,e.next=4,Xl.settingsViewService.setValue(t);case 4:Xl.alertService.notify("Изменения сохранены"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),n=!1,a=Eu(e.t0),Xl.alertService.notify(a);case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,null,[[1,7]])}))),function(e){return n.apply(this,arguments)}),fallback:Xl.errorService.handleGlobalError}),o=a.data,l=a.oneProps,s=a.beginSave,c=a.waitForChanges;bh(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:s();case 3:case"end":return e.stop()}}),e)}))));return ve(ct,{children:[ve(Qe,{items:Fh,onAction:function(e){"save-action"===e&&s()},payload:{hasChanged:!!o,payload:t}}),ve(et,u({dirty:!0,handler:function(){return e.data},payload:t,fields:xh},l)),ve(nt,{})]})};return ve(Gn,{state:n,fallback:Xl.errorService.handleGlobalError,children:function(e){var t=l(e,1)[0];return ve(a,{data:t})}})},isActive:function(e){return rs(["/settings/integration"],e)},isAvailable:function(){return!1}}],Rh=function(){var e,t=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.settingsViewService.getMasterDetailMode();case 2:return e.t0=e.sent,e.next=5,Xl.permissionService.getPermissions();case 5:return e.t1=e.sent,e.next=8,Xl.featureService.getAccessLevel();case 8:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ve(Gn,{state:t,reloadSubject:Xl.layoutService.reloadOutletSubject,fallback:Xl.errorService.handleGlobalError,children:(e=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,3),a=n[0],i=n[1],o=n[2],e.abrupt("return",ve(bn,{history:Xl.routerService,routes:Dh,payload:function(){return{menuMode:a,permissions:i,accessLevel:o}}}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})},qh=al()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",minHeight:150},box:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(1),flex:1},box_list:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid gray",width:"100%",gap:"10px"},created_time:{alignSelf:"flex-start"},key:{color:"grey",fontSize:"14px"},value:{textAlign:"end",fontSize:"15px"},btn:{borderRadius:"25px"},adjust:{maxHeight:10,minHeight:10,flex:1}}})),Ph=ye.forwardRef((function(e,t){var n=e.id,a=e.className,o=e.style,u=e.completionTime,s=e.fromWhom,c=e.toWhom,p=e.task,d=e.createdDate,m=e.contact,f=e.type,y=e.status,h=e.isCall,v=e.isMeet,b=e.contact_id,_=e.onChangeStatus,g=e.onDrag,k=qh().classes,x=l(ye.useState(null),2),w=x[0],S=x[1],z=l(ye.useState(null),2),T=z[0],A=z[1],F=He(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError}),C=F.execute,V=F.loading,M=ye.useMemo((function(){var e=Tu.findIndex((function(e){return e===y})),t=Tu.filter((function(t,n){return n<e})).filter((function(e){return"Просрочено"!==e})).filter((function(e){return"Выполненные задачи"!==e})).reverse();return t.push("Просрочено"),t.push("Выполненные задачи"),t}),[y]),L=ye.useMemo((function(){var e=Tu.findIndex((function(e){return e===y})),t=Tu.filter((function(t,n){return n>e})).filter((function(e){return"Просрочено"!==e})).filter((function(e){return"Выполненные задачи"!==e}));return t.push("Просрочено"),t.push("Выполненные задачи"),t}),[y]),I=ye.useMemo((function(){return"Выполненные задачи"===y||"Просрочено"===y}),[y]);return ve("div",{"data-dealid":n,className:ke(k.root,a),onDrag:function(){return g(n)},style:o,ref:t,draggable:!I,children:[ve(it,"Клиент"===f?{className:k.box,children:[ve(Me,{justifyContent:"space-between",alignItems:"center",direction:"row",width:"100%",children:[ve(Ae,{onClick:function(e){var t=e.currentTarget;S(t),A(null)},disabled:!M.length||V||I,size:"small",children:ve(Ce,{})}),ve(yr,{anchorEl:w,open:!!w,onClose:function(){return S(null)},children:M.map((function(e,t){return ve(hr,{onClick:function(){C(e),S(null)},children:e},"".concat(e,"-").concat(t))}))}),ve(Fn,{label:u,variant:"filled",color:"primary"}),ve(Ae,{onClick:function(e){var t=e.currentTarget;S(null),A(t)},disabled:!L.length||V||I,size:"small",children:ve(Fe,{})}),ve(yr,{anchorEl:T,open:!!T,onClose:function(){return A(null)},children:L.map((function(e,t){return ve(hr,{onClick:function(){C(e),A(null)},children:e},"".concat(e,"-").concat(t))}))})]}),ve(ge,{className:k.box_list,children:[ve(je,{className:k.key,children:"Кому:"}),ve(je,{className:k.value,children:c})]}),ve(ge,{className:k.box_list,children:[ve(je,{className:k.key,children:"Контакт:"}),ve(je,{className:k.value,children:ve(sn,{href:"#",onClick:function(){return ue("/contact_view/".concat(b,"/contact"))},children:m})})]}),ve(ge,{sx:{display:v||v?"flex":"none",justifyContent:"space-around",gap:"10px",margin:"10px 0",width:"100%"},children:[ve(Fn,{label:"Встреча",color:"info",sx:{opacity:v?1:0}}),ve(Fn,{label:"Звонок",color:"warning",sx:{opacity:h?1:0}})]}),ve(ge,{className:k.created_time,children:[ve(je,{className:k.key,children:"Дата создания:"}),ve(je,{className:k.value,children:d})]})]}:{className:k.box,children:[ve(Me,{justifyContent:"space-between",alignItems:"center",direction:"row",width:"100%",children:[ve(Ae,{onClick:function(e){var t=e.currentTarget;S(t),A(null)},disabled:!M.length||V||I,size:"small",children:ve(Ce,{})}),ve(yr,{anchorEl:w,open:!!w,onClose:function(){return S(null)},children:M.map((function(e,t){return ve(hr,{onClick:function(){C(e),S(null)},children:e},"".concat(e,"-").concat(t))}))}),ve(Fn,{label:u,variant:"filled",color:"primary"}),ve(Ae,{onClick:function(e){var t=e.currentTarget;S(null),A(t)},disabled:!L.length||V||I,size:"small",children:ve(Fe,{})}),ve(yr,{anchorEl:T,open:!!T,onClose:function(){return A(null)},children:L.map((function(e,t){return ve(hr,{onClick:function(){C(e),A(null)},children:e},"".concat(e,"-").concat(t))}))})]}),ve(ge,{className:k.box_list,children:[ve(je,{className:k.key,children:"От кого:"}),ve(je,{className:k.value,children:s})]}),ve(ge,{className:k.box_list,children:[ve(je,{className:k.key,children:"Кому:"}),ve(je,{className:k.value,children:c})]}),ve(ge,{className:k.box_list,children:[ve(je,{className:k.key,children:"Задача:"}),ve(je,{className:k.value,children:p})]}),ve(ge,{className:k.created_time,children:[ve(je,{className:k.key,children:"Дата создания:"}),ve(je,{className:k.value,children:d})]})]}),ve("div",{className:k.adjust})]})})),Eh=[{type:o.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr auto auto","& > .MuiGrid-root":{minWidth:"275px"},mt:-1},fields:[{type:o.Choose,fieldBottomMargin:"0",fieldRightMargin:"2",choose:(Ah=i(r().mark((function e(t,n){var a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.pickData(t.user_id?[t.user_id]:[]),e.next=3,n.resultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=l(a,1),o=i[0],e.abrupt("return",o);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return Ah.apply(this,arguments)}),tr:(Th=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(t);case 2:return n=e.sent,e.abrupt("return",[null==n?void 0:n.last_name,null==n?void 0:n.first_name,null==n?void 0:n.middle_name].filter((function(e){return e})).join(" ")||(null==n?void 0:n.$id)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return Th.apply(this,arguments)}),name:"user_id",placeholder:"Ответственный",title:""},{type:o.Combo,fieldBottomMargin:"0",fieldRightMargin:"5",name:"task_type",title:"",placeholder:"Тип задачи",itemList:[].concat(["Внутренняя","Клиент"])},{type:o.Div},{type:o.Component,fieldRightMargin:"2",sx:{maxWidth:"185px 1important",minWidth:"185px !important"},element:function(e){var t=e.payload.onCreateTask;return ve(st,{sx:{mt:1,mr:1,whiteSpace:"nowrap"},onClick:t,size:"small",variant:"contained",children:"Создать задачу"})}},{type:o.Text,fieldBottomMargin:"0",name:"search",title:"",placeholder:"Поиск",leadingIcon:vr,trailingIcon:function(){return ve(mn,{sx:{opacity:.5}})},trailingIconClick:function(e,t,n){e&&n("")}}]}],Nh=function(e){var t=e.onChange,n=e.onCreateTask,r=e.className,a=e.style,i=e.data,o=e.payload,l=pc({payload:o}),s=l.pickData,c=l.render,p=l.resultSubject;return ve(it,{className:r,style:a,sx:{mb:1,minHeight:48},children:[ve(un,{sx:{height:"100%"},hideOverflowY:!0,children:ve(ge,{sx:{p:1,display:"flex",alignItems:"center",justifyContent:"stretch"},children:ve(et,{fields:Eh,handler:function(){return i},onChange:function(e,n){n||t(e)},payload:function(){return u(u({},o),{},{pickData:s,resultSubject:p,onCreateTask:n})},fieldDebounce:Ra})})}),c()]})},Oh=function(){var e=i(r().mark((function e(t){var n,a,i,o,u,l,s,c,p,d,m,f,y,v,b,_,g,k,x,w,S;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.moment_stamp,t.from_user_id,a=t.to_user_id,i=t.contact_id,o=t.from_user_fio,u=t.to_user_fio,l=t.contact_fio,s=t.title,c=t.$createdAt,p=t.$updatedAt,d=t.is_call,m=t.is_meet,f=t.time_stamp,y=t.$id,v=t.type,b=h(c).format("HH:mm DD/MM/YYYY"),_=o||"Не указано",g=u||"Не указано",k="Не указано",x=l||"Не указано",w="Не указано",e.next=9,Cu(t);case 9:if(null!==(S=e.sent)){e.next=12;break}return e.abrupt("return",null);case 12:return n&&(w=Gi(n).format("DD/MM/YYYY")),n&&"number"==typeof f&&(w+=" ",w+=Yi(f).format("HH:mm")),s&&(k=s),e.abrupt("return",{id:y,type:v,completionTime:w,fromWhom:_,toWhom:g,task:k,metadata_task:k,createdDate:b,updatedAt:p,metadata_created_at:h(c).format("DD/MM/YYYY"),metadata_updated_at:h(p).format("DD/MM/YYYY"),moment_stamp:n,toUserId:a,isCall:d,isMeet:m,contact_id:i,time_stamp:f,status:S,contact:x});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Uh=[{type:o.Group,fieldBottomMargin:"0",fieldRightMargin:"0",noBaseline:!0,fields:[{type:o.Component,sx:{mb:-1},element:function(){return ve(je,{variant:"caption",sx:{opacity:.8},children:"Перенос с"})}},{type:o.Group,fieldRightMargin:"0",fieldBottomMargin:"1",fields:[{type:o.Text,fieldBottomMargin:"0",columns:"6",compute:function(e){var t=e.fromStatus;return"Выполненные задачи"===t||"Просрочено"===t||"Новые задачи"===t?t:Gi(e.fromStamp||Wi()).format("DD/MM/YYYY")}},{type:o.Time,sx:{pointerEvents:"none",opacity:.5},fieldBottomMargin:"0",columns:"6",compute:function(e){var t=e.fromTimeStamp;return"number"==typeof t?Yi(t).format("HH:mm"):null},title:"",placeholder:"Не указано"}]},{type:o.Component,sx:{mb:-1},element:function(){return ve(je,{variant:"caption",sx:{opacity:.8},children:"Перенос на"})}},{type:o.Group,fieldRightMargin:"0",fieldBottomMargin:"1",fields:[{type:o.Text,fieldBottomMargin:"0",columns:"6",compute:function(e){var t=e.toStatus;return"Выполненные задачи"===t||"Просрочено"===t||"Новые задачи"===t?t:Gi(G.get(Au,t)||Wi()).format("DD/MM/YYYY")}},{type:o.Time,fieldBottomMargin:"0",columns:"6",name:"time_stamp",title:"",placeholder:"Не указано"}]}]},{type:o.Text,name:"comment",title:"",placeholder:"Комментарий",inputRows:3}],Hh=al()((function(e){return{root:d({display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",height:"calc(100vh - 85px)",width:"100%"},"& .".concat("react-declarative__scrollViewTarget"),{transform:"rotateX(180deg)","& > div > div":{marginBottom:"25px",transform:"rotateX(180deg)"}}),container:{position:"relative",flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flex:1,display:"flex"},group:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",maxWidth:"276px",minWidth:"276px",gap:10,padding:10,marginRight:10},inactiveGroup:{background:fe("#000",.03)},activeGroup:{background:fe(e.palette.primary.main,.5)},list:{flex:1,minWidth:"256px",height:"100%"},loading:{pointerEvents:"none"}}})),Wh=["fromWhom","toWhom","task","contact","type","metadata_created_at","metadata_updated_at","metadata_task"],$h={user_id:"",tip_klienta:null,search:""},Gh=[{id:"list",element:function(e){var t=e.params.dealCardMap,n=e.payload,a=Hh().classes,o=l(br($h),2),s=o[0],c=o[1],p=l(_r((function(){return{user_id:s.user_id,tip_klienta:JSON.parse(s.tip_klienta),search:s.search}})),2),m=p[0],f=p[1];Ht((function(){c(m.current)}),[m.current]);var v=l(ye.useState((function(){return new Map(t)})),2),b=v[0],_=v[1],g=function(e){var t=e.payload,n=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),a=n.handleLoadStart,o=n.handleLoadEnd,u=Ke({payload:t,fields:Uh}),l=He(function(){var e=i(r().mark((function e(t){var n,a,i,o,l,s,c,p,d,m,f,y,h,v,b,_;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fromStamp,a=t.toStatus,i=t.fromStatus,o=t.fromTimeStamp,l=t.type,s=t.id,c=t.call,p=t.meet,e.next=3,u({title:"Перенос задачи",handler:function(){return{fromStamp:n,toStatus:a,fromStatus:i,fromTimeStamp:o,time_stamp:"number"==typeof o?Yi(o).format("HH:mm"):null}}}).toPromise();case 3:if(!(d=e.sent)){e.next=19;break}return e.next=7,Xl.taskViewService.read(s);case 7:if(f=e.sent,y=f.to_user_id,h=f.title,v=f.contact_id,b=G.get(Au,a)||null,_="number"==typeof d.time_stamp&&(null===(m=vt.parseTime(d.time_stamp))||void 0===m?void 0:m.toStamp())||null,"Внутренняя"!==l){e.next=16;break}return e.next=16,Xl.taskRequestService.updateTodoTask(s,y,i,b,_,"Выполненные задачи"===a,h,d.comment);case 16:if("Клиент"!==l){e.next=19;break}return e.next=19,Xl.taskRequestService.updateClientTask(s,y,i,v,b,_,"Выполненные задачи"===a,c,p,h,d.comment);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:a,onLoadEnd:o,fallback:Xl.errorService.handleGlobalError}),s=l.execute;return function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({payload:n}),k=Gy({payload:n}),x=k.execute,w=k.render,S=ye.useMemo((function(){var e,t=[],n=y(b.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(a){n.e(a)}finally{n.f()}return t.flatMap((function(e){return e}))}),[b]),z=An(b),T=ye.useRef(null),A=l(ye.useState(null),2),F=A[0],C=A[1],V=function(){var e=i(r().mark((function e(t,n){var a,i,o,u,l,s,c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.find((function(e){return e.id===t}))){e.next=3;break}return e.abrupt("return");case 3:if(i=a.status,o=a.type,u=a.moment_stamp,l=a.time_stamp,s=a.isCall,c=a.isMeet,i!==n){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,g({id:t,type:o,fromStamp:u,toStatus:n,fromTimeStamp:l,fromStatus:i,call:!!s,meet:!!c});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),M=He(function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,1),a=n[0],C(null),e.next=4,V(T.current,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError}),L=M.loading,I=M.execute;ye.useEffect((function(){return Xl.taskViewService.updateSubject.subscribe(K(function(){var e=i(r().mark((function e(t){var n,a,i,o,u,s,c,p,d,m,f,y,h,v;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=l(t,2),a=n[0],i=n[1],o=new Map(z.current),u=0,s=Tu;u<s.length;u++)c=s[u],p=o.get(c)||[],o.set(c,p.filter((function(e){return e.id!==a})));return e.next=5,Cu(i);case 5:d=e.sent,m=0,f=Tu;case 7:if(!(m<f.length)){e.next=19;break}if((y=f[m])!==d){e.next=16;break}return h=o.get(y)||[],e.next=13,Oh(i);case 13:(v=e.sent)&&h.unshift(v),o.set(y,h);case 16:m++,e.next=7;break;case 19:_(o);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),ye.useEffect((function(){return Xl.taskViewService.removeSubject.subscribe(K(function(){var e=i(r().mark((function e(t){var n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new Map(z.current),a=0,i=Tu;a<i.length;a++)o=i[a],u=n.get(o)||[],n.set(o,u.filter((function(e){return e.id!==t})));_(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),ye.useEffect((function(){return Xl.taskViewService.createSubject.subscribe(K(function(){var e=i(r().mark((function e(t){var n,a,i,o,u,l,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map(z.current),e.next=3,Cu(t);case 3:a=e.sent,i=0,o=Tu;case 5:if(!(i<o.length)){e.next=18;break}if((u=o[i])!==a){e.next=15;break}return l=(l=n.get(u)||[]).filter((function(e){return e.id!==t.$id})),e.next=12,Oh(t);case 12:null!==(s=e.sent)&&l.unshift(s),n.set(u,l);case 15:i++,e.next=5;break;case 18:_(n);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]);var B=L;return ve(ge,{className:ke(a.root,d({},a.loading,B)),children:[ve(Nh,{data:m.current,payload:n,onChange:f,onCreateTask:x}),ve(ge,{className:a.container,children:[ve(un,{withScrollbar:!0,hideOverflowY:!0,className:a.content,children:Tu.map((function(e){var t,n=z.current.get(e)||[];return ve(ge,{onDrop:function(t){var n=t.currentTarget;return I([e,n])},onDragEnd:function(){C(null)},onDragOver:function(t){C(e),t.preventDefault()},className:ke(a.group,(t={},d(t,a.activeGroup,F===e),d(t,a.inactiveGroup,F!==e),t)),children:[ve(je,{variant:"h6",fontWeight:"bold",children:e}),ve(yt,{className:a.list,minRowHeight:150,children:n.sort((function(e,t){var n=e.updatedAt,r=t.updatedAt;return h(n).isBefore(r)?1:-1})).filter((function(e){var t=m.current.user_id;return!t||e.toUserId===t})).filter((function(e){var t=m.current.task_type;return null==t||!t.length||e.type===t[0]})).filter((function(e){var t=m.current.search;return console.log({search:t}),!t||gr.apply(void 0,[e,t].concat(Wh))})).map((function(e){return ve(Ph,u({onChangeStatus:(t=i(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e.id,n);case 2:case"end":return t.stop()}}),t)}))),function(e){return t.apply(this,arguments)}),onDrag:function(){T.current=e.id}},e),e.id);var t}))})]})}))}),w()]})]})},isActive:function(e){return rs(["/task"],e)},isAvailable:function(){return!1}}],Yh=function(){var e=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Map,e.next=3,Promise.all(Tu.map(function(){var e=i(r().mark((function e(n){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.taskViewService.findByTaskStatus(n);case 2:return a=e.sent,e.next=5,Promise.all(a.map(function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oh(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=e.sent,t.set(n,o.filter((function(e){return null!==e})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Kh=[{id:"user",label:"Общая информация",isActive:function(){return rs(["/user_edit/:id","/user_edit/:id/user"])}},{id:"additional_info",label:"Дополнительная информация",isActive:function(){return rs(["/user_edit/:id","/user_edit/:id/additional_info"])}},{id:"features",label:"Бизнес-функции",isActive:function(){return rs(["/user_edit/:id/features"])}},{id:"files",label:"Файлы",isActive:function(){return rs(["/user_edit/:id/files"])}}],Zh=function(e,t){if(!t){var n=Ql("id");"user"===e&&Xl.routerService.replace("/user_edit/".concat(n,"/user")),"additional_info"===e&&Xl.routerService.replace("/user_edit/".concat(n,"/additional_info")),"files"===e&&Xl.routerService.replace("/user_edit/".concat(n,"/files")),"features"===e&&Xl.routerService.replace("/user_edit/".concat(n,"/features"))}},Xh=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?W.Paper:r,i=ye.useMemo((function(){return"tabs"===a?W.Tabs:W.Paper}),[a]);return ve($e,{withFixedPos:!0,payload:n,fixedPosHeaderAdjust:a===W.Paper?85:64,mode:i,options:Kh,onActiveOptionChange:Zh,children:t})},Jh=[{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Паспортные данные"},{type:o.Text,columns:"6",outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:o.Date,columns:"6",outlined:!1,name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:o.Text,columns:"6",outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:o.Text,columns:"6",outlined:!1,name:"adres_propiski",title:"Адрес прописки"},{type:o.Text,columns:"6",outlined:!1,name:"adres_prozhivaniya",title:"Адрес проживания"}]},{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Дополнительно"},{type:o.Text,columns:"6",outlined:!1,inputRows:3,name:"o_sebe",title:"О себе"},{type:o.Text,columns:"6",outlined:!1,inputRows:3,name:"hobbi",title:"Хобби"}]},{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Социальные сети"},{type:o.Text,columns:"6",outlined:!1,name:"telegram",title:"Telegram"},{type:o.Text,columns:"6",outlined:!1,name:"fejsbuk",title:"Facebook"},{type:o.Text,columns:"6",outlined:!1,name:"instagram",title:"Instagram"},{type:o.Text,columns:"6",outlined:!1,name:"vatsap",title:"WhatsApp"},{type:o.Text,columns:"6",outlined:!1,name:"v_kontakte",title:"VK"},{type:o.Text,columns:"6",outlined:!1,name:"zum",title:"ZOOM"}]},{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Дополнительные сведения"},{type:o.Group,fields:[{type:o.Group,columns:"6",fields:[{type:o.Component,element:function(){return ve(je,{children:"Дети"})}},{type:o.Group,child:{type:o.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:o.Radio,name:"deti",radioValue:"д",title:"Да"},{type:o.Radio,name:"deti",radioValue:"н",title:"Нет"}]}},{type:o.Group,columns:"12",fields:[{type:o.Combo,fieldRightMargin:"4",columns:"6",outlined:!1,name:"semejnoe_polozhenie",title:"Семейное положение",itemList:["Не выбрано","Холост/не замужем","Женат/замужем","Гражданский брак","Разведен(а)"]},{type:o.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_priema_rezyume",title:"Дата приема резюме"},{type:o.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"sertifikat",title:"Сертификат"},{type:o.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"nachalo_opyta_raboty",title:"Начало опыта работы"},{type:o.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_uvolneniya",title:"Дата увольнения"},{type:o.Text,outlined:!1,inputRows:3,name:"prichina_uvolneniya",title:"Причина увольнения"}]}]}]}]}];window.user_additional_info_fields=Jh;var Qh,ev,tv=[{type:Ye.Link,action:"user-list-action",label:"Список сотрудников"},{type:Ye.Link,action:"user-list-action",label:"Настройки сотрудника"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"user-save-action",label:"Сохранить"}],nv=[{id:"user",label:"Общая информация",isActive:function(){return rs(["/user_view/:id","/user_view/:id/user"])}},{id:"additional_info",label:"Дополнительная информация",isActive:function(){return rs(["/user_view/:id","/user_view/:id/additional_info"])}},{id:"features",isDisabled:function(e){return!e.permissions.hasUsersAccessLevelsPermission},label:"Бизнес-функции",isActive:function(){return rs(["/user_view/:id/features"])}},{id:"files",label:"Файлы",isActive:function(){return rs(["/user_view/:id/files"])}}],rv=function(e,t){if(!t){var n=Ql("id");"user"===e&&Xl.routerService.replace("/user_view/".concat(n,"/user")),"additional_info"===e&&Xl.routerService.replace("/user_view/".concat(n,"/additional_info")),"features"===e&&Xl.routerService.replace("/user_view/".concat(n,"/features")),"files"===e&&Xl.routerService.replace("/user_view/".concat(n,"/files"))}},av=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?W.Paper:r,i=ye.useMemo((function(){return"tabs"===a?W.Tabs:W.Paper}),[a]);return ve($e,{withFixedPos:!0,payload:n,fixedPosHeaderAdjust:a===W.Paper?85:64,mode:i,options:nv,onActiveOptionChange:rv,children:t})},iv=[{type:o.Paper,isVisible:function(e){return us(e,"seriya-i-nomer_pasporta","data-vydachi_pasporta","kem_vydan","adres_propiski","adres_prozhivaniya")},fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Паспортные данные"},{type:o.Text,isVisible:function(e){return us(e,"seriya-i-nomer_pasporta")},columns:"6",outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:o.Text,isVisible:function(e){return us(e,"data-vydachi_pasporta")},columns:"6",outlined:!1,name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:o.Text,isVisible:function(e){return us(e,"kem_vydan")},columns:"6",outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:o.Text,isVisible:function(e){return us(e,"adres_propiski")},columns:"6",outlined:!1,name:"adres_propiski",title:"Адрес прописки"},{type:o.Text,isVisible:function(e){return us(e,"adres_prozhivaniya")},columns:"6",outlined:!1,name:"adres_prozhivaniya",title:"Адрес проживания"}]},{type:o.Paper,isVisible:function(e){return us(e,"o_sebe","hobbi")},fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Дополнительно"},{type:o.Text,isVisible:function(e){return us(e,"o_sebe")},columns:"6",outlined:!1,inputRows:3,name:"o_sebe",title:"О себе"},{type:o.Text,isVisible:function(e){return us(e,"hobbi")},columns:"6",outlined:!1,inputRows:3,name:"hobbi",title:"Хобби"}]},{type:o.Paper,isVisible:function(e){return us(e,"telegram","fejsbuk","instagram","vatsap","v_kontakte","zum")},fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Социальные сети"},{type:o.Text,isVisible:function(e){return us(e,"telegram")},columns:"6",outlined:!1,name:"telegram",title:"Telegram"},{type:o.Text,isVisible:function(e){return us(e,"fejsbuk")},columns:"6",outlined:!1,name:"fejsbuk",title:"Facebook"},{type:o.Text,isVisible:function(e){return us(e,"instagram")},columns:"6",outlined:!1,name:"instagram",title:"Instagram"},{type:o.Text,isVisible:function(e){return us(e,"vatsap")},columns:"6",outlined:!1,name:"vatsap",title:"WhatsApp"},{type:o.Text,isVisible:function(e){return us(e,"v_kontakte")},columns:"6",outlined:!1,name:"v_kontakte",title:"VK"},{type:o.Text,isVisible:function(e){return us(e,"zum")},columns:"6",outlined:!1,name:"zum",title:"ZOOM"}]},{type:o.Paper,isVisible:function(e){return us(e,"deti","semejnoe_polozhenie","data_priema_rezyume","sertifikat","nachalo_opyta_raboty","data_uvolneniya","prichina_uvolneniya")},fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Дополнительные сведения"},{type:o.Group,fields:[{type:o.Group,isVisible:function(e){return us(e,"deti")},columns:"6",fields:[{type:o.Component,element:function(){return ve(je,{children:"Дети"})}},{type:o.Group,child:{type:o.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:o.Radio,isVisible:function(e){return us(e,"deti")},name:"deti",radioValue:"д",title:"Да"},{type:o.Radio,isVisible:function(e){return us(e,"deti")},name:"deti",radioValue:"н",title:"Нет"}]}},{type:o.Group,columns:"12",fields:[{type:o.Text,isVisible:function(e){return us(e,"semejnoe_polozhenie")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"semejnoe_polozhenie",title:"Семейное положение"},{type:o.Text,isVisible:function(e){return us(e,"data_priema_rezyume")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_priema_rezyume",title:"Дата приема резюме"},{type:o.Text,isVisible:function(e){return us(e,"sertifikat")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"sertifikat",title:"Сертификат"},{type:o.Text,isVisible:function(e){return us(e,"nachalo_opyta_raboty")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"nachalo_opyta_raboty",title:"Начало опыта работы"},{type:o.Text,isVisible:function(e){return us(e,"data_uvolneniya")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_uvolneniya",title:"Дата увольнения"},{type:o.Text,isVisible:function(e){return us(e,"prichina_uvolneniya")},outlined:!1,inputRows:3,name:"prichina_uvolneniya",title:"Причина увольнения"}]}]}]}]}],ov=[{type:Ye.Link,action:"user-list-action",label:"Список сотрудников"},{type:Ye.Link,action:"user-list-action",label:"Дополнительная информация сотрудника"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasUsersUpdatePermission},action:"user-edit-action",label:"Редактировать"}],uv=[{type:Ye.Link,action:"user-list-action",label:"Список сотрудников"},{type:Ye.Link,action:"user-list-action",label:"Функции сотрудника"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"user-save-action",label:"Сохранить"}],lv=[{type:Ye.Link,action:"user-list-action",label:"Список сотрудников"},{type:Ye.Link,action:"user-list-action",label:"Бизнес-Функции сотрудника"},{type:Ye.Button,action:"user-edit-action",label:"Редактировать"}],sv=[{type:Ye.Link,action:"user-list-action",label:"Список сотрудников"},{type:Ye.Link,action:"user-list-action",label:"Файлы сотрудника"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"user-save-action",label:"Сохранить"}],cv=[{type:Ye.Link,action:"user-list-action",label:"Список сотрудников"},{type:Ye.Link,action:"user-list-action",label:"Файлы сотрудника"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasUsersUpdatePermission},action:"user-edit-action",label:"Редактировать"}],pv=me.createLoader(28),dv=[{type:o.Text,outlined:!0,name:"email",title:"Email"},{type:o.Text,outlined:!0,name:"phone",title:"Телефон"}],mv=[{type:Ct.Component,headerName:"Аватар",sortable:!1,width:function(){return 65},element:function(e){var t,n=e.avatar,a=e.email;return ve(we,{Loader:pv,children:(t=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,Xl.appwriteService.getImageURL(n);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:return t=e.t0,e.abrupt("return",ve(ge,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:ve(St,{src:t||void 0,alt:a})}));case 9:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)})})}},{type:Ct.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ve(Vt,{content:t})},width:function(){return 100}},{type:Ct.Compute,sortable:!1,headerName:"Имя",compute:function(e){var t=e.last_name,n=void 0===t?"":t,r=e.first_name,a=void 0===r?"":r,i=e.middle_name;return[n,a,void 0===i?"":i].filter((function(e){return e.length})).join(" ")||""},width:function(e){return Math.max((e-265)/3,200)}},{type:Ct.Compute,isVisible:function(e){var t=e.payload.permissions;return re(t.hasContactNumberPermission,t.hasUsersViewPhoneAndEmailPermission)},sortable:!1,compute:function(e){return e.rabochij_telefon||""},field:"rabochij_telefon",headerName:"Рабочий телефон",width:function(e){return Math.max((e-265)/3,200)}},{type:Ct.Compute,sortable:!1,compute:function(e){return e.email||""},isVisible:function(e){var t=e.payload.permissions;return re(t.hasContactEmailPermission,t.hasUsersViewPhoneAndEmailPermission)},field:"email",headerName:"Email",width:function(e){return Math.max((e-265)/3,200)}},{type:Ct.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],fv=[{type:At.Menu,options:[{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],yv=[{label:"Редактировать",isDisabled:function(e,t){return!t.permissions.hasUsersUpdatePermission},action:"edit-action"}],hv=function(){return window.innerHeight-70},vv=al()((function(e){return{root:{alignItems:"center",display:"flex"},avatar:{height:64,marginRight:e.spacing(2),width:64},avatarWrapper:{height:"100%",minWidth:60},content:{width:"100%"}}})),bv=me.createLoader(24),_v=function(e){var t,n,a=e.readonly,o=e.avatar,u=e.email,l=e.onChange,s=vv().classes;return ve(ge,{className:s.root,children:[ve(ge,{className:s.avatarWrapper,children:ve(we,{payload:o,Loader:bv,children:(n=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,Xl.appwriteService.getImageURL(t);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return n=e.t0,e.abrupt("return",ve(St,{alt:u,src:n,className:s.avatar}));case 9:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})}),ve("div",{className:s.content,children:[ve(Cr,{container:!0,spacing:1,children:[ve(Cr,{item:!0,children:ve(st,{disabled:a,color:"primary",onClick:(t=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zr("image/jpeg, image/png");case 2:if(!(t=e.sent)){e.next=8;break}return e.next=6,Xl.appwriteService.uploadFile(t);case 6:n=e.sent,l(n);case 8:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),size:"small",type:"button",variant:"outlined",children:"Выбрать фото"})}),ve(Cr,{item:!0,children:ve(en,{disabled:!o||a,onClick:function(){return l(null)},color:"primary",size:"small",type:"button",variant:"text",children:"Удалить"})}),ve(Cr,{item:!0,xs:!0})]}),ve(je,{color:"textSecondary",variant:"caption",children:"Размер: 200x200, максимальный размер файла: 5Мб"})]})]})},gv=[{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Box,sx:{display:"grid",gridTemplateColumns:"1fr auto"},fields:[{type:o.Component,element:function(e){var t=e.readonly,n=e.avatar,r=e.email,a=e.onChange;return ve(_v,{avatar:n,email:r,readonly:t,onChange:function(e){return a({avatar:e})}})}},{type:o.Switch,fieldBottomMargin:"0",name:"active",title:"Активация"}]}]},{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Основные данные"},{type:o.Text,name:"last_name",title:"Фамилия",outlined:!1,isInvalid:function(e){return e.last_name?null:"Необходимо заполнить поле"}},{type:o.Text,name:"first_name",title:"Имя",outlined:!1,isInvalid:function(e){return e.first_name?null:"Необходимо заполнить поле"}},{type:o.Text,name:"middle_name",title:"Отчество",outlined:!1},{type:o.Group,fields:[{type:o.Group,columns:"6",fields:[{type:o.Component,element:function(){return ve(je,{children:"Пол"})}},{type:o.Group,child:{type:o.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:o.Radio,name:"pol",radioValue:"м",title:"Мужской"},{type:o.Radio,name:"pol",radioValue:"ж",title:"Женский"}]}},{type:o.Group,columns:"12",fields:[{type:o.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_rozhdeniya",title:"Дата рождения"},{type:o.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_trudoustrojstva",title:"Дата трудоустройства"},{type:o.Text,fieldRightMargin:"4",columns:"6",outlined:!1,name:"email",title:"Email",placeholder:"Добавить рабочий email"},{type:o.Text,fieldRightMargin:"4",columns:"6",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"rabochij_telefon",title:"Рабочий телефон",placeholder:"Добавить номер"}]}]}]}]},{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Дополнительный телефон"},{type:o.Text,columns:"6",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"lichnyj_nomer",title:"Личный номер"}]},{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Статус"},{type:o.Combo,columns:"6",outlined:!1,name:"ofis",title:"Офис",itemList:[]},{type:o.Combo,isDisabled:function(e,t){return!t.permissions.hasUsersAccessLevelsPermission},columns:"6",outlined:!1,isInvalid:function(e){return e.user_role?null:"Необходимо заполнить поле"},itemList:(ev=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getUserRoles();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return ev.apply(this,arguments)}),tr:(Qh=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getUserRoles();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||t);case 4:case"end":return e.stop()}}),e)}))),function(e){return Qh.apply(this,arguments)}),name:"user_role",title:"Роль"},{type:o.Combo,columns:"6",outlined:!1,name:"filial",title:"Филиал",itemList:[]},{type:o.Text,columns:"6",outlined:!1,name:"dolzhnost",title:"Должность"},{type:o.Combo,columns:"6",outlined:!1,name:"otdel",title:"Отдел",itemList:[]},{type:o.Combo,columns:"6",outlined:!1,name:"status_sotrudnika",title:"Статус сотрудника",itemList:["Новый","В штате","Вне штата","Не работает","Уволен"]},{type:o.Group,columns:"6",fieldRightMargin:"0",fieldBottomMargin:"0",child:{type:o.Div,style:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:o.Checkbox,name:"nachalnik_otdela",title:"Начальник отдела"}]}}]}];window.user_fields=gv;var kv,xv,wv=[{type:Ye.Link,action:"user-list-action",label:"Список сотрудников"},{type:Ye.Link,action:"user-list-action",label:"Настройки сотрудника"},{type:Ye.Button,isDisabled:function(e){return!e.hasChanged},action:"user-save-action",label:"Сохранить"}],Sv=al()((function(e){return{root:{alignItems:"center",display:"flex"},avatar:{height:64,marginRight:e.spacing(2),width:64},avatarWrapper:{height:"100%",minWidth:60},content:{width:"100%"}}})),zv=me.createLoader(24),Tv=function(e){var t,n,a=e.readonly,o=e.avatar,u=e.email,l=e.onChange,s=Sv().classes;return ve(ge,{className:s.root,children:[ve(ge,{className:s.avatarWrapper,children:ve(we,{payload:o,Loader:zv,children:(n=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,Xl.appwriteService.getImageURL(t);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return n=e.t0,e.abrupt("return",ve(St,{alt:u,src:n,className:s.avatar}));case 9:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})}),ve("div",{className:s.content,children:[ve(Cr,{container:!0,spacing:1,children:[ve(Cr,{item:!0,children:ve(st,{disabled:a,color:"primary",onClick:(t=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zr("image/jpeg, image/png");case 2:if(!(t=e.sent)){e.next=8;break}return e.next=6,Xl.appwriteService.uploadFile(t);case 6:n=e.sent,l(n);case 8:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),size:"small",type:"button",variant:"outlined",children:"Выбрать фото"})}),ve(Cr,{item:!0,children:ve(en,{disabled:!o||a,onClick:function(){return l(null)},color:"primary",size:"small",type:"button",variant:"text",children:"Удалить"})}),ve(Cr,{item:!0,xs:!0})]}),ve(je,{color:"textSecondary",variant:"caption",children:"Размер: 200x200, максимальный размер файла: 5Мб"})]})]})},Av=[{type:o.Paper,fieldBottomMargin:"1",fields:[{type:o.Box,sx:{display:"grid",gridTemplateColumns:"1fr auto"},fields:[{type:o.Component,element:function(e){var t=e.readonly,n=e.avatar,r=e.email,a=e.onChange;return ve(Tv,{avatar:n,email:r,readonly:t,onChange:function(e){return a({avatar:e})}})}},{type:o.Switch,fieldBottomMargin:"0",name:"active",title:"Активация"}]}]},{type:o.Paper,isVisible:function(e){return us(e,"first_name","last_name","middle_name")},fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Личная информация"},{type:o.Text,isVisible:function(e){return us(e,"last_name")},name:"last_name",title:"Фамилия",outlined:!1,isInvalid:function(e){return e.last_name?null:"Необходимо заполнить поле"}},{type:o.Text,isVisible:function(e){return us(e,"first_name")},name:"first_name",title:"Имя",outlined:!1,isInvalid:function(e){return e.first_name?null:"Необходимо заполнить поле"}},{type:o.Text,isVisible:function(e){return us(e,"middle_name")},name:"middle_name",title:"Отчество",outlined:!1},{type:o.Group,isVisible:function(e){return us(e,"pol","data_rozhdeniya","data_trudoustrojstva","email","rabochij_telefon")},fields:[{type:o.Group,isVisible:function(e){return us(e,"pol")},columns:"6",fields:[{type:o.Component,element:function(){return ve(je,{children:"Пол"})}},{type:o.Group,child:{type:o.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:o.Radio,isVisible:function(e){return us(e,"pol")},name:"pol",radioValue:"м",title:"Мужской"},{type:o.Radio,isVisible:function(e){return us(e,"pol")},name:"pol",radioValue:"ж",title:"Женский"}]}},{type:o.Group,columns:"12",fields:[{type:o.Text,isVisible:function(e){return us(e,"data_rozhdeniya")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_rozhdeniya",title:"Дата рождения"},{type:o.Text,isVisible:function(e){return us(e,"data_trudoustrojstva")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_trudoustrojstva",title:"Дата трудоустройства"},{type:o.Text,features:["hasUsersViewPhoneAndEmailPermission"],isVisible:function(e){return us(e,"email")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"email",title:"Email",placeholder:"Добавить рабочий email"},{type:o.Text,features:["hasUsersViewPhoneAndEmailPermission"],isVisible:function(e){return us(e,"rabochij_telefon")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"rabochij_telefon",title:"Рабочий телефон",placeholder:"Добавить номер"}]}]}]}]},{type:o.Paper,features:["hasUsersViewPhoneAndEmailPermission"],isVisible:function(e){return us(e,"lichnyj_nomer")},fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Дополнительный телефон"},{type:o.Text,isVisible:function(e){return us(e,"lichnyj_nomer")},columns:"6",outlined:!1,name:"lichnyj_nomer",title:"Личный номер"}]},{type:o.Paper,isVisible:function(e){return us(e,"ofis","user_role","filial","dolzhnost","otdel","status_sotrudnika","nachalnik_otdela")},fieldBottomMargin:"1",fields:[{type:o.Typography,typoVariant:"h6",placeholder:"Статус"},{type:o.Text,isVisible:function(e){return us(e,"ofis")},columns:"6",outlined:!1,name:"ofis",title:"Офис"},{type:o.Combo,isVisible:function(e){return us(e,"user_role")},columns:"6",outlined:!1,isInvalid:function(e){return e.user_role?null:"Необходимо заполнить поле"},itemList:(xv=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getUserRoles();case 2:return t=e.sent,e.abrupt("return",Object.keys(t));case 4:case"end":return e.stop()}}),e)}))),function(){return xv.apply(this,arguments)}),tr:(kv=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.dictService.getUserRoles();case 2:return n=e.sent,e.abrupt("return",G.get(n,t)||t);case 4:case"end":return e.stop()}}),e)}))),function(e){return kv.apply(this,arguments)}),name:"user_role",title:"Роль"},{type:o.Text,isVisible:function(e){return us(e,"filial")},columns:"6",outlined:!1,name:"filial",title:"Филиал"},{type:o.Text,isVisible:function(e){return us(e,"dolzhnost")},columns:"6",outlined:!1,name:"dolzhnost",title:"Должность"},{type:o.Text,isVisible:function(e){return us(e,"otdel")},columns:"6",outlined:!1,name:"otdel",title:"Отдел"},{type:o.Text,isVisible:function(e){return us(e,"status_sotrudnika")},columns:"6",outlined:!1,name:"status_sotrudnika",title:"Статус сотрудника"},{type:o.Component,element:function(e){var t=e.nachalnik_otdela;return ve("div",{children:ve(ge,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:t&&ve(Fn,{label:"Начальник отдела"})})})}}]}],Fv=[{type:Ye.Link,action:"user-list-action",label:"Список сотрудников"},{type:Ye.Link,action:"user-list-action",label:"Общая информация сотрудника"},{type:Ye.Button,isDisabled:function(e){return!e.payload.permissions.hasUsersUpdatePermission},action:"user-edit-action",label:"Редактировать"}],Cv=[{id:"list",element:function(e){var t=e.payload,n=he(Xl.userViewService.reloadSubject),a=hn(Xl.routerService.locationState,{fallback:Xl.errorService.handleGlobalError}).listProps,o=uc(),l=function(){var e=i(r().mark((function e(t,a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("edit-action"===t&&Xl.routerService.push("/user_edit/".concat(a.id)),"remove-action"!==t){e.next=5;break}return e.next=4,Xl.userViewService.remove(a.id);case 4:n.next();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return ve(Le,{children:ve(vn,u({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:Ra,title:"Сотрудники",filterLabel:"Фильтры",reloadSubject:n,heightRequest:hv,rowActions:yv,actions:fv,filters:dv,columns:mv,handler:o,onRowAction:l,onRowClick:function(e){Xl.routerService.push("/user_view/".concat(e.id))},selectionMode:dn.Multiple,slots:{FilterListSlot:pn},payload:t},a))})},isActive:function(e){return rs(["/user"],e)},isAvailable:function(){return!1}},{id:"user",element:my((function(){var e=Ql("id");Xl.routerService.push("/user_edit/".concat(e,"/user"))})),isActive:function(e){return rs(["/user_edit/:id"],e)}},{id:"user",element:function(e){var t=e.payload,n=e.onChange,r=e.formState,a=e.data,i=e.beginSave;return ve(Le,{children:[ve(Qe,{onAction:function(e){"user-list-action"===e&&Xl.routerService.push("/user"),"user-save-action"===e&&i()},items:wv,payload:r}),ve(ts,{}),ve(Xh,{payload:t,mode:t.menuMode,children:ve(et,{dirty:!0,handler:function(){return a},fields:gv,payload:t,features:t.permissions,onChange:n})}),ve(nt,{})]})},isActive:function(e){return rs(["/user_edit/:id/user"],e)}},{id:"files",element:function(e){var t,n,a,o=e.formState,u=e.onChange,l=e.beginSave,s=e.data,c=e.payload,p=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),d=p.handleLoadStart,m=p.handleLoadEnd;return ve(Le,{children:[ve(Qe,{items:sv,onAction:function(e){"user-list-action"===e&&Xl.routerService.push("/user"),"user-save-action"===e&&l()},payload:o}),ve(ts,{}),ve(Xh,{payload:c,mode:c.menuMode,children:[ve(it,{sx:{p:1},children:ve(bt,{accept:"*",multiple:!0,items:s,tr:(a=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.tryReadFileName(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=t;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),fallback:Xl.errorService.handleGlobalError,onClick:(n=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getFileURL(t);case 2:return n=e.sent,e.next=5,Xl.appwriteService.readFileName(t);case 5:a=e.sent,_t(n,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onUpload:function(e){return Xl.appwriteService.uploadFile(e)},onChange:(t=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onLoadStart:d,onLoadEnd:m})}),ve(nt,{})]})]})},isActive:function(e){return rs(["/user_edit/:id/files"],e)}},{id:"additional_info",element:function(e){var t=e.payload,n=e.onChange,r=e.formState,a=e.data,i=e.beginSave;return ve(Le,{children:[ve(Qe,{onAction:function(e){"user-list-action"===e&&Xl.routerService.push("/user"),"user-save-action"===e&&i()},items:tv,payload:r}),ve(ts,{}),ve(Xh,{payload:t,mode:t.menuMode,children:ve(et,{dirty:!0,handler:function(){return a},fields:Jh,features:t.permissions,onChange:n})}),ve(nt,{})]})},isActive:function(e){return rs(["/user_edit/:id/additional_info"],e)}},{id:"features",element:function(e){var t=e.beginSave,n=e.data,r=e.formState,a=e.payload,i=e.onChange;return ve(Le,{children:[ve(Qe,{items:uv,onAction:function(e){"user-list-action"===e&&Xl.routerService.push("/user"),"user-save-action"===e&&t()},payload:r}),ve(ts,{}),ve(Xh,{payload:a,mode:a.menuMode,children:[ve(Ar,{expandAll:!0,handler:function(){return n.reduce((function(e,t){return u(u({},e),{},d({},t,!0))}),{})},features:Vh,change:function(e,t){if(e&&!t){var n=Object.entries(e).filter((function(e){var t=l(e,2);t[0];return!!t[1]})).map((function(e){return l(e,1)[0]}));i(n)}}}),ve(nt,{})]})]})},isActive:function(e){return rs(["/user_edit/:id/features"],e)}},{id:"user",element:my((function(){var e=Ql("id");Xl.routerService.push("/user_view/".concat(e,"/user"))})),isActive:function(e){return rs(["/user_view/:id"],e)}},{id:"user",element:function(e){var t,n,a=e.params.id,o=e.payload,u=e.onChange,l=e.formState,s=e.data,c=Je(s),p=Xe({fields:gv,payload:o,features:o.permissions,outlinePaper:!0,handler:(n=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},onSubmit:(t=i(r().mark((function e(t){var n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,e.prev=1,!t){e.next=5;break}return e.next=5,Xl.userViewService.update(a,t);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),n=!1,i=Eu(e.t0),Xl.alertService.notify(i),e.abrupt("return",!1);case 13:return e.prev=13,e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[1,7,13,16]])}))),function(e){return t.apply(this,arguments)}),submitLabel:"Сохранить"}),d=p.pickData,m=p.render;return ve(Le,{children:[ve(Qe,{onAction:function(e){"user-list-action"===e&&Xl.routerService.push("/user"),"user-edit-action"===e&&d()},items:Fv,payload:l}),ve(ts,{}),ve(av,{payload:o,mode:o.menuMode,children:ve(et,{dirty:!0,readonly:!0,handler:function(){return s},fields:Av,features:o.permissions,onChange:u,payload:o,changeSubject:c})}),ve(nt,{}),m()]})},isActive:function(e){return rs(["/user_view/:id/user"],e)}},{id:"additional_info",element:function(e){var t,n,a=e.params.id,o=e.payload,u=e.onChange,l=e.formState,s=e.data,c=Je(s),p=Xe({fields:Jh,payload:o,features:o.permissions,outlinePaper:!0,handler:(n=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},onSubmit:(t=i(r().mark((function e(t){var n,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,e.prev=1,!t){e.next=10;break}if(!t.user_role){e.next=8;break}return o=new Set(t.user_features||[]),e.next=7,Promise.all(t.user_role.map(function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.roleViewService.tryRead(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:(a=n.role_features)&&a.forEach((function(e){return o.add(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:t.user_features=f(o);case 8:return e.next=10,Xl.userViewService.update(a,t);case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(1),n=!1,u=Eu(e.t0),Xl.alertService.notify(u),e.abrupt("return",!1);case 18:return e.prev=18,e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[1,12,18,21]])}))),function(e){return t.apply(this,arguments)}),submitLabel:"Сохранить"}),d=p.pickData,m=p.render;return ve(Le,{children:[ve(Qe,{onAction:function(e){"user-list-action"===e&&Xl.routerService.push("/user"),"user-edit-action"===e&&d()},items:ov,payload:l}),ve(ts,{}),ve(av,{payload:o,mode:o.menuMode,children:ve(et,{dirty:!0,readonly:!0,handler:function(){return s},fields:iv,features:o.permissions,onChange:u,payload:o,changeSubject:c})}),ve(nt,{}),m()]})},isActive:function(e){return re(rs(["/user_view/:id/additional_info"],e))}},{id:"files",element:function(e){var t,n,a,o,u=e.params.id,l=e.formState,s=e.onChange,c=e.data,p=e.payload,d=Fs({data:c,onSubmit:(t=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.update(u,{user_files:t});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}),m=d.render,f=d.pickFiles;return ve(Le,{children:[ve(Qe,{items:cv,onAction:function(e){"user-list-action"===e&&Xl.routerService.push("/user"),"user-edit-action"===e&&f()},payload:l}),ve(ts,{}),ve(av,{payload:p,mode:p.menuMode,children:[ve(it,{sx:{p:1},children:ve(bt,{accept:"*",multiple:!0,disabled:!0,items:c,tr:(o=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.tryReadFileName(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=t;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)}),fallback:Xl.errorService.handleGlobalError,onClick:(a=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.appwriteService.getFileURL(t);case 2:return n=e.sent,e.next=5,Xl.appwriteService.readFileName(t);case 5:a=e.sent,_t(n,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),onUpload:function(e){return Xl.appwriteService.uploadFile(e)},onChange:(n=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})}),ve(nt,{})]}),m()]})},isActive:function(e){return rs(["/user_view/:id/files"],e)}},{id:"features",element:function(e){var t=e.params.id,n=e.data,a=e.formState,o=e.payload,s=Je(n),c=he();ye.useEffect((function(){return s.subscribe((function(e){var t,n=e.reduce((function(e,t){return u(u({},e),{},d({},t,!0))}),{});Vh.forEach((function(e){return e.children.forEach((function(e){var t=e.name;n[t]||(n[t]=!1)}))})),null===(t=o.features)||void 0===t||t.forEach((function(e){n[e]=!0})),c.next(n)}))}),[]);var p,m,f=function(e,t){var n=t.data,a=t.onSubmit,o=t.onChange,s=t.fullScreen,c=t.expandAll,p=Ze({history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)}}),m=p.handleLoadStart,f=p.handleLoadEnd,y=function(){var e=i(r().mark((function e(t,n){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||n){e.next=4;break}return i=Object.entries(t).filter((function(e){var t=l(e,2);return t[0],!!t[1]})).map((function(e){return l(e,1)[0]})),e.next=4,a&&a(i);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Fr({expandAll:c,features:e,handler:function(){return n.reduce((function(e,t){return u(u({},e),{},d({},t,!0))}),{})},fullScreen:s,fallback:Xl.errorService.handleGlobalError,onLoadStart:m,onLoadEnd:f,onSubmit:y,onChange:function(e,t){if(e&&!t){var n=Object.entries(e).filter((function(e){var t=l(e,2);return t[0],!!t[1]})).map((function(e){return l(e,1)[0]}));o&&o(n)}},submitLabel:"Сохранить"})}(Vh,{expandAll:!0,data:n,fullScreen:!0,onSubmit:(p=i(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.update(t,{user_features:n});case 2:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})}),y=f.render,h=f.pickData;return ve(Le,{children:[ve(Qe,{items:lv,onAction:function(e){"user-list-action"===e&&Xl.routerService.push("/user"),"user-edit-action"===e&&h()},payload:a}),ve(ts,{}),ve(av,{payload:o,mode:o.menuMode,children:[ve(we,{payload:t,children:(m=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.read(t);case 2:if(n=e.sent,null!=(a=n.user_role)&&a.length){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,Xl.roleViewService.tryRead(a[0]);case 8:if(i=e.sent){e.next=11;break}return e.abrupt("return");case 11:return o=i.title,e.abrupt("return",ve(it,{sx:{width:"100%",p:1,pt:2,pb:2,mb:1},children:ve(je,{variant:"subtitle2",children:["Список бизнес-функций расширен ролью сотрудника"," ",ve(sn,{href:"#",onClick:function(){return ue("/settings/roles")},children:o})]})}));case 13:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})}),ve(Ar,{readonly:!0,expandAll:!0,handler:function(){return o.features.reduce((function(e,t){return u(u({},e),{},d({},t,!0))}),{})},changeSubject:c,features:Vh}),ve(nt,{})]}),y()]})},isActive:function(e){return rs(["/user_view/:id/features"],e)}}],Vv=function(e){var t,n=e.id,a=void 0===n?"":n,o=function(){var e=i(r().mark((function e(t){var n,i,o,u,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,e.prev=1,i=G.get(t,"user")||{},o=G.get(t,"features")||[],u=G.get(t,"files")||[],G.set(i,"user_files",u),G.set(i,"user_features",o),e.next=9,Xl.userViewService.update(a,i);case 9:Xl.alertService.notify("Изменения сохранены"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),n=!1,l=Eu(e.t0),Xl.alertService.notify(l);case 17:return e.prev=17,e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[1,12,17,20]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.userViewService.tryRead(a);case 2:return e.t0=e.sent,e.next=5,Xl.settingsViewService.getMasterDetailMode();case 5:return e.t1=e.sent,e.next=8,Xl.permissionService.getPermissions();case 8:return e.t2=e.sent,e.next=11,Xl.featureService.getFeaturesByUserId(a);case 11:return e.t3=e.sent,e.next=14,Xl.featureService.getAccessLevel();case 14:return e.t4=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3,e.t4]);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=he();return ye.useEffect((function(){return Xl.userViewService.updateSubject.subscribe((function(e){var t=l(e,2),n=t[0],r=t[1];a===n&&(s.next(["user",r]),s.next(["files",(null==r?void 0:r.user_files)||[]]),s.next(["features",(null==r?void 0:r.user_features)||[]]),s.next(["additional_info",r]))}))}),[]),ve(Gn,{state:u,reloadSubject:Xl.layoutService.reloadOutletSubject,fallback:Xl.errorService.handleGlobalError,children:(t=i(r().mark((function e(t){var n,i,u,c,p,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,5),i=n[0],u=n[1],c=n[2],p=n[3],d=n[4],e.abrupt("return",ve(bn,{changeSubject:s,history:Xl.routerService,waitForChangesDelay:qa,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},routes:Cv,params:{id:a},initialData:{user:i,files:(null==i?void 0:i.user_files)||[],features:(null==i?void 0:i.user_features)||[],additional_info:i},payload:function(){return{menuMode:u,permissions:c,features:p,accessLevel:d}},onChange:function(e,t,n){var r,a;t||"user"===n&&(s.next(["files",(null===(r=e.user)||void 0===r?void 0:r.user_files)||[]]),s.next(["features",(null===(a=e.user)||void 0===a?void 0:a.user_features)||[]]))},onSubmit:o}));case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})})},Mv=[{path:"/error_page",element:function(){var e=dh().classes;return ve(xr,{children:ve(ge,{className:e.root,children:ve(kr,{className:e.reveal,children:ve(it,{className:e.container,children:ve(Me,{direction:"column",gap:"15px",children:[ve(ph,{}),ve("span",{children:"Во время работы приложения произошла ошибка. Информация об ошибке передана в отдел разработки"}),ve(en,{variant:"contained",onClick:U,children:"Перезагрузить страницу"})]})})})})})}},{path:"/login_page",element:function(){return ve(ge,{sx:{position:"fixed",top:0,left:0,height:"100vh",width:"100vw",background:"whitesmoke",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999},children:ve(it,{component:"form",sx:{p:2,marginTop:"-5vh",maxWidth:"325px",minWidth:"325px"},onSubmit:function(e){return e.preventDefault(),!1},children:[ve(je,{variant:"h3",sx:{color:function(e){return e.palette.primary.main},mb:3,textAlign:"center",fontWeight:"bold"},children:"RealEstate"}),ve(ge,{sx:{display:"flex",flexDirection:"column",gap:"15px"},children:[ve(Pt,{required:!0,name:"email",fullWidth:!0,label:"Email",placeholder:"Email",helperText:"Email",type:"email"}),ve(Pt,{required:!0,fullWidth:!0,name:"password",label:"Пароль",placeholder:"Пароль",helperText:"Пароль",type:"password"})]}),ve(ge,{sx:{display:"flex",flexDirection:"row-reverse",mb:2},children:ve(sn,{href:"#",onClick:function(){return Xl.routerService.push("/register_page")},children:"Регистрация"})}),ve(st,{onClick:(e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget,e.next=3,fh(n.closest("form"));case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),variant:"contained",type:"submit",fullWidth:!0,children:"Войти"})]})});var e}},{path:"/register_page",element:function(){return ve(ge,{sx:{position:"fixed",top:0,left:0,height:"100vh",width:"100vw",background:"whitesmoke",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999},children:ve(it,{component:"form",sx:{p:2,marginTop:"-5vh",maxWidth:"325px",minWidth:"325px"},onSubmit:function(e){return e.preventDefault(),!1},children:[ve(je,{variant:"h3",sx:{color:function(e){return e.palette.primary.main},mb:3,textAlign:"center",fontWeight:"bold"},children:"RealEstate"}),ve(ge,{sx:{display:"flex",flexDirection:"column",gap:"15px"},children:[ve(Pt,{required:!0,name:"email",fullWidth:!0,label:"Email",placeholder:"Email",helperText:"Email",type:"email"}),ve(Pt,{required:!0,fullWidth:!0,name:"password",label:"Пароль",placeholder:"Пароль",helperText:"Пароль",type:"password"}),ve(Pt,{required:!0,fullWidth:!0,name:"confirm",label:"Повторите пароль",placeholder:"Повторите пароль",helperText:"Повторите пароль",type:"password"})]}),ve(ge,{sx:{display:"flex",flexDirection:"row-reverse",mb:2},children:ve(sn,{href:"#",onClick:function(){return Xl.routerService.push("/login_page")},children:"Вход"})}),ve(st,{onClick:(e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currentTarget,e.next=3,yh(n.closest("form"));case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),variant:"contained",type:"submit",fullWidth:!0,children:"Регистрация"})]})});var e}},{path:"/inactive_page",element:function(){var e=mh().classes;return ve(xr,{children:ve(ge,{className:e.root,children:ve(kr,{className:e.reveal,children:ve(it,{className:e.container,children:ve(Me,{direction:"column",gap:"15px",children:[ve(ph,{}),ve("span",{children:"Ожидание активации профиля. Попросите Администратора активировать ваш аккаунт"}),ve(en,{variant:"contained",onClick:U,children:"Перезагрузить страницу"})]})})})})})}}],Lv=[{path:"/dashboard",sideMenu:"root.global.dashboard",element:function(){var e,t=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.settingsViewService.getMasterDetailMode();case 2:return e.t0=e.sent,e.next=5,Xl.permissionService.getPermissions();case 5:return e.t1=e.sent,e.next=8,Xl.featureService.getAccessLevel();case 8:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ve(Gn,{state:t,reloadSubject:Xl.layoutService.reloadOutletSubject,fallback:Xl.errorService.handleGlobalError,children:(e=i(r().mark((function e(t){var n,a,i,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,3),a=n[0],i=n[1],o=n[2],e.abrupt("return",ve(bn,{history:Xl.routerService,routes:Jy,payload:function(){return{menuMode:a,permissions:i,accessLevel:o}}}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{path:"/apartment",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_rent",sideMenu:"root.global.apartment.rent",element:Bm},{path:"/apartment_sell",sideMenu:"root.global.apartment.sell",element:Bm},{path:"/apartment_archive",sideMenu:"root.global.apartment.archive",element:Bm},{path:"/apartment_archive",sideMenu:"root.global.apartment.archive",element:Bm},{path:"/apartment_remove",sideMenu:"root.global.apartment.archive",element:Bm},{path:"/apartment",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment/create",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_edit/:id",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_edit/:id/object",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_edit/:id/owner_contact",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_edit/:id/documents",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_view/:id",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_view/:id/object",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_view/:id/owner_contact",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_view/:id/documents",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_view/:id/history",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_view/:id/tasks",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_view/:id/advertising",sideMenu:"root.global.apartment",element:Bm},{path:"/apartment_view/:id/service_comment",sideMenu:"root.global.apartment",element:Bm},{path:"/bid",sideMenu:"root.global.bid",element:$f},{path:"/bid_rent",sideMenu:"root.global.bid.rent",element:$f},{path:"/bid_sell",sideMenu:"root.global.bid.sell",element:$f},{path:"/bid_archive",sideMenu:"root.global.bid.archive",element:$f},{path:"/bid/create",sideMenu:"root.global.bid",element:$f},{path:"/bid_edit/create",sideMenu:"root.global.bid",element:$f},{path:"/bid_edit/create/parameter",sideMenu:"root.global.bid",element:$f},{path:"/bid_edit/create/documents",sideMenu:"root.global.bid",element:$f},{path:"/bid_edit/create/contact",sideMenu:"root.global.bid",element:$f},{path:"/bid_edit/:id",sideMenu:"root.global.bid",element:$f},{path:"/bid_edit/:id/parameter",sideMenu:"root.global.bid",element:$f},{path:"/bid_edit/:id/documents",sideMenu:"root.global.bid",element:$f},{path:"/bid_edit/:id/contact",sideMenu:"root.global.bid",element:$f},{path:"/bid_view/:id",sideMenu:"root.global.bid",element:$f},{path:"/bid_view/:id/parameter",sideMenu:"root.global.bid",element:$f},{path:"/bid_view/:id/history",sideMenu:"root.global.bid",element:$f},{path:"/bid_view/:id/documents",sideMenu:"root.global.bid",element:$f},{path:"/bid_view/:id/contact",sideMenu:"root.global.bid",element:$f},{path:"/bid_view/:id/tasks",sideMenu:"root.global.bid",element:$f},{path:"/bid_view/:id/service_comment",sideMenu:"root.global.bid",element:$f},{path:"/deal",sideMenu:"root.global.deal",element:function(){var e,t=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ch();case 2:return e.t0=e.sent,e.next=5,Xl.settingsViewService.getMasterDetailMode();case 5:return e.t1=e.sent,e.next=8,Xl.permissionService.getPermissions();case 8:return e.t2=e.sent,e.next=11,Xl.featureService.getAccessLevel();case 11:return e.t3=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ve(Gn,{state:t,fallback:Xl.errorService.handleGlobalError,children:(e=i(r().mark((function e(t){var n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,4),a=n[0],i=n[1],o=n[2],u=n[3],e.abrupt("return",ve(bn,{history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},routes:sh,params:{dealCardMap:a},payload:function(){return{menuMode:i,permissions:o,accessLevel:u}}}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{path:"/task",sideMenu:"root.global.task",element:function(){var e,t=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yh();case 2:return e.t0=e.sent,e.next=5,Xl.settingsViewService.getMasterDetailMode();case 5:return e.t1=e.sent,e.next=8,Xl.permissionService.getPermissions();case 8:return e.t2=e.sent,e.next=11,Xl.featureService.getAccessLevel();case 11:return e.t3=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ve(Gn,{state:t,fallback:Xl.errorService.handleGlobalError,children:(e=i(r().mark((function e(t){var n,a,i,o,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l(t,4),a=n[0],i=n[1],o=n[2],u=n[3],e.abrupt("return",ve(bn,{history:Xl.routerService,onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},routes:Gh,params:{dealCardMap:a},payload:function(){return{menuMode:i,permissions:o,accessLevel:u}}}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{path:"/contact",sideMenu:"root.global.contact",element:hy},{path:"/contact/create",sideMenu:"root.global.contact",element:hy},{path:"/contact_edit/create",sideMenu:"root.global.contact",element:hy},{path:"/contact_edit/:id",sideMenu:"root.global.contact",element:hy},{path:"/contact_view/:id",sideMenu:"root.global.contact",element:hy},{path:"/contact_view/:id/contact",sideMenu:"root.global.contact",element:hy},{path:"/contact_view/:id/tasks",sideMenu:"root.global.contact",element:hy},{path:"/contact_view/:id/history",sideMenu:"root.global.contact",element:hy},{path:"/user",sideMenu:"root.global.user",element:Vv},{path:"/user_view/:id",sideMenu:"root.global.user",element:Vv},{path:"/user_view/:id/user",sideMenu:"root.global.user",element:Vv},{path:"/user_view/:id/files",sideMenu:"root.global.user",element:Vv},{path:"/user_view/:id/features",sideMenu:"root.global.user",element:Vv},{path:"/user_view/:id/additional_info",sideMenu:"root.global.user",element:Vv},{path:"/user_edit/:id",sideMenu:"root.global.user",element:Vv},{path:"/user_edit/:id/user",sideMenu:"root.global.user",element:Vv},{path:"/user_edit/:id/files",sideMenu:"root.global.user",element:Vv},{path:"/user_edit/:id/features",sideMenu:"root.global.user",element:Vv},{path:"/settings",sideMenu:"root.global.settings",element:Rh},{path:"/settings/common",sideMenu:"root.global.settings",element:Rh},{path:"/settings/roles",sideMenu:"root.global.settings",element:Rh},{path:"/settings/integration",sideMenu:"root.global.settings",element:Rh}],Iv=[{path:"/",sideMenu:"root.global.user",element:my((function(){Xl.routerService.push("/dashboard")}))}].concat(Lv,Mv),Bv=function(e){es(),console.log({path:e}),"root.global.settings.common"===e&&Xl.routerService.push("/settings/common"),"root.global.settings.roles"===e&&Xl.routerService.push("/settings/roles"),"root.global.settings.integration"===e&&Xl.routerService.push("/settings/integration")},jv=function(e){"root.global.dashboard"===e&&Xl.routerService.push("/dashboard"),"root.global.user"===e&&Xl.routerService.push("/user"),"root.global.settings"===e&&Xl.routerService.push("/settings"),"root.global.apartment"===e&&Xl.routerService.push("/apartment"),"root.global.apartment.rent"===e&&Xl.routerService.push("/apartment_rent"),"root.global.apartment.sell"===e&&Xl.routerService.push("/apartment_sell"),"root.global.apartment.archive"===e&&Xl.routerService.push("/apartment_archive"),"root.global.apartment.archive.archive"===e&&Xl.routerService.push("/apartment_archive"),"root.global.apartment.archive.remove"===e&&Xl.routerService.push("/apartment_remove"),"root.global.bid"===e&&Xl.routerService.push("/bid"),"root.global.bid.rent"===e&&Xl.routerService.push("/bid_rent"),"root.global.bid.sell"===e&&Xl.routerService.push("/bid_sell"),"root.global.bid.archive"===e&&Xl.routerService.push("/bid_archive"),"root.global.deal"===e&&Xl.routerService.push("/deal"),"root.global.task"===e&&Xl.routerService.push("/task"),"root.global.contact"===e&&Xl.routerService.push("/contact")},Dv=function(){var e=null,t=null;return function(){var n=Xl.routerService.location.pathname;return e!==n&&(t=We(Iv,Xl.routerService.location.pathname),e=n),t}}(),Rv=Dv,qv={"Refresh manually":"Обновить","Create new row":"Создать новую строку","Change sort order":"Изменить порядок сортировки","Drop filters":"Сбросить фильтры",Filters:"Фильтры",Search:"Поиск","Loading data":"Загрузка данных","Nothing found":"","Not found":"Нет данных","No options":"Нет данных","Drag and drop a file here or click":"Выберите файл",Choose:"Выбрать",Deselect:"Убрать",Green:"Зеленый",Skyblue:"Синий",Yellow:"Желтый",Red:"Красный",Submit:"Применить",Date:"Дата",Time:"Время",Loading:"Загрузка",Required:"Заполнить","The form contains unsaved changes. Continue?":"Форма содержит несохраненные изменения. Продолжить?","The form contains invalid data. Continue?":"Форма содержит неправильно указанные данные. Продолжить?","Are you sure you want to delete this file?":"Вы уверены, что хотите удалить файл?",Confirmation:"Подтверждение",Forbidden:"Нет доступа",Ok:"Ок",Cancel:"Отмена",Remove:"Удалить",Actions:"Действие",Save:"Сохранить","Not chosen":"Не указано","Continue?":"Продолжить",Unset:"Нет данных","Select all":"Выбрать","No tips":"Нет данных","Column configuration":"Отображение колонок","Loading...":"Загрузка","Pick item":"Выберите"};var Pv={"/login_page":{"Sign in":"Войти"},"/register_page":{"Sign in":"Регистрация"}},Ev=function(){var e=null,t={};return function(){var n=Xl.routerService.location.pathname;if(e!==n){var r=Rv();t=Pv[(null==r?void 0:r.path)||"unknown"]||{},e=n}return t}}();function Nv(e){return Ev()[e]||function(e){return qv[e]||e}(e)}var Ov,Uv=[function(){document.querySelectorAll("input").forEach((function(e){e.placeholder&&(e.placeholder=Nv(e.placeholder))}))},function(){document.querySelectorAll("textarea").forEach((function(e){e.placeholder&&(e.placeholder=Nv(e.placeholder))}))}];(document.addEventListener("DOMContentLoaded",(function(){var e=G.throttle(Vr(Uv.map((function(e){return function(){e()}}))),1,{trailing:!0});new MutationObserver(e).observe(document.body,{childList:!0,subtree:!0})})),Mr.install(qv,Nv),Xl.routerService.listen((function(e){"PUSH"===e.action&&window.Translate.clear()})),window.self!==window.top&&_t.override((function(e,t){var n;null===(n=window.top)||void 0===n||n.postMessage({type:"download-action",url:e,filename:t},"*")})),window.self!==window.top&&ue.override((function(e){e.startsWith("/")?Xl.routerService.push(e):window.open(e)})),window.self!==window.top&&In.override((function(e){var t;null===(t=window.top)||void 0===t||t.postMessage({type:"copy-action",text:e},"*")})),window.self!==window.top&&U.override((function(){var e;null===(e=window.top)||void 0===e||e.postMessage({type:"reload-action"},"*")})),window.self!==window.top)&&(null===(Ov=window.top)||void 0===Ov||Ov.postMessage({type:"init-action"},"*"));window.getOlxToken=function(){var e;return null===(e=window.top)||void 0===e||e.postMessage({type:"get-olx-token"},"*"),Ee.create((function(e){return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}})).filter((function(e){return"type"in e.data})).filter((function(e){return"get-olx-token"===e.data.type})).map((function(e){return e.data.result})).toPromise()};var Hv,Wv,$v=Lr((function(e){var t=e.children,n=Xl.alertService.current;return ve(Le,{children:[!!n&&ve(Ir,{open:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,onClose:Xl.alertService.hideCurrent,sx:{zIndex:9999999},message:n.message},n.key),t]})})),Gv=function(){return ve(Me,{width:"100%",minHeight:"48px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[ve(je,{sx:{height:42,display:"flex",alignItems:"center",color:"#666",fontWeight:"bold",fontSize:14},variant:"caption",children:"Real Estate APP"}),ve(Me,{direction:"row",alignItems:"center",children:[ve(Br,{sx:{fontSize:18,color:Xl.previewModeService.previewMode?"#c2c2c2":"#757575"}}),ve(on,{checked:Xl.previewModeService.previewMode,onClick:Xl.previewModeService.togglePreviewMode,size:"small"}),ve(jr,{sx:{fontSize:18,color:Xl.previewModeService.previewMode?"#757575":"#c2c2c2"}})]})]})},Yv=function(e){var t=e.loading,n=l(ye.useState(0),2),a=n[0],o=n[1],u=He(i(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xl.appwriteService.currentUser.$id,e.next=3,Xl.notifyViewService.findAllUnreadByUserId(t);case 3:n=e.sent,a=n.length,o(a);case 6:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Xl.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Xl.layoutService.setAppbarLoader(!1)},fallback:Xl.errorService.handleGlobalError}).execute;return ye.useEffect((function(){return Oe((function(){return Xl.appwriteService.isAuthorized}),(function(){Xl.appwriteService.isAuthorized&&u()}))}),[]),ye.useEffect((function(){return Xl.notifyViewService.reloadSubject.debounce(1e3).connect((function(){Xl.appwriteService.isAuthorized&&u()}))}),[]),ve(Rr,{badgeContent:a,color:"info",children:ve(Dr,{sx:{color:"white !important",opacity:t?.8:1}})})},Kv=function(){return ve(me,{sx:{width:384,height:"calc(100% - 96px)"}})},Zv=al()((function(e){return{list:{pt:1,pb:1,"& > *":{paddingTop:0,paddingBottom:0,"& > *":{paddingTop:0,paddingBottom:0}}},listItemAccient:{background:fe(e.palette.getContrastText(e.palette.background.paper),.018)}}})),Xv=function(){var e,t,n=l(ye.useState(),2),a=n[0],o=n[1],u=Zv().classes,s=l(ye.useState(0),2),c=s[0],p=s[1];return ve(Le,{children:[ve(Pn,{onClick:(t=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.currentTarget,Xl.appwriteService.isAuthorized){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Xl.notifyViewService.toggleReadAllByUserId(Xl.appwriteService.currentUser.$id);case 5:o(n);case 6:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)}),onLoadStart:function(){return p((function(e){return e+1}))},onLoadEnd:function(){return p((function(e){return e-1}))},color:"inherit",sx:{ml:2},children:ve(Yv,{loading:!!c})}),ve(nr,{open:!!a,anchorEl:a,onClose:function(){return o(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:ve(pt,{sx:{width:384,height:448},subheader:ve(rr,{component:je,sx:{fontWeight:"bold"},children:"Уведомления"}),children:ve(we,{Loader:Kv,children:(e=i(r().mark((function e(){var t,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Xl.appwriteService.currentUser.$id,e.next=3,Xl.notifyViewService.findAllByUserId(t);case 3:return n=e.sent,e.abrupt("return",ve(yt,{className:u.list,sx:{width:384,height:"calc(100% - 48px)"},children:n.sort((function(e,t){var n=e.$createdAt,r=t.$createdAt;return h(n).isBefore(r)?1:-1})).map((function(e,t){return ve(kt,{className:ke(d({},u.listItemAccient,t%2==0)),disableGutters:!0,children:ve(ze,{onClick:function(){return e.url&&ue(e.url)},children:[ve(xt,{children:ve(St,{children:ve(qr,{sx:{color:"white",mt:"-2px"}})})}),ve(ft,{primary:ve(zt,{config:Vs,handler:function(){return e.title}}),secondary:h(e.$createdAt).format("HH:mm DD/MM/YYYY")}),ve(Ae,{disableRipple:!0,children:ve(Pr,{})})]})},e.$id)}))}));case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})})})]})},Jv=[{action:"logout-action",icon:Er,label:"Выйти"}],Qv=[{id:"global",noHeader:!0,children:[{id:"dashboard",label:"Главная",icon:Nr},{id:"apartment",label:"База объектов",icon:Or,lifted:!0,options:[{id:"rent",icon:Ur,label:"Аренда"},{id:"sell",icon:Hr,label:"Продажа"},{id:"archive",icon:Wr,label:"Архив",options:[{id:"archive",icon:$r,label:"Неактивно"},{id:"remove",icon:Gr,label:"Удалено"}]}]},{id:"bid",label:"Заявки",icon:Yr,lifted:!0,options:[{id:"rent",icon:Kr,label:"Аренда"},{id:"sell",icon:Zr,label:"Продажа"},{id:"archive",icon:Xr,label:"Архив"}]},{id:"deal",label:"Сделки",icon:Jr},{id:"task",label:"Задачи",icon:Qr},{id:"contact",label:"Контакты",icon:ea},{id:"user",label:"Сотрудники",icon:ta},{id:"settings",isVisible:(Wv=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:return t=e.sent,e.abrupt("return",!!t.hasSettingsEditPermission);case 4:case"end":return e.stop()}}),e)}))),function(){return Wv.apply(this,arguments)}),label:"Настройки",icon:na,tabs:[{id:"common",isActive:function(){return rs(["/settings","/settings/common"])},label:"Общая информация"},{id:"roles",isActive:function(){return rs(["/settings","/settings/roles"])},isDisabled:(Hv=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:return t=e.sent,e.abrupt("return",!t.hasUsersAccessLevelsPermission);case 4:case"end":return e.stop()}}),e)}))),function(){return Hv.apply(this,arguments)}),label:"Роли сотрудников"},{id:"integration",isActive:function(){return rs(["/settings","/settings/integration"])},label:"Интеграция в Telegram"}]}]}],eb=function(){return ve(ge,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,background:function(e){return e.palette.background.paper}},children:ve(oa,{})})},tb=function(){return ve(Le,{})},nb=L(i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua.prefetch(!0);case 2:case"end":return e.stop()}}),e)})))),rb=function(){Xl.layoutService.setAppbarLoader(!0)},ab=function(){Xl.layoutService.setAppbarLoader(!1)},ib=function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("logout-action"!==t){e.next=3;break}return e.next=3,Xl.authService.logout();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ob=Lr((function(){return ve(kt,{children:ve(ft,{primary:Xl.appwriteService.currentUser.email,secondary:Xl.appwriteService.currentUser.$id})})})),ub=Lr((function(){return ve(ge,{sx:{display:{xs:"none",md:"flex"}},children:[ve(Mt,{condition:(t=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:return t=e.sent,e.abrupt("return",t.hasBidCreatePermission);case 4:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),payload:Xl.appwriteService.isAuthorized,children:ve(en,{sx:{mr:1},variant:"contained",size:"small",color:"info",onClick:function(){return Xl.routerService.push("/bid/create")},children:"Добавить заявку"})}),ve(Mt,{condition:(e=i(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xl.permissionService.getPermissions();case 2:return t=e.sent,e.abrupt("return",t.hasApartmentCreatePermission);case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),payload:Xl.appwriteService.isAuthorized,children:ve(en,{variant:"contained",size:"small",color:"info",onClick:function(){return Xl.routerService.push("/apartment/create")},children:"Добавить объект"})}),ve(Xv,{})]});var e,t})),lb=function(){var e=l(ye.useState(Rv()),2),t=e[0],n=e[1],r=l(ye.useState(Xl.routerService.location.pathname),2),a=r[0],i=r[1],o=l(ye.useState(Xl.layoutService.hasAppbarLoader),2),u=o[0],s=o[1],c=l(ye.useState(Xl.layoutService.hasModalLoader),2),p=c[0],d=c[1],m=ye.useMemo((function(){return rs(Mv.map((function(e){return e.path})))}),[a]);return ye.useEffect((function(){return Oe((function(){return Xl.routerService.location.pathname}),(function(){n(Rv())}))}),[]),ye.useEffect((function(){return ra((function(){i(Xl.routerService.location.pathname)}),{delay:10})}),[]),ye.useEffect((function(){return ra((function(){s(Xl.layoutService.hasAppbarLoader)}),{delay:10})}),[]),ye.useEffect((function(){return ra((function(){d(Xl.layoutService.hasModalLoader)}))}),[]),ve(Le,{children:[ve(aa,{fixedHeader:!0,noAppName:!0,noSearch:!0,noContent:m,appName:Da,deps:[a],activeOptionPath:(null==t?void 0:t.sideMenu)||"",loading:u,options:Qv,actions:Jv,onOptionClick:jv,onOptionGroupClick:jv,onTabChange:Bv,onLoadStart:rb,onLoadEnd:ab,onAction:ib,BeforeSearch:Gv,onInit:nb,BeforeMenuContent:ob,BeforeActionMenu:ub,children:ve(ia,{Loader:tb,history:Xl.routerService,items:Iv,fallback:Xl.errorService.handleGlobalError,onLoadStart:rb,onLoadEnd:ab,onInit:nb})}),p&&ve(eb,{})]})},sb=ve(ha,{fontSize:"small"}),cb=ve(va,{fontSize:"small"}),pb=[],db=ba({palette:{mode:"light",primary:{main:"#1f497a"},secondary:{main:"#1f497a"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#e9e9e9",paper:"#fff"}},components:{MuiAppBar:{styleOverrides:{root:{background:"#132e55"}}}}}),mb=document.getElementById("root"),fb=_a({key:"mui",prepend:!0}),yb=_a({key:"tss"});ga("bgcolor-red","background: rgb(255, 229, 229); color: rgb(255, 0, 0);"),ga("bgcolor-green","background: rgb(240, 246, 236); color: rgb(112, 173, 71);"),ga("text-spacer","display: inline-block; padding: 10px; visibility: hidden;"),ga("text-underline","display: inline-block; text-decoration: underline;"),ga("blank-link","display: inline-block; text-decoration: underline;",{onClick:function(e){var t=e.currentTarget.getAttribute("href");t&&ue(t)}});var hb=ve(Ca,{history:Xl.routerService,onError:Xl.errorService.handleGlobalError,children:ve(ka,{value:fb,children:ve(xa,{value:yb,children:ve(wa,{theme:db,children:ve(Sa,{dateAdapter:za,children:ve(ns,{children:ve(Ta,{Combo:function(e){var t=e.value,n=e.disabled,a=e.readonly,o=e.description,s=void 0===o?"":o,c=e.placeholder,p=void 0===c?"":c,d=e.outlined,m=void 0===d||d,y=e.itemList,h=void 0===y?[]:y,v=e.virtualListBox,b=e.watchItemList,_=e.labelShrink,g=e.noDeselect,k=e.freeSolo,x=e.title,w=void 0===x?"":x,S=e.dirty,z=e.invalid,T=e.tr,A=void 0===T?function(e){return e.toString()}:T,F=e.onChange,C=la().object,V=sa(),M=l(ye.useState((function(){return{options:[],labels:{}}})),2),L=M[0],I=M[1],B=ye.useRef(!1),j=ca([L],10),D=An(L.labels),R=ye.useMemo((function(){if("string"==typeof t)return t;var e=l(Object.values(t||{}),1)[0];return void 0===e?null:e}),[t]),q=pa().fallback,P=He(function(){var e=i(r().mark((function e(t){var n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},h=da(h)||[],e.t0=f,e.t1=Set,e.t2=Object,"function"!=typeof h){e.next=11;break}return e.next=8,Promise.resolve(h(t,V));case 8:e.t3=e.sent,e.next=12;break;case 11:e.t3=h;case 12:return e.t4=e.t3,e.t5=e.t2.values.call(e.t2,e.t4),e.t6=new e.t1(e.t5),a=(0,e.t0)(e.t6),e.next=18,Promise.all(a.map(function(){var e=i(r().mark((function e(a){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(A(a,t,V));case 2:return e.abrupt("return",n[a]=e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 18:return k&&R&&!a.includes(R)&&a.push(R),I({labels:n,options:a}),B.current=!0,e.next=23,j();case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:q}),E=P.loading,N=P.execute,O=function(e){return Object.values(e||{}).sort((function(e,t){return t.localeCompare(e)})).join("-")}(R),U=ye.useRef(null),H=ye.useRef(!0);ye.useEffect((function(){if(!H.current){if(U.current===C)return;if(!b)return}U.current=C,H.current=!1,N(C)}),[O,n,S,z,C,a]);var W=function(e,t){return function(n){return ve(Pt,u(u({},n),{},{sx:u({},!m&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),variant:m?"outlined":"standard",placeholder:e?void 0:p,label:w,helperText:S&&z||s,error:S&&null!==z,InputProps:u(u({},n.InputProps),{},{readOnly:t,endAdornment:ve(Le,{children:[e?ve(ya,{color:"inherit",size:20}):null,n.InputProps.endAdornment]})}),InputLabelProps:u(u({},n.InputLabelProps),_&&{shrink:!0})}))}},$=function(e,t,n){var r=D.current;return ve("li",u(u({},e),{},{children:[ve(mt,{icon:sb,checkedIcon:cb,style:{marginRight:8},checked:n.selected}),k?t:r[t]||"".concat(t," (unknown)")]}))},G=function(e){var t=D.current;return k?e:t[e]||"".concat(e," (unknown)")},Y=function(e){F(e?[e]:null)};return E||!B.current?ve(fa,{disableClearable:g,disabled:!0,loading:!0,value:null,options:pb,onChange:function(){return null},freeSolo:k,ListboxComponent:v?ma:void 0,getOptionLabel:G,renderInput:W(!0,!0),renderOption:$}):ve(fa,{disableClearable:g,loading:E,value:R||null,onChange:function(e,t){return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),Y(t)},getOptionLabel:G,freeSolo:k,options:L.options,disabled:n,readOnly:a,ListboxComponent:v?ma:void 0,renderInput:W(!1,a),renderOption:$})},children:ve(Aa,{FilterListSlot:yn,children:ve(Fa,{children:ve($v,{children:ve(lb,{})})})})})})})})})})}),vb=Va(mb);Ma.setValue({WITH_DIRTY_CLICK_LISTENER:!0,WITH_MOBILE_READONLY_FALLBACK:!0,WITH_WAIT_FOR_MOVE_LISTENER:!0,WITH_WAIT_FOR_TOUCH_LISTENER:!0,WITH_DISMOUNT_LISTENER:!0,WITH_SYNC_COMPUTE:!0,CUSTOM_FIELD_DEBOUNCE:800});var bb=function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(;!window.Translate;)H(500);vb.render(hb);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();bb()}}}))}();
