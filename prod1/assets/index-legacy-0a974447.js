!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return n};var n={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(V){c=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,o=Object.create(a.prototype),l=new T(r||[]);return i(o,"_invoke",{value:w(e,n,l)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(V){return{type:"throw",arg:V}}}n.wrap=d;var m={};function f(){}function y(){}function h(){}var v={};c(v,l,(function(){return this}));var b=Object.getPrototypeOf,_=b&&b(b(A([])));_&&_!==r&&a.call(_,l)&&(v=_);var k=h.prototype=f.prototype=Object.create(v);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(t,n){function r(i,o,l,u){var s=p(t[i],t,o);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==e(d)&&a.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,l,u)}),(function(e){r("throw",e,l,u)})):n.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return r("throw",e,l,u)}))}u(s.arg)}var o;i(this,"_invoke",{value:function(e,t){function a(){return new n((function(n,a){r(e,t,n,a)}))}return o=o?o.then(a,a):a()}})}function w(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return C()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var l=S(o,n);if(l){if(l===m)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=p(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function S(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var a=p(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,m;var i=a.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,m):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function z(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function F(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(z,this),this.reset(!0)}function A(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:C}}function C(){return{value:void 0,done:!0}}return y.prototype=h,i(k,"constructor",{value:h,configurable:!0}),i(h,"constructor",{value:y,configurable:!0}),y.displayName=c(h,s,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},g(x.prototype),c(x.prototype,u,(function(){return this})),n.AsyncIterator=x,n.async=function(e,t,r,a,i){void 0===i&&(i=Promise);var o=new x(d(e,t,r,a),i);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},g(k),c(k,s,"Generator"),c(k,l,(function(){return this})),c(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=A,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(F),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var l=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(l&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),F(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;F(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),m}},n}function n(e,t,n,r,a,i,o){try{var l=e[i](o),u=l.value}catch(s){return void n(s)}l.done?t(u):Promise.resolve(u).then(r,a)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(a,i){var o=e.apply(t,r);function l(e){n(o,a,i,l,u,"next",e)}function u(e){n(o,a,i,l,u,"throw",e)}l(void 0)}))}}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,l=[],u=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);u=!0);}catch(c){s=!0,a=c}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(s)throw a}}return l}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function s(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(t){var n=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!==e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"===e(n)?n:String(n)}function p(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=f(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw i}}}}function f(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new v(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function v(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return v=function(e){this.s=e,this.n=e.next},v.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new v(e)}function b(e){var t,n;function r(t,n){try{var i=e[t](n),o=i.value,l=o instanceof _;Promise.resolve(l?o.v:o).then((function(n){if(l){var u="return"===t?"return":"next";if(!o.k||n.done)return r(u,n);n=e[u](n).value}a(i.done?"return":"normal",n)}),(function(e){r("throw",e)}))}catch(u){a("throw",u)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(i,o){var l={key:e,arg:a,resolve:i,reject:o,next:null};n?n=n.next=l:(t=n=l,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function _(e,t){this.v=e,this.k=t}b.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},b.prototype.next=function(e){return this._invoke("next",e)},b.prototype.throw=function(e){return this._invoke("throw",e)},b.prototype.return=function(e){return this._invoke("return",e)},System.register(["./vendor-legacy-abb9d49d.js"],(function(e,n){"use strict";var a,u,d,f,y,v,k,g,x,w,S,z,F,T,A,C,V,L,M,I,D,B,j,q,R,P,E,N,U,H,W,O,G,$,Y,Z,X,K,J,Q,ee,te,ne,re,ae,ie,oe,le,ue,se,ce,de,pe,me,fe,ye,he,ve,be,_e,ke,ge,xe,we,Se,ze,Fe,Te,Ae,Ce,Ve,Le,Me,Ie,De,Be,je,qe,Re,Pe,Ee,Ne,Ue,He,We,Oe,Ge,$e,Ye,Ze,Xe,Ke,Je,Qe,et,tt,nt,rt,at,it,ot,lt,ut,st,ct,dt,pt,mt,ft,yt,ht,vt,bt,_t,kt,gt,xt,wt,St,zt,Ft,Tt,At,Ct,Vt,Lt,Mt,It,Dt,Bt,jt,qt,Rt,Pt,Et,Nt,Ut,Ht,Wt,Ot,Gt,$t,Yt,Zt,Xt,Kt,Jt,Qt,en,tn,nn,rn,an,on,ln,un,sn,cn,dn,pn,mn,fn,yn,hn,vn,bn,_n,kn,gn,xn,wn,Sn,zn,Fn,Tn,An,Cn,Vn,Ln,Mn,In,Dn,Bn,jn,qn,Rn,Pn,En,Nn,Un,Hn,Wn,On,Gn,$n,Yn,Zn,Xn,Kn,Jn,Qn,er,tr,nr,rr,ar,ir,or,lr,ur,sr,cr,dr,pr,mr,fr,yr,hr,vr,br,_r,kr,gr,xr,wr,Sr,zr,Fr,Tr,Ar,Cr,Vr,Lr,Mr,Ir,Dr,Br,jr,qr,Rr,Pr,Er,Nr,Ur,Hr,Wr,Or,Gr,$r,Yr,Zr,Xr,Kr,Jr,Qr,ea,ta,na;return{setters:[function(e){a=e.a,u=e.i,d=e.s,f=e.d,y=e.l,v=e.u,k=e.b,g=e.r,x=e.m,w=e.v,S=e.c,z=e.f,F=e.x,T=e.e,A=e.Q,C=e.p,V=e.I,L=e.A,M=e.D,I=e.F,D=e.S,B=e.g,j=e.C,q=e.h,R=e.j,P=e.k,E=e.n,N=e.o,U=e.q,H=e.t,W=e.w,O=e.y,G=e.z,$=e.B,Y=e.E,Z=e.G,X=e.H,K=e.V,J=e.O,Q=e.J,ee=e.K,te=e.W,ne=e.M,re=e.P,ae=e.L,ie=e.N,oe=e.R,le=e.T,ue=e.U,se=e.X,ce=e.Y,de=e.Z,pe=e._,me=e.$,fe=e.a0,ye=e.a1,he=e.a2,ve=e.a3,be=e.a4,_e=e.a5,ke=e.a6,ge=e.a7,xe=e.a8,we=e.a9,Se=e.aa,ze=e.ab,Fe=e.ac,Te=e.ad,Ae=e.ae,Ce=e.af,Ve=e.ag,Le=e.ah,Me=e.ai,Ie=e.aj,De=e.ak,Be=e.al,je=e.am,qe=e.an,Re=e.ao,Pe=e.ap,Ee=e.aq,Ne=e.ar,Ue=e.as,He=e.at,We=e.au,Oe=e.av,Ge=e.aw,$e=e.ax,Ye=e.ay,Ze=e.az,Xe=e.aA,Ke=e.aB,Je=e.aC,Qe=e.aD,et=e.aE,tt=e.aF,nt=e.aG,rt=e.aH,at=e.aI,it=e.aJ,ot=e.aK,lt=e.aL,ut=e.aM,st=e.aN,ct=e.aO,dt=e.aP,pt=e.aQ,mt=e.aR,ft=e.aS,yt=e.aT,ht=e.aU,vt=e.aV,bt=e.aW,_t=e.aX,kt=e.aY,gt=e.aZ,xt=e.a_,wt=e.a$,St=e.b0,zt=e.b1,Ft=e.b2,Tt=e.b3,At=e.b4,Ct=e.b5,Vt=e.b6,Lt=e.b7,Mt=e.b8,It=e.b9,Dt=e.ba,Bt=e.bb,jt=e.bc,qt=e.bd,Rt=e.be,Pt=e.bf,Et=e.bg,Nt=e.bh,Ut=e.bi,Ht=e.bj,Wt=e.bk,Ot=e.bl,Gt=e.bm,$t=e.bn,Yt=e.bo,Zt=e.bp,Xt=e.bq,Kt=e.br,Jt=e.bs,Qt=e.bt,en=e.bu,tn=e.bv,nn=e.bw,rn=e.bx,an=e.by,on=e.bz,ln=e.bA,un=e.bB,sn=e.bC,cn=e.bD,dn=e.bE,pn=e.bF,mn=e.bG,fn=e.bH,yn=e.bI,hn=e.bJ,vn=e.bK,bn=e.bL,_n=e.bM,kn=e.bN,gn=e.bO,xn=e.bP,wn=e.bQ,Sn=e.bR,zn=e.bS,Fn=e.bT,Tn=e.bU,An=e.bV,Cn=e.bW,Vn=e.bX,Ln=e.bY,Mn=e.bZ,In=e.b_,Dn=e.b$,Bn=e.c0,jn=e.c1,qn=e.c2,Rn=e.c3,Pn=e.c4,En=e.c5,Nn=e.c6,Un=e.c7,Hn=e.c8,Wn=e.c9,On=e.ca,Gn=e.cb,$n=e.cc,Yn=e.cd,Zn=e.ce,Xn=e.cf,Kn=e.cg,Jn=e.ch,Qn=e.ci,er=e.cj,tr=e.ck,nr=e.cl,rr=e.cm,ar=e.cn,ir=e.co,or=e.cp,lr=e.cq,ur=e.cr,sr=e.cs,cr=e.ct,dr=e.cu,pr=e.cv,mr=e.cw,fr=e.cx,yr=e.cy,hr=e.cz,vr=e.cA,br=e.cB,_r=e.cC,kr=e.cD,gr=e.cE,xr=e.cF,wr=e.cG,Sr=e.cH,zr=e.cI,Fr=e.cJ,Tr=e.cK,Ar=e.cL,Cr=e.cM,Vr=e.cN,Lr=e.cO,Mr=e.cP,Ir=e.cQ,Dr=e.cR,Br=e.cS,jr=e.cT,qr=e.cU,Rr=e.cV,Pr=e.cW,Er=e.cX,Nr=e.cY,Ur=e.cZ,Hr=e.c_,Wr=e.c$,Or=e.d0,Gr=e.d1,$r=e.d2,Yr=e.d3,Zr=e.d4,Xr=e.d5,Kr=e.d6,Jr=e.d7,Qr=e.d8,ea=e.d9,ta=e.da,na=e.db}],execute:function(){var e=function(){var e=[];return function t(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(n){var r=n.fields||[],a=n.child?[n.child]:[];t([].concat(p(r),a)),e.push(n)}))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]),e},n=function(t){return e(t).filter((function(e){return e.name})).map((function(e){return{name:e.name,type:e.type}})).reduce((function(e,t){var n=t.name,r=t.type;return e.some((function(e){var t=e.name===n;return t&&e.type!=r&&console.warn("CONFLICT name=".concat(n," type1=").concat(e.type," type2=").concat(r)),t}))?e:[].concat(p(e),[{name:n,type:r}])}),[])};window.mapSchema=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.textFieldSize,i=void 0===r?96:r,o=t.itemFieldSize,l=void 0===o?48:o,u=t.comboFieldSize,s=void 0===u?48:u,c=t.dateFieldSize,d=void 0===c?12:c,p=t.timeFieldSize,m=void 0===p?12:p;return n(e).map((function(e){var t=e.type,n=e.name;return t===a.Items?{key:n,type:"string",status:"available",required:!1,array:!0,size:l,default:null}:t===a.Combo?{key:n,type:"string",status:"available",required:!1,array:!1,size:s,default:null}:t===a.Time?{key:n,type:"string",status:"available",required:!1,array:!1,size:m,default:null}:t===a.Radio?{key:n,type:"string",status:"available",required:!1,array:!1,size:radioFieldSize,default:null}:t===a.Date?{key:n,type:"string",status:"available",required:!1,array:!1,size:d,default:null}:t===a.Checkbox||t===a.Switch?{key:n,type:"boolean",status:"available",required:!1,array:!1,default:null}:(t===a.Component&&console.warn("Field name=".concat(n," is a component field. By default we are using nvarchar[").concat(i,"]. Double check manually for an array field")),{key:n,type:"string",status:"available",required:!1,array:!1,size:i,default:null})})).map((function(e){return JSON.stringify(e,null,2)})).join(",\n")},window.mapFields=n,window.mapTypes=function(e){return n(e).map((function(e){var t=e.name,n=e.type;return'"'.concat(t,'": ').concat(n===a.Combo?"string[] | null":n===a.Text?"string":n===a.Items?"string[] | null":n===a.Date||n===a.Radio||n===a.Complete||n===a.Time?"string":n===a.Checkbox||n===a.Switch?"boolean":(console.warn("UNKNOWN TYPE name=".concat(t," type=").concat(n.toString())),"string"),";")})).join("\n")},window.deepFlat=e,"ResizeObserver"in window||(window.ResizeObserver=u),d.polyfill(),f.extend(y),f.extend(v),f.extend(k),f.locale(g);var ra={projectId:"64b53d0c41fcf5093b12",projectName:"RealEstate",databases:[{$id:"64c4de8e7b30179809ef",name:"DATABASE",$createdAt:"2023-09-14T10:10:35.686+00:00",$updatedAt:"2023-09-14T11:59:42.307+00:00",enabled:!0}],collections:[{$id:"64c4fb401e0a490e44bf",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"USER",enabled:!0,documentSecurity:!1,attributes:[{key:"user_role",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"email",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"middle_name",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"user_features",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"user_files",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"phone",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"active",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"first_name",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"last_name",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"avatar",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:-1},{key:"system_metadata",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"filial",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"otdel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"status_sotrudnika",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"telegram",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"fejsbuk",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"instagram",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vatsap",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"v_kontakte",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zum",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"semejnoe_polozhenie",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rabochij_telefon",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"lichnyj_nomer",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"ofis",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"data_priema_rezyume",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"sertifikat",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"nachalo_opyta_raboty",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"data_uvolneniya",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"prichina_uvolneniya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"pol",type:"string",status:"available",error:"",required:!1,array:!1,size:18,default:null},{key:"data_rozhdeniya",type:"string",status:"available",error:"",required:!1,array:!1,size:20,default:null},{key:"seriya-i-nomer_pasporta",type:"string",status:"available",error:"",required:!1,array:!1,size:30,default:null},{key:"data-vydachi_pasporta",type:"string",status:"available",error:"",required:!1,array:!1,size:20,default:null},{key:"kem_vydan",type:"string",status:"available",error:"",required:!1,array:!1,size:25,default:null},{key:"data_trudoustrojstva",type:"string",status:"available",error:"",required:!1,array:!1,size:10,default:null},{key:"dolzhnost",type:"string",status:"available",error:"",required:!1,array:!1,size:20,default:null},{key:"nachalnik_otdela",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"deti",type:"string",status:"available",error:"",required:!1,array:!1,size:10,default:null},{key:"adres_propiski",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"adres_prozhivaniya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"o_sebe",type:"string",status:"available",error:"",required:!1,array:!1,size:256,default:null},{key:"hobbi",type:"string",status:"available",error:"",required:!1,array:!1,size:256,default:null}],indexes:[{key:"system_metadata",type:"fulltext",status:"available",error:"",attributes:["system_metadata"],orders:["ASC"]},{key:"email1",type:"fulltext",status:"available",error:"",attributes:["email"],orders:["ASC"]},{key:"email1-phone1",type:"fulltext",status:"available",error:"",attributes:["email","phone"],orders:["ASC","ASC"]},{key:"phone1",type:"fulltext",status:"available",error:"",attributes:["phone"],orders:["ASC"]}]},{$id:"64c4fb9158c913d9036e",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"SETTINGS",enabled:!0,documentSecurity:!1,attributes:[{key:"usd_eur",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"usd_uzs",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"watermark_file_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"masterdetail_mode",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null}],indexes:[]},{$id:"64d5f3fb13b5a40c0d1d",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"FILES",enabled:!0,documentSecurity:!1,attributes:[{key:"name",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null}],indexes:[]},{$id:"64d4a34e613b8f723d6f",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"CONTACT",enabled:!0,documentSecurity:!1,attributes:[{key:"telefon",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"status_klienta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip_klienta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"loyalnost_klienta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"osnovanie-deyatelnosti-dannogo_licza",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"naimenovanie_organizaczii",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kadastrovyj-nomer_zemli",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"data-vydachi_pasporta",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kontakt",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"seriya-i-nomer_pasporta",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"fio",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kem_vydan",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"adres_registraczii",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sertifikat_kompanii",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"dolzhnost_rukovoditelya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_files",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"kadastrovyj-nomer_obekta",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"istochnik",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rekvizity",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"system_metadata",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"pinfl",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"fakticheskij_adres",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"data_rozhdeniya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"inn",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"pol",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"email",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"data-sozdaniya_klienta",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"yuridicheskij_adres",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:-1},{key:"contact_phones",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"contact_names",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"system_access_level",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null}],indexes:[{key:"fio",type:"fulltext",status:"available",error:"",attributes:["fio"],orders:["ASC"]},{key:"system_metadata",type:"fulltext",status:"available",error:"",attributes:["system_metadata"],orders:["ASC"]},{key:"fio-telefon",type:"fulltext",status:"available",error:"",attributes:["fio","telefon"],orders:["ASC","ASC"]},{key:"telefon",type:"fulltext",status:"available",error:"",attributes:["telefon"],orders:["ASC"]}]},{$id:"64db49022640a0d53252",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"DEAL",enabled:!0,documentSecurity:!1,attributes:[{key:"user_id",type:"string",status:"available",error:"",required:!0,array:!1,size:96,default:null},{key:"apartment_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"bid_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"status",type:"string",status:"available",error:"",required:!0,array:!1,size:48,default:null},{key:"type",type:"string",status:"available",error:"",required:!0,array:!1,size:48,default:null},{key:"price",type:"string",status:"available",error:"",required:!1,array:!0,size:128,default:null},{key:"price_unit",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"index",type:"integer",status:"available",error:"",required:!0,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"fio",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"telefon",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip_klienta",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null}],indexes:[{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]},{key:"apartment",type:"key",status:"available",error:"",attributes:["apartment_id"],orders:["ASC"]},{key:"bid",type:"key",status:"available",error:"",attributes:["bid_id"],orders:["ASC"]}]},{$id:"64c75cc607be95d26b8d",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"EDITTARGET",enabled:!0,documentSecurity:!1,attributes:[{key:"entity_id",type:"string",status:"available",error:"",required:!1,array:!1,size:64,default:null},{key:"path",type:"string",status:"available",error:"",required:!1,array:!1,size:64,default:null}],indexes:[]},{$id:"64ff0d1a1eec52961ec4",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"DEAL_HISTORY",enabled:!0,documentSecurity:!1,attributes:[{key:"bid_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"type",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"apartment_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"payload",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"comment",type:"string",status:"available",error:"",required:!1,array:!1,size:512,default:null},{key:"deal_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null}],indexes:[{key:"bid_type",type:"key",status:"available",error:"",attributes:["bid_id","type"],orders:["ASC","ASC"]},{key:"apartment_type",type:"key",status:"available",error:"",attributes:["apartment_id","type"],orders:["ASC","ASC"]},{key:"apartment",type:"key",status:"available",error:"",attributes:["apartment_id"],orders:["ASC"]},{key:"bid",type:"key",status:"available",error:"",attributes:["bid_id"],orders:["ASC"]},{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]}]},{$id:"64d4a5782854ff66e9a1",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"APARTMENT",enabled:!0,documentSecurity:!1,attributes:[{key:"sanuzel_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"raspolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_czena_sobstvennika_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"orientir",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"terrasa",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"sistema_kondiczionirovaniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"etazhnost",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"etazh",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_gostevogo_doma",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kanalizacziya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_sanuzla",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mestopolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_balkona",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"system_metadata",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"prod_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"uglovoj",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"voda_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rajon",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"strana",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-kondiczionirovaniya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_komnat",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kolichestvo_spalen",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_doma",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"bassejn",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip_stroeniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"raspolozhenie_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kanalizacziya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sistema-otopleniya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_kom_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"nazvanie_zhk",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"podezd_nomer",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie_remonta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mashina_mesto",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"naznachenie-obekta-zemlya_uchastok",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"elektrichestvo",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"is_rent",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip_zemli_uchastka",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_czena_sobstvennika",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_kom_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"rent_kom_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"czokol",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"vysota_potolkov",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mebel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"is_sell",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"parkovka_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sistema-otopleniya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"god_postrojki",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"naznachenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_kom_startovaya_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zhd_vetka",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_kuhni",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"voda_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_kom_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zagolovok",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-kondiczionirovaniya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"metro",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sanuzel_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"vid_iz_okna",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_holla",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie-remonta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"gaz_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rasstoyanie_do_goroda",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"is_archive",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"rent_kom_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"lift_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"elektrichestvo_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sanuzel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"arenda",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mebel_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"lift_kommercziya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie_remonta-kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"podkategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"energonositel_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sistema-otopleniya_kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kanalizacziya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mebel_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rasstoyanie_do_metro",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"parkovka",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"lift_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"gorod",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"oblast",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"podezdnye_puti",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"torecz",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"nomer_kvartiry",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"gaz_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"istochnik",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sobstvennoe_obsluzhivayushhee_tszh",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"sistema_otopleniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"garazh",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"poleznaya_ploshhad",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"elektrichestvo_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kod_domofona",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip_planirovki",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"parkovka_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip-stroeniya_kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"nomer_doma",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"apartment_images",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"prod_kom_czena_sobstvennika",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_startovaya_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mahallya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_startovaya_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"voda",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"apartment_files",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"ploshhad_spalni",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"addon_square_names",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_gostinnoj",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_terrasy",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"gaz",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"zhilaya_ploshhad",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:-1},{key:"konserzh",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_kom_czena_sobstvennika_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_kom_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"vid_iz_okna_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"garderobnaya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ploshhad_dopolnitelnoj_pristrojki",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ulicza",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"naznachenie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"obshhaya_ploshhad",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"creator_user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"addon_square_values",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_startovaya_czena",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_komnaty_ohrany",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"spalnya_sanuzel",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"vid_liczenzii",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mestopolozhenie-obekta_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_sotok",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip-stroeniya_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mestopolozhenie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prodazha",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"opisanie",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"vnutri_est",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ryadom_est",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"komnata_ohrany",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"vdol_dorogi",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"podval",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"saraj",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ogorod",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"reshetki_na_oknah",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"pozharnaya_signalizacziya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"videonablyudenie",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"signalizacziya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"razgruzochnyj_pandus",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"gostevoj_domik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"barbekyu_zona",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"dva_doma_vo_dvore",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"polisadnik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"dopolnitelnaya_pristrojka",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ohrana",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"holodilnik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_access_level",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"system_is_rent",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_is_sell",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_is_archive",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null}],indexes:[]},{$id:"64d7502a5ce9f881b680",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"BIDS",enabled:!0,documentSecurity:!1,attributes:[{key:"parkovka",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"naznachenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"spalnya_sanuzel_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kanalizacziya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_spalen_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"etazh_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mebel_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"system_metadata",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"prod_kom_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mebel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"vdol_dorogi",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ploshhad_sanuzla_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip_stroeniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"poleznaya_ploshhad_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"is_sell",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"sostoyanie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"etazhnost_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rasstoyanie_do_metro_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip-stroeniya_kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"czokol",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"god_postrojki_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"konserzh",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"sistema-otopleniya_kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"nomer_kvartiry",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_kuhni_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zhilaya_ploshhad_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"etazh_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_balkona_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"god_postrojki_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prodazha",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"zagolovok",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"voda",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"metro",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"lift_kommercziya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"gaz",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"poleznaya_ploshhad_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"kolichestvo_sotok_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"spalnya_sanuzel_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_iz_okna",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_spalen_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"lift_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie_remonta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"bassejn",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mashina_mesto_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sanuzel",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"obshhaya_ploshhad_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"obshhaya_ploshhad_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema_kondiczionirovaniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_sotok_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vysota_potolkov_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"raspolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"naznachenie-obekta-zemlya_uchastok",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"raspolozhenie_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"nazvanie_zhk",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vysota_potolkov_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sanuzel_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"voda_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_komnat_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zhd_vetka",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"podkategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kolichestvo_komnat_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_startovaya_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"zhilaya_ploshhad_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"elektrichestvo",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_holla_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"torecz",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"kategoriya_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"istochnik",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mebel_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"terrasa",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"tip_zemli_uchastka",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_kom_startovaya_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_kom_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_komissiya_menedzhera_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"voda_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mahallya",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rajon",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"tip-stroeniya_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"bid_files",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"ploshhad_dopolnitelnoj_pristrojki_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie-remonta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-otopleniya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-otopleniya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sostoyanie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sobstvennoe_obsluzhivayushhee_tszh",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"kanalizacziya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"gaz_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_czena_sobstvennika_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"strana",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"gorod",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"bid_images",type:"string",status:"available",error:"",required:!1,array:!0,size:96,default:null},{key:"rent_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"oblast",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ploshhad_sanuzla_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_komnaty_ohrany_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"orientir",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"vid_iz_okna_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_gostevogo_doma_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mestopolozhenie_obekta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"sanuzel_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_kom_czena_sobstvennika_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"is_archive",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"rent_kom_startovaya_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"parkovka_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"garderobnaya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"prod_kom_startovaya_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"garazh",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_startovaya_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_startovaya_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"mestopolozhenie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rasstoyanie_do_goroda_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_dopolnitelnoj_pristrojki_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_czena_sobstvennika_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"elektrichestvo_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_komnaty_ohrany_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_kuhni_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema_otopleniya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"elektrichestvo_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ulicza",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_torg",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"vid_liczenzii",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rasstoyanie_do_goroda_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rasstoyanie_do_metro_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-kondiczionirovaniya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_gostinnoj_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_komissiya_menedzhera",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_startovaya_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_startovaya_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"balkon_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"kanalizacziya_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_holla_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"ploshhad_balkona_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie_remonta-kvartiry",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_kom_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_startovaya_czena_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"tip_planirovki",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_spalni_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_czena_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"podval",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"nomer_doma",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"podezdnye_puti",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"etazhnost_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_startovaya_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_kom_czena_sobstvennika_valyuta",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_doma_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_czena_sobstvennika_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"lift_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mestopolozhenie-obekta_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"gaz_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_spalni_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sostoyanie_doma",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"opisanie",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null},{key:"ploshhad_gostinnoj_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"parkovka_kvartira",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"uglovoj",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"naznachenie-obekta_zemlya",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"arenda",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_kom_czena_sobstvennika_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_komissiya_agenstva_unit",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_terrasy_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_czena_sobstvennika_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"sistema-kondiczionirovaniya_dom",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"creator_user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_czena_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"rent_kom_startovaya_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_terrasy_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:-1},{key:"mashina_mesto_do",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_czena_sobstvennika_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_gostevogo_doma_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"prod_kom_startovaya_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ploshhad_doma_ot",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"is_rent",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"rent_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rent_startovaya_czena_for",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"prod_komissiya_agenstva",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"metro_list",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"rajon_list",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"mahallya_list",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"vnutri_est",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"ryadom_est",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null},{key:"komnata_ohrany",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"saraj",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ogorod",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"reshetki_na_oknah",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"pozharnaya_signalizacziya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"videonablyudenie",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"signalizacziya",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"razgruzochnyj_pandus",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"gostevoj_domik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"barbekyu_zona",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"dva_doma_vo_dvore",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"polisadnik",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"dopolnitelnaya_pristrojka",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"ohrana",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_access_level",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"system_is_rent",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_is_sell",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"system_is_archive",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null}],indexes:[{key:"system_metadata",type:"fulltext",status:"available",error:"",attributes:["system_metadata"],orders:["ASC"]}]},{$id:"6509b9124a8ff89af189",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"SERVICE_COMMENT",enabled:!0,documentSecurity:!1,attributes:[{key:"apartment_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"bid_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"comment",type:"string",status:"available",error:"",required:!1,array:!1,size:2048,default:null},{key:"file_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null}],indexes:[{key:"apartment",type:"key",status:"available",error:"",attributes:["apartment_id"],orders:["ASC"]},{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]},{key:"bid",type:"key",status:"available",error:"",attributes:["bid_id"],orders:["ASC"]}]},{$id:"650af9b005b11d0b21a4",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"ROLES",enabled:!0,documentSecurity:!1,attributes:[{key:"title",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"comment",type:"string",status:"available",error:"",required:!1,array:!1,size:2048,default:null},{key:"role_features",type:"string",status:"available",error:"",required:!1,array:!0,size:48,default:null}],indexes:[]},{$id:"651a9e22bab7ca1094fa",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"NOTIFY",enabled:!0,documentSecurity:!1,attributes:[{key:"user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"title",type:"string",status:"available",error:"",required:!1,array:!1,size:512,default:null},{key:"url",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"is_read",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null}],indexes:[{key:"user",type:"key",status:"available",error:"",attributes:["user_id"],orders:["ASC"]},{key:"user_read",type:"key",status:"available",error:"",attributes:["user_id","is_read"],orders:["ASC","ASC"]}]},{$id:"651bcf6238a18a8fd2f2",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"TASK",enabled:!0,documentSecurity:!1,attributes:[{key:"from_user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"to_user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"type",type:"string",status:"available",error:"",required:!1,array:!1,size:48,default:null},{key:"title",type:"string",status:"available",error:"",required:!1,array:!1,size:512,default:null},{key:"index",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"moment_stamp",type:"integer",status:"available",error:"",required:!1,array:!1,min:-0x8000000000000000,max:0x8000000000000000,default:null},{key:"is_complete",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"is_meet",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"is_call",type:"boolean",status:"available",error:"",required:!1,array:!1,default:null},{key:"from_user_fio",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"to_user_fio",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null},{key:"contact_fio",type:"string",status:"available",error:"",required:!1,array:!1,size:128,default:null}],indexes:[{key:"to_user",type:"key",status:"available",error:"",attributes:["to_user_id"],orders:["ASC"]},{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]},{key:"type",type:"key",status:"available",error:"",attributes:["type"],orders:["ASC"]},{key:"moment_stamp",type:"key",status:"available",error:"",attributes:["moment_stamp"],orders:["ASC"]},{key:"complete",type:"key",status:"available",error:"",attributes:["is_complete"],orders:["ASC"]}]},{$id:"651be76b0bfd3092408e",$permissions:['create("any")','read("any")','update("any")','delete("any")'],databaseId:"64c4de8e7b30179809ef",name:"TASK_HISTORY",enabled:!0,documentSecurity:!1,attributes:[{key:"user_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"contact_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"task_id",type:"string",status:"available",error:"",required:!1,array:!1,size:96,default:null},{key:"comment",type:"string",status:"available",error:"",required:!1,array:!1,size:1024,default:null}],indexes:[{key:"user",type:"key",status:"available",error:"",attributes:["user_id"],orders:["ASC"]},{key:"contact",type:"key",status:"available",error:"",attributes:["contact_id"],orders:["ASC"]},{key:"task",type:"key",status:"available",error:"",attributes:["task_id"],orders:["ASC"]}]}],buckets:[{$id:"64c4f91c7f9a4458c4bb",$createdAt:"2023-07-29T11:33:48.524+00:00",$updatedAt:"2023-07-29T14:57:21.610+00:00",$permissions:['create("any")','read("any")','update("any")','delete("any")'],fileSecurity:!1,name:"ROOT",enabled:!0,maximumFileSize:3e9,allowedFileExtensions:[],compression:"none",encryption:!0,antivirus:!0}],functions:[{$id:"6513df8529ea78bf2325",name:"BUN_APARTMENT_PAGINATOR",runtime:"bun-1.0",execute:[],events:[],schedule:"",timeout:15,enabled:!0,logging:!0,entrypoint:"src/index.js",commands:"bun install",ignore:["node_modules",".npm"],path:"functions/bun-apartment-paginator"},{$id:"6513fbd219052f40b1a8",name:"BUN_BID_PAGINATOR",runtime:"bun-1.0",execute:[],events:[],schedule:"",timeout:15,enabled:!0,logging:!0,entrypoint:"src/index.js",commands:"bun install",ignore:["node_modules",".npm"],path:"functions/bun-bid-paginator"},{$id:"65141fcd03cbb257e5fc",name:"BUN_CONTACT_PAGINATOR",runtime:"bun-1.0",execute:[],events:[],schedule:"",timeout:15,enabled:!0,logging:!0,entrypoint:"src/index.js",commands:"bun install",ignore:["node_modules",".npm"],path:"functions/bun-contact-paginator"}]},aa=function(e){var t=ra.collections.find((function(t){return t.name===e}));if(!t)throw new Error("params.ts collection not found: ".concat(e));return null==t?void 0:t.$id},ia=function(e){var t=ra.functions.find((function(t){return t.name===e}));if(!t)throw new Error("params.ts function not found: ".concat(e));return null==t?void 0:t.$id},oa="RealEstate",la=1700,ua=500,sa="/assets",ca="https://cloud.appwrite.io/v1",da="64c4de8e7b30179809ef",pa="64ff425ae6da38de0a60",ma=ra.buckets[0].$id,fa=aa("USER"),ya=aa("SETTINGS"),ha=aa("EDITTARGET"),va=aa("APARTMENT"),ba=aa("CONTACT"),_a=aa("FILES"),ka=aa("BIDS"),ga=aa("DEAL"),xa=aa("TASK"),wa=aa("DEAL_HISTORY"),Sa=aa("SERVICE_COMMENT"),za=aa("ROLES"),Fa=aa("NOTIFY"),Ta=aa("TASK_HISTORY"),Aa=ia("BUN_APARTMENT_PAGINATOR"),Ca=ia("BUN_CONTACT_PAGINATOR"),Va=ia("BUN_BID_PAGINATOR"),La="databases.*.collections.*.documents.*.update",Ma="databases.*.collections.*.documents.*.create",Ia="databases.*.collections.*.documents.*.delete",Da=1024,Ba=function(){function e(){var t=this;l(this,e),c(this,"_alerts",[]),c(this,"hideCurrent",(function(){t._alerts.length>0&&t._alerts.shift()})),c(this,"notify",(function(e){t.hideCurrent(),t._alerts.push({key:w(),message:e})})),x(this)}return s(e,[{key:"current",get:function(){return this._alerts.length?this._alerts[0]:null}}]),e}(),ja=function(e){var t=e.$id;return Object.entries(e).map((function(e){var t=o(e,2),n=t[0],r=t[1];return Array.isArray(r)?[n,r.length?r:null]:[n,r]})).reduce((function(e,t){var n=o(t,2),r=n[0],a=n[1];return i(i({},e),{},c({},r,a))}),{id:t})},qa=function(e){return e.map(ja)},Ra=function(e){return Object.entries(e).filter((function(e){return"id"!==o(e,1)[0]})).filter((function(e){return!o(e,1)[0].startsWith("$")})).filter((function(e){return!o(e,1)[0].startsWith("system_")})).map((function(e){var t=o(e,2),n=t[0],r=t[1];return Array.isArray(r)?[n,r.length?r:null]:[n,r]})).reduce((function(e,t){var n=o(t,2),r=n[0],a=n[1];return i(i({},e),{},c({},r,a))}),{})};window.toRussian=function(e){return S(e,{engToRus:!0,slug:!0})},window.fromRussian=function(e){return S(e,{slug:!0})};var Pa={appwriteService:Symbol.for("appwriteService"),alertService:Symbol.for("alertService"),layoutService:Symbol.for("layoutService"),routerService:Symbol.for("routerService"),errorService:Symbol.for("errorService"),authService:Symbol.for("authService"),dictService:Symbol.for("dictService"),cacheService:Symbol.for("cacheService"),ymapsService:Symbol.for("ymapsService"),loggerService:Symbol.for("loggerService"),realtimeService:Symbol.for("realtimeService")},Ea={editTargetService:Symbol.for("editTargetService"),permissionService:Symbol.for("permissionService"),featureService:Symbol.for("featureService")},Na={contactRequestService:Symbol.for("contactRequestService"),dealHistoryRequestService:Symbol.for("dealHistoryRequestService"),dealRequestService:Symbol.for("dealRequestService"),taskRequestService:Symbol.for("taskRequestService"),taskHistoryRequestService:Symbol.for("taskHistoryRequestService"),dashboardRequestService:Symbol.for("dashboardRequestService")},Ua={settingsDbService:Symbol.for("settingsDbService"),userDbService:Symbol.for("userDbService"),apartmentDbService:Symbol.for("apartmentDbService"),bidDbService:Symbol.for("bidDbService"),dealDbService:Symbol.for("dealDbService"),contactDbService:Symbol.for("contactDbService"),dealHistoryDbService:Symbol.for("dealHistoryDbService"),serviceCommentDbService:Symbol.for("serviceCommentDbService"),roleDbService:Symbol.for("roleDbService"),notifyDbService:Symbol.for("notifyDbService"),taskDbService:Symbol.for("taskDbService"),taskHistoryDbService:Symbol.for("taskHistoryDbService")},Ha={settingsViewService:Symbol.for("settingsViewService"),userViewService:Symbol.for("userViewService"),apartmentViewService:Symbol.for("apartmentViewService"),bidViewService:Symbol.for("bidViewService"),dealViewService:Symbol.for("dealViewService"),contactViewService:Symbol.for("contactViewService"),dealHistoryViewService:Symbol.for("dealHistoryViewService"),serviceCommentViewService:Symbol.for("serviceCommentViewService"),roleViewService:Symbol.for("roleViewService"),notifyViewService:Symbol.for("notifyViewService"),taskViewService:Symbol.for("taskViewService"),taskHistoryViewService:Symbol.for("taskHistoryViewService")},Wa=i(i(i(i(i({},Pa),Na),Ua),Ha),Ea),Oa="databases.".concat(da,".collections.").concat(va,".documents"),Ga=s((function e(){var n=this;l(this,e),c(this,"reloadSubject",new z),c(this,"updateSubject",new z),c(this,"featureService",F(Wa.featureService)),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"getMetadata",function(){var e=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=[]).push(n.zagolovok),e.abrupt("return",r.join(" ").slice(0,Da));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"createIndex",r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,va,[A.limit(1),A.select(["index"])]);case 2:return r=e.sent,a=r.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),c(this,"findById",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,va,r);case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"paginate",function(){var e=r(t().mark((function e(r,a,o,l,u,s){var c,d,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService,e.t1=Aa,e.t2=i,e.next=5,n.featureService.getAccessLevel();case 5:return e.t3=e.sent,e.t4=u,e.t5={_accessLevel:e.t3,_search:e.t4},e.t6=r,e.t7=(0,e.t2)(e.t5,e.t6),e.t8=a,e.t9=o,e.t10=l,e.t11=u,e.t12=s,e.t13={filterData:e.t7,pagination:e.t8,sortModel:e.t9,chips:e.t10,search:e.t11,payload:e.t12},e.next=18,e.t0.execute.call(e.t0,e.t1,e.t13);case 18:return c=e.sent,d=c.rows,p=c.total,e.abrupt("return",{rows:qa(d),total:p});case 22:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),c(this,"create",function(){var e=r(t().mark((function e(r){var a,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService.databases,e.t1=da,e.t2=va,e.t3=n.appwriteService.createId(),e.t4=i,e.t5=i({},Ra(r)),e.t6={},e.next=9,n.getMetadata(r);case 9:return e.t7=e.sent,e.next=12,n.featureService.getAccessLevel();case 12:return e.t8=e.sent,e.t9=!(null===(a=r.arenda)||void 0===a||!a.length),e.t10=!(null===(o=r.prodazha)||void 0===o||!o.length),e.next=17,n.createIndex();case 17:return e.t11=e.sent,e.t12={system_metadata:e.t7,system_access_level:e.t8,system_is_rent:e.t9,system_is_sell:e.t10,system_is_archive:!1,index:e.t11},e.t13=(0,e.t4)(e.t5,e.t6,e.t12),e.next=22,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t13);case 22:return l=e.sent,e.abrupt("return",ja(l));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService.databases,e.t1=da,e.t2=va,e.t3=r,e.t4=i,e.t5=i({},Ra(a)),e.t6={},e.next=9,n.getMetadata(a);case 9:return e.t7=e.sent,e.t8=!(null===(o=a.arenda)||void 0===o||!o.length),e.t9=!(null===(l=a.prodazha)||void 0===l||!l.length),e.t10={system_metadata:e.t7,system_is_rent:e.t8,system_is_sell:e.t9},e.t11=(0,e.t4)(e.t5,e.t6,e.t10),e.next=16,e.t0.updateDocument.call(e.t0,e.t1,e.t2,e.t3,e.t11);case 16:return u=e.sent,s=ja(u),n.updateSubject.next([r,s]),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"toggleArchive",function(){var e=r(t().mark((function e(r){var a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.findById(r);case 2:return a=e.sent,i=a.system_is_archive,e.next=6,n.appwriteService.databases.updateDocument(da,va,r,{system_is_archive:!i});case 6:o=e.sent,l=ja(o),n.updateSubject.next([r,l]),n.reloadSubject.next();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,va,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(Oa,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)&&n.reloadSubject.next(),t.includes(Ia)&&n.reloadSubject.next(),t.includes(La)){var a=ja(r);n.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),$a=s((function e(){var n=this;l(this,e),c(this,"apartmentDbService",F(Wa.apartmentDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"reloadSubject",this.apartmentDbService.reloadSubject),c(this,"updateSubject",this.apartmentDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("apartmentViewService create",r),e.next=3,n.apartmentDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("apartmentViewService update",a),e.next=3,n.apartmentDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"toggleArchive",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("apartmentViewService toggleArchive"),e.next=3,n.apartmentDbService.toggleArchive(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("apartmentViewService remove",{id:r}),e.next=3,n.apartmentDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("apartmentViewService read",{id:r}),e.next=3,n.apartmentDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("apartmentViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"paginate",function(){var e=r(t().mark((function e(r,a,i,o,l,u){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("apartmentViewService paginate"),e.next=3,n.apartmentDbService.paginate(r,a,i,o,l,u);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),T(this,{})})),Ya=function(){function e(){var n=this;l(this,e),c(this,"cacheService",F(Wa.cacheService)),c(this,"_client",null),c(this,"_functions",null),c(this,"_account",null),c(this,"_storage",null),c(this,"_databases",null),c(this,"_session",null),c(this,"_currentUser",null),c(this,"createId",(function(){return V.unique()})),c(this,"getCurrentSession",function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getSession("current");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"init",C(r(t().mark((function e(){var r,a,i,o,l,u,s,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ca,a=pa,(i=new j).setEndpoint(r).setProject(a).setLocale("ru-RU"),o=new L(i),l=new M(i),u=new I(i),s=new D(i),e.next=9,n.getCurrentSession(o);case 9:if(!(c=e.sent)){e.next=16;break}return e.next=13,o.get();case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0=null;case 17:d=e.t0,B((function(){n._client=i,n._account=o,n._session=c,n._databases=l,n._functions=u,n._storage=s,n._currentUser=d}));case 19:case"end":return e.stop()}}),e)}))))),c(this,"readFileName",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.databases.getDocument(da,_a,r);case 2:return a=e.sent,i=a.name,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryReadFileName",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.readFileName(r);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"uploadFile",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=w(),e.next=3,n.storage.createFile(ma,a,r);case 3:return e.next=5,n.databases.createDocument(da,_a,a,{name:r.name});case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"uploadBlob",function(){var e=r(t().mark((function e(r,a){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=new File([r],a),e.next=3,n.uploadFile(i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"removeFile",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.storage.deleteFile(ma,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"getFileURL",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.storage.getFileView(ma,r);case 2:return a=e.sent,e.abrupt("return",a.toString());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"getImageURL",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="",e.next=3,n.cacheService.hasImage(r);case 3:if(e.sent){e.next=7;break}return e.next=6,n.getFileURL(r);case 6:a=e.sent;case 7:return e.next=9,n.cacheService.getImage(a,r);case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"execute",function(){var e=r(t().mark((function e(r,a){var i,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=JSON.stringify(a),e.next=3,n.functions.createExecution(r,i,!1);case 3:if(o=e.sent,l=o.responseBody,!(u=JSON.parse(l||"{}")).error){e.next=8;break}throw new Error(u.error);case 8:return e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"prefetch",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.init();case 2:case"end":return e.stop()}}),e)})))),x(this),this.init()}return s(e,[{key:"client",get:function(){return this._client}},{key:"storage",get:function(){return this._storage}},{key:"account",get:function(){return this._account}},{key:"session",get:function(){return this._session}},{key:"databases",get:function(){return this._databases}},{key:"functions",get:function(){return this._functions}},{key:"isAuthorized",get:function(){return!!this._session}},{key:"currentUser",get:function(){return this._currentUser||{}}}]),e}(),Za={user_role:[],user_features:[],active:!1,middle_name:"",phone:"",email:"",user_files:[],first_name:"",avatar:"",last_name:"",system_metadata:""},Xa=s((function e(){var n=this;l(this,e),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"alertService",F(Wa.alertService)),c(this,"routerService",F(Wa.routerService)),c(this,"tryReadUserData",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.appwriteService.databases.getDocument(da,fa,r);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"initUser",C(function(){var e=r(t().mark((function e(r){var a,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.tryReadUserData(r.userId);case 2:if(a=e.sent){e.next=12;break}return e.next=6,n.appwriteService.databases.listDocuments(da,fa,[A.limit(1),A.select(["index"])]);case 6:return o=e.sent,l=o.total,e.next=10,n.appwriteService.databases.createDocument(da,fa,r.userId,i(i({},Za),{},{index:l+1}));case 10:return n.routerService.push("/inactive_page"),e.abrupt("return",!1);case 12:if(!(u=n.appwriteService.currentUser.email)||a.email){e.next=16;break}return e.next=16,n.appwriteService.databases.updateDocument(da,fa,r.userId,i(i(i({},Za),Ra(a)),{},{system_metadata:a.system_metadata||"",email:u}));case 16:if(a.active){e.next=19;break}return n.routerService.push("/inactive_page"),e.abrupt("return",!1);case 19:return e.abrupt("return",!0);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(this,"login",function(){var e=r(t().mark((function e(r){var a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.email,i=r.password,e.prev=1,e.next=4,n.appwriteService.account.createEmailSession(a,i);case 4:return o=e.sent,e.next=7,n.initUser(o);case 7:q(),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),n.alertService.notify(e.t0.message||"Unknown error"),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"logout",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.appwriteService.account.deleteSession("current");case 3:q(),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),n.alertService.notify(e.t0.message||"Unknown error"),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))),c(this,"register",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.email,i=r.password,e.prev=1,e.next=4,n.appwriteService.account.create(n.appwriteService.createId(),a,i);case 4:q(),e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),n.alertService.notify(e.t0.message||"Unknown error"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.appwriteService.isAuthorized||n.routerService.push("/login_page"),r=n.appwriteService.session,!n.appwriteService.isAuthorized){e.next=5;break}return e.next=5,n.initUser(r);case 5:case"end":return e.stop()}}),e)}))))),T(this,{})})),Ka="databases.".concat(da,".collections.").concat(ka,".documents"),Ja=s((function e(){var n=this;l(this,e),c(this,"reloadSubject",new z),c(this,"updateSubject",new z),c(this,"featureService",F(Wa.featureService)),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"getMetadata",function(){var e=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=[]).push(n.zagolovok),e.abrupt("return",r.join(" ").slice(0,Da));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"createIndex",r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ka,[A.limit(1),A.select(["index"])]);case 2:return r=e.sent,a=r.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),c(this,"findById",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,ka,r);case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"paginate",function(){var e=r(t().mark((function e(r,a,o,l,u,s){var c,d,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService,e.t1=Va,e.t2=i,e.next=5,n.featureService.getAccessLevel();case 5:return e.t3=e.sent,e.t4=u,e.t5={_accessLevel:e.t3,_search:e.t4},e.t6=r,e.t7=(0,e.t2)(e.t5,e.t6),e.t8=a,e.t9=o,e.t10=l,e.t11=u,e.t12=s,e.t13={filterData:e.t7,pagination:e.t8,sortModel:e.t9,chips:e.t10,search:e.t11,payload:e.t12},e.next=18,e.t0.execute.call(e.t0,e.t1,e.t13);case 18:return c=e.sent,d=c.rows,p=c.total,e.abrupt("return",{rows:qa(d),total:p});case 22:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),c(this,"create",function(){var e=r(t().mark((function e(r){var a,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService.databases,e.t1=da,e.t2=ka,e.t3=n.appwriteService.createId(),e.t4=i,e.t5=i({},Ra(r)),e.t6={},e.next=9,n.getMetadata(r);case 9:return e.t7=e.sent,e.next=12,n.featureService.getAccessLevel();case 12:return e.t8=e.sent,e.t9=!(null===(a=r.arenda)||void 0===a||!a.length),e.t10=!(null===(o=r.prodazha)||void 0===o||!o.length),e.next=17,n.createIndex();case 17:return e.t11=e.sent,e.t12={system_metadata:e.t7,system_access_level:e.t8,system_is_rent:e.t9,system_is_sell:e.t10,system_is_archive:!1,index:e.t11},e.t13=(0,e.t4)(e.t5,e.t6,e.t12),e.next=22,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t13);case 22:return l=e.sent,e.abrupt("return",ja(l));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService.databases,e.t1=da,e.t2=ka,e.t3=r,e.t4=i,e.t5=i({},Ra(a)),e.t6={},e.next=9,n.getMetadata(a);case 9:return e.t7=e.sent,e.t8=!(null===(o=a.arenda)||void 0===o||!o.length),e.t9=!(null===(l=a.prodazha)||void 0===l||!l.length),e.t10={system_metadata:e.t7,system_is_rent:e.t8,system_is_sell:e.t9},e.t11=(0,e.t4)(e.t5,e.t6,e.t10),e.next=16,e.t0.updateDocument.call(e.t0,e.t1,e.t2,e.t3,e.t11);case 16:return u=e.sent,s=ja(u),n.updateSubject.next([r,s]),e.abrupt("return",s);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"toggleArchive",function(){var e=r(t().mark((function e(r){var a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.findById(r);case 2:return a=e.sent,i=a.system_is_archive,e.next=6,n.appwriteService.databases.updateDocument(da,ka,r,{system_is_archive:!i});case 6:o=e.sent,l=ja(o),n.updateSubject.next([r,l]),n.reloadSubject.next();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,ka,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(Ka,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)&&n.reloadSubject.next(),t.includes(Ia)&&n.reloadSubject.next(),t.includes(La)){var a=ja(r);n.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),Qa=s((function e(){var n=this;l(this,e),c(this,"bidDbService",F(Wa.bidDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"reloadSubject",this.bidDbService.reloadSubject),c(this,"updateSubject",this.bidDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("bidViewService create",r),e.next=3,n.bidDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("bidViewService update",a),e.next=3,n.bidDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("bidViewService remove",{id:r}),e.next=3,n.bidDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"toggleArchive",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("bidViewService toggleArchive"),e.next=3,n.bidDbService.toggleArchive(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("bidViewService read",{id:r}),e.next=3,n.bidDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("bidViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"paginate",function(){var e=r(t().mark((function e(r,a,i,o,l,u){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("bidViewService paginate"),e.next=3,n.bidDbService.paginate(r,a,i,o,l,u);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),T(this,{})})),ei="cache",ti="realestate",ni=function(e){return new Promise((function(t){var n=document.createElement("img");n.style.position="fixed",n.style.pointerEvents="none",n.style.visibility="hidden",document.body.appendChild(n),n.onload=function(){var e=document.createElement("canvas");e.height=n.height,e.width=n.width;var r=e.getContext("2d");if(!r)return document.body.removeChild(n),void t(null);r.drawImage(n,0,0),e.toBlob((function(e){if(!e)return document.body.removeChild(n),void t(null);document.body.removeChild(n),t(e)}))},n.onerror=function(e){console.error(e),document.body.removeChild(n),t(null)},n.crossOrigin="anonymous",n.src=e}))},ri=s((function e(){var n=this;l(this,e),c(this,"routerService",F(Wa.routerService)),c(this,"db",null),c(this,"resourceMap",new Map),c(this,"init",(function(){return new Promise((function(e,t){var r=indexedDB.open(ti,1);r.onupgradeneeded=function(){r.result.createObjectStore(ei)},r.onsuccess=function(){n.db=r.result,n.db.onerror=function(){console.error("Error creating/accessing db")},e()},r.onerror=function(){t()}}))})),c(this,"writeImage",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var i=n.db.transaction([ei],"readwrite").objectStore(ei).put(r,a);i.addEventListener("success",(function(){return e()})),i.addEventListener("error",(function(){return t()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"readImage",(function(e){return new Promise((function(t,r){var a=n.db.transaction([ei],"readonly").objectStore(ei).openCursor(e);a.addEventListener("success",(function(){var e;return t((null===(e=a.result)||void 0===e?void 0:e.value)||null)})),a.addEventListener("error",(function(){return r()}))}))})),c(this,"hasImage",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resourceMap.has(r)){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,n.readImage(r);case 4:if(!(a=e.sent)){e.next=9;break}return i=URL.createObjectURL(a),n.resourceMap.set(r,i),e.abrupt("return",!0);case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"getImage",function(){var e=r(t().mark((function e(r,a){var i,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=n.resourceMap.get(a))){e.next=3;break}return e.abrupt("return",i);case 3:return e.next=5,n.readImage(a);case 5:if(!(o=e.sent)){e.next=10;break}return l=URL.createObjectURL(o),n.resourceMap.set(a,l),e.abrupt("return",l);case 10:return e.next=12,ni(r);case 12:if(!(u=e.sent)){e.next=19;break}return e.next=16,n.writeImage(u,a);case 16:return e.next=18,n.getImage(r,a);case 18:return e.abrupt("return",e.sent);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"collectGarbage",(function(){n.resourceMap.forEach((function(e){var t=o(e,2),r=t[0],a=t[1];URL.revokeObjectURL(a),n.resourceMap.delete(r)}))})),c(this,"cleanup",(function(){return new Promise(function(){var e=r(t().mark((function e(n,r){var a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!navigator.storage||!navigator.storage.estimate){e.next=16;break}return e.next=4,navigator.storage.estimate();case 4:if(a=e.sent,i=a.quota,o=a.usage,!i||!o){e.next=16;break}if(!(o/i*100>60)){e.next=14;break}return(l=indexedDB.deleteDatabase(ti)).addEventListener("success",(function(){return n()})),l.addEventListener("error",(function(){return r()})),e.abrupt("return");case 14:return n(),e.abrupt("return");case 16:n(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log("cacheService failed to clear cache");case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}())})),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.routerService.listen((function(){n.resourceMap.forEach((function(e){return URL.revokeObjectURL(e)})),n.resourceMap.clear()})),e.next=3,n.cleanup();case 3:return e.next=5,n.init();case 5:case"end":return e.stop()}}),e)}))))),T(this,{})})),ai="databases.".concat(da,".collections.").concat(ba,".documents"),ii=s((function e(){var n=this;l(this,e),c(this,"reloadSubject",new z),c(this,"updateSubject",new z),c(this,"featureService",F(Wa.featureService)),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"getMetadata",function(){var e=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=[]).push(n.fio),r.push(n.telefon),r.push(n.inn),r.push(n.pinfl),e.abrupt("return",r.join(" ").slice(0,Da));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"createIndex",r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ba,[A.limit(1),A.select(["index"])]);case 2:return r=e.sent,a=r.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),c(this,"findById",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,ba,r);case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"paginate",function(){var e=r(t().mark((function e(r,a,o,l,u,s){var c,d,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService,e.t1=Ca,e.t2=i,e.next=5,n.featureService.getAccessLevel();case 5:return e.t3=e.sent,e.t4=u,e.t5={_accessLevel:e.t3,_search:e.t4},e.t6=r,e.t7=(0,e.t2)(e.t5,e.t6),e.t8=a,e.t9=o,e.t10=l,e.t11=u,e.t12=s,e.t13={filterData:e.t7,pagination:e.t8,sortModel:e.t9,chips:e.t10,search:e.t11,payload:e.t12},e.next=18,e.t0.execute.call(e.t0,e.t1,e.t13);case 18:return c=e.sent,d=c.rows,p=c.total,e.abrupt("return",{rows:qa(d),total:p});case 22:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),c(this,"create",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService.databases,e.t1=da,e.t2=ba,e.t3=n.appwriteService.createId(),e.t4=i,e.t5=i({},Ra(r)),e.t6={},e.next=9,n.getMetadata(r);case 9:return e.t7=e.sent,e.next=12,n.featureService.getAccessLevel();case 12:return e.t8=e.sent,e.next=15,n.createIndex();case 15:return e.t9=e.sent,e.t10={system_metadata:e.t7,system_access_level:e.t8,index:e.t9},e.t11=(0,e.t4)(e.t5,e.t6,e.t10),e.next=20,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t11);case 20:return a=e.sent,e.abrupt("return",ja(a));case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService.databases,e.t1=da,e.t2=ba,e.t3=r,e.t4=i,e.t5=i({},Ra(a)),e.t6={},e.next=9,n.getMetadata(a);case 9:return e.t7=e.sent,e.t8={system_metadata:e.t7},e.t9=(0,e.t4)(e.t5,e.t6,e.t8),e.next=14,e.t0.updateDocument.call(e.t0,e.t1,e.t2,e.t3,e.t9);case 14:return o=e.sent,l=ja(o),n.updateSubject.next([r,l]),e.abrupt("return",l);case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,ba,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(ai,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)&&n.reloadSubject.next(),t.includes(Ia)&&n.reloadSubject.next(),t.includes(La)){var a=ja(r);n.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),oi=s((function e(){var n=this;l(this,e),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"findDuplicates",function(){var e=r(t().mark((function e(r){var a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.fio,i=r.telefon,n.loggerService.log("contactRequestService findDuplicates",{fio:a,telefon:i}),e.next=4,n.appwriteService.databases.listDocuments(da,ba,[].concat(p(a&&[A.search("fio",a)]),p(i&&[A.search("telefon",i)])));case 4:return o=e.sent,e.abrupt("return",{rows:qa(o.documents),total:o.total});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x(this)})),li=s((function e(){var n=this;l(this,e),c(this,"contactDbService",F(Wa.contactDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"reloadSubject",this.contactDbService.reloadSubject),c(this,"updateSubject",this.contactDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("contactViewService create",r),e.next=3,n.contactDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("contactViewService update",a),e.next=3,n.contactDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("contactViewService remove",{id:r}),e.next=3,n.contactDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("contactViewService read",{id:r}),e.next=3,n.contactDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("contactViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"paginate",function(){var e=r(t().mark((function e(r,a,i,o,l,u){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("contactViewService paginate"),e.next=3,n.contactDbService.paginate(r,a,i,o,l,u);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),T(this,{})})),ui="1970-01-01",si=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f(),t=f(ui);return e.diff(t,"day")},ci=function(e){var t=si();return di(t+e).utc().format()},di=function(e){return f(ui).add(e,"day")};window.getMomentStamp=si,window.fromMomentStamp=di,window.getUtcOffset=ci;var pi,mi,fi={"last-month":ci(-31)},yi=s((function e(){var n=this;l(this,e),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"getNewBidsCount",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ka,[A.limit(1),A.select(["index"]),A.greaterThanEqual("$createdAt",fi[r])]);case 2:return a=e.sent,i=a.total,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"getNewApartmentCount",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,va,[A.limit(1),A.select(["index"]),A.greaterThanEqual("$createdAt",fi[r])]);case 2:return a=e.sent,i=a.total,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"getDealsInProgressCount",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ga,[A.limit(1),A.select(["index"]),A.greaterThanEqual("$createdAt",fi[r]),A.notEqual("status","Закрытая сделка"),A.notEqual("status","Сделка сорвана")]);case 2:return a=e.sent,i=a.total,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"getDealsByStatusCount",function(){var e=r(t().mark((function e(r,a){var i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ga,[A.limit(1),A.select(["index"]),A.greaterThanEqual("$createdAt",fi[r]),A.equal("status",a)]);case 2:return i=e.sent,o=i.total,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"getDoneDealsByUserCount",function(){var e=r(t().mark((function e(r,a){var i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ga,[A.limit(1),A.select(["index"]),A.greaterThanEqual("$createdAt",fi[r]),A.equal("user_id",a),A.equal("status","Закрытая сделка")]);case 2:return i=e.sent,o=i.total,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"getTasksByStamp",function(){var e=r(t().mark((function e(r,a){var i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,xa,[A.greaterThanEqual("moment_stamp",r),A.lessThanEqual("moment_stamp",a)]);case 2:return i=e.sent,o=i.documents,e.abrupt("return",qa(o));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),T(this,{})})),hi=function(){var e=r(t().mark((function e(n,r,a,i){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.databases.listDocuments(da,n,[A.limit(r),A.orderDesc("$updatedAt")].concat(p(a),p(i?[A.cursorAfter(i)]:[])));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),vi=function(){var e,n=(e=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.documentReadDelay,i=void 0===a?100:a,o=r.documentsPageSize,l=void 0===o?5e3:o,u=r.totalDocumentsLimit,s=void 0===u?1e5:u;return t().mark((function r(){var a,o,u,c,d,p,f,y,h,v,b;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=0,o=null,u=hi(e,l,n,null);case 3:if(!(a<s)){t.next=50;break}return console.log("Fetching collection ".concat(e," from ").concat(e," starting from ").concat(o||0)),t.next=7,new _(Promise.all([u,R(i)]),0);case 7:if(c=t.sent,!((d=c[0]).documents.length<l)){t.next=28;break}p=m(d.documents),t.prev=11,p.s();case 13:if((f=p.n()).done){t.next=19;break}return y=f.value,t.next=17,y;case 17:t.next=13;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(11),p.e(t.t0);case 24:return t.prev=24,p.f(),t.finish(24);case 27:return t.abrupt("break",50);case 28:o=d.documents[d.documents.length-1].$id,u=hi(e,l,n,o),h=m(d.documents),t.prev=31,h.s();case 33:if((v=h.n()).done){t.next=39;break}return b=v.value,t.next=37,b;case 37:t.next=33;break;case 39:t.next=44;break;case 41:t.prev=41,t.t1=t.catch(31),h.e(t.t1);case 44:return t.prev=44,h.f(),t.finish(44);case 47:a+=d.documents.length,t.next=3;break;case 50:case"end":return t.stop()}}),r,null,[[11,21,24,27],[31,41,44,47]])}))()},function(){return new b(e.apply(this,arguments))});return function(e){return n.apply(this,arguments)}}(),bi=function(){var e=r(t().mark((function e(n){var r,a,i,o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],a=!1,i=!1,e.prev=3,l=h(n);case 5:return e.next=7,l.next();case 7:if(!(a=!(u=e.sent).done)){e.next=13;break}s=u.value,r.push(s);case 10:a=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,o=e.t0;case 19:if(e.prev=19,e.prev=20,!a||null==l.return){e.next=24;break}return e.next=24,l.return();case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",r);case 30:case"end":return e.stop()}}),e,null,[[3,15,19,29],[20,,24,28]])})));return function(t){return e.apply(this,arguments)}}(),_i=["Новая сделка","В работе","Показы","Переговоры","Задаток/Залог","Оформление","Оплата","Закрытая сделка","Сделка сорвана"],ki=["Аренда","Продажа"],gi="databases.".concat(da,".collections.").concat(ga,".documents"),xi=s((function e(){var n=this;l(this,e),c(this,"reloadSubject",new z),c(this,"createSubject",new z),c(this,"removeSubject",new z),c(this,"updateSubject",new z),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"createIndex",r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ga,[A.limit(1),A.select(["index"])]);case 2:return r=e.sent,a=r.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),c(this,"findByContactId",function(){var e=r(t().mark((function e(r){var a,i,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ga,[A.limit(1),A.equal("contact_id",r),A.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=o(a.documents,1),l=i[0],u=void 0===l?null:l){e.next=8;break}throw new Error("dealDbService findByContactId document not found");case 8:return e.abrupt("return",ja(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByApartmentId",function(){var e=r(t().mark((function e(r){var a,i,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ga,[A.limit(1),A.equal("apartment_id",r),A.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=o(a.documents,1),l=i[0],u=void 0===l?null:l){e.next=8;break}throw new Error("dealDbService findByApartmentId document not found");case 8:return e.abrupt("return",ja(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByBidId",function(){var e=r(t().mark((function e(r){var a,i,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ga,[A.limit(1),A.equal("bid_id",r),A.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=o(a.documents,1),l=i[0],u=void 0===l?null:l){e.next=8;break}throw new Error("dealDbService findByBidId document not found");case 8:return e.abrupt("return",ja(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findById",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,ga,r);case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByDealStatus",function(){var e=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(vi(ga,[A.equal("status",n)],{totalDocumentsLimit:250}));case 2:return r=e.sent,e.abrupt("return",qa(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"create",function(){var e=r(t().mark((function e(r){var a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService.databases,e.t1=da,e.t2=ga,e.t3=n.appwriteService.createId(),e.t4=i,e.t5=i({},Ra(r)),e.t6={},e.next=9,n.createIndex();case 9:return e.t7=e.sent,e.t8={index:e.t7},e.t9=(0,e.t4)(e.t5,e.t6,e.t8),e.next=14,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t9);case 14:return a=e.sent,o=ja(a),n.createSubject.next(o),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.updateDocument(da,ga,r,i({},Ra(a)));case 2:return o=e.sent,l=ja(o),n.updateSubject.next([r,l]),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,ga,r);case 2:n.removeSubject.next(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C((function(){var e=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(gi,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)){var a=ja(r);n.reloadSubject.next(),n.createSubject.next(a)}if(t.includes(Ia)&&(n.reloadSubject.next(),n.removeSubject.next(r.$id)),t.includes(La)){var i=ja(r);n.updateSubject.next([r.$id,i])}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}))),T(this,{})})),wi="databases.".concat(da,".collections.").concat(wa,".documents"),Si=s((function e(){var n=this;l(this,e),c(this,"createSubject",new z),c(this,"reloadSubject",new z),c(this,"updateSubject",new z),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"findById",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,wa,r);case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByContactId",function(){var e=r(t().mark((function e(r){var a,i,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,wa,[A.limit(1),A.equal("contact_id",r),A.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=o(a.documents,1),l=i[0],u=void 0===l?null:l){e.next=8;break}throw new Error("dealHistoryDbService findByContactId document not found");case 8:return e.abrupt("return",ja(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByApartmentId",function(){var e=r(t().mark((function e(r){var a,i,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,wa,[A.limit(1),A.equal("apartment_id",r),A.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=o(a.documents,1),l=i[0],u=void 0===l?null:l){e.next=8;break}throw new Error("dealHistoryDbService findByApartmentId document not found");case 8:return e.abrupt("return",ja(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByBidId",function(){var e=r(t().mark((function e(r){var a,i,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,wa,[A.limit(1),A.equal("bid_id",r),A.orderDesc("$createdAt")]);case 2:if(a=e.sent,i=o(a.documents,1),l=i[0],u=void 0===l?null:l){e.next=8;break}throw new Error("dealHistoryDbService findByBidId document not found");case 8:return e.abrupt("return",ja(u));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"create",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.createDocument(da,wa,n.appwriteService.createId(),Ra(r));case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.updateDocument(da,wa,r,Ra(a));case 2:return i=e.sent,e.abrupt("return",ja(i));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,wa,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByApartmentId",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,wa,[A.orderDesc("$createdAt"),A.equal("apartment_id",r)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByContactId",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,wa,[A.orderDesc("$createdAt"),A.equal("contact_id",r)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByBidId",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,wa,[A.orderDesc("$createdAt"),A.equal("bid_id",r)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(wi,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)&&(n.reloadSubject.next(),n.createSubject.next(r)),t.includes(Ia)&&n.reloadSubject.next(),t.includes(La)){var a=ja(r);n.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),zi="deal-begin",Fi="deal-end",Ti="deal-reassign",Ai="deal-status",Ci=s((function e(){var n=this;l(this,e),c(this,"dealHistoryViewService",F(Wa.dealHistoryViewService)),c(this,"dealViewService",F(Wa.dealViewService)),c(this,"contactViewService",F(Wa.contactViewService)),c(this,"apartmentViewService",F(Wa.apartmentViewService)),c(this,"bidViewService",F(Wa.bidViewService)),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"readDealStateByApartment",function(){var e=r(t().mark((function e(r,a){var i,l,u,s,c,d,p,y,h,v,b,_,k,g,x,w,S,z,F;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService readDealStateByApartment",{apartmentId:r,userId:a}),e.next=3,n.appwriteService.databases.listDocuments(da,wa,[A.limit(1),A.equal("apartment_id",r),A.equal("type",Fi),A.orderDesc("$createdAt")]);case 3:return i=e.sent,l=i.documents,e.next=7,n.appwriteService.databases.listDocuments(da,wa,[A.limit(1),A.equal("apartment_id",r),A.equal("type",zi),A.orderDesc("$createdAt")]);case 7:if(u=e.sent,s=u.documents,c=o(l,1),d=c[0],p=void 0===d?null:d,y=o(s,1),h=y[0],v=void 0===h?null:h,b=function(){if(!v)return Fi;if(!p)return zi;var e=f(v.$createdAt),t=f(p.$createdAt);return e.isAfter(t)?zi:Fi}(),_=[],!v||b!==zi){e.next=21;break}return e.next=17,n.appwriteService.databases.listDocuments(da,wa,[A.equal("apartment_id",r),A.cursorBefore(v.$id),A.orderDesc("$createdAt")]);case 17:k=e.sent,g=k.documents,x=m(g);try{for(x.s();!(w=x.n()).done;)(S=w.value).type===Ti&&_.push(S)}catch(t){x.e(t)}finally{x.f()}case 21:if(z=_[0],!(F=void 0===z?null:z)||!v){e.next=25;break}return _.unshift(v),e.abrupt("return",{status:Ti,activeItem:F,reassign:_});case 25:return e.abrupt("return",{status:b,activeItem:b===zi?v:null,reassign:_});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"commitApartmentDealBegin",function(){var e=r(t().mark((function e(r,a,i,o,l,u){var s,c,d,p,m,f,y,h,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService commitApartmentDealBegin",{apartmentId:r,userId:a}),e.next=3,n.readDealStateByApartment(r,a);case 3:if(e.sent.status===Fi){e.next=6;break}throw new Error("commitApartmentDealBegin invalid state");case 6:return s=["<pre>","Создана сделка <text-underline>".concat(i,"</text-underline>"),u?"Комментарий: ".concat(u):"","</pre>"].join("\n"),e.next=9,n.apartmentViewService.read(r);case 9:return c=e.sent,d=c.contact_id,e.next=13,n.contactViewService.read(d);case 13:return p=e.sent,m=p.fio,f=p.telefon,y=p.tip_klienta,e.next=19,n.dealViewService.create({status:"Новая сделка",apartment_id:r,contact_id:d,bid_id:null,type:i,user_id:a,price:o,price_unit:l,fio:m,telefon:f,tip_klienta:y?y[0]:""});case 19:return h=e.sent,v=h.id,e.next=23,n.dealHistoryViewService.create({deal_id:v,apartment_id:r,contact_id:d,user_id:a,type:zi,comment:s,bid_id:null,payload:null});case 23:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),c(this,"commitApartmentDealEnd",function(){var e=r(t().mark((function e(r,a,i){var o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService commitApartmentDealEnd",{apartmentId:r,userId:a}),e.next=3,n.readDealStateByApartment(r,a);case 3:if((o=e.sent).status===zi||o.status===Ti){e.next=6;break}throw new Error("commitApartmentDealEnd invalid state");case 6:if(o.activeItem){e.next=8;break}throw new Error("commitApartmentDealBegin activeItem is null");case 8:return e.next=10,n.dealHistoryViewService.create({contact_id:o.activeItem.contact_id,apartment_id:r,user_id:a,deal_id:o.activeItem.deal_id,type:Fi,comment:i,bid_id:null,payload:null});case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),c(this,"commitApartmentDealReassign",function(){var e=r(t().mark((function e(r,a){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService commitApartmentDealReassign",{apartmentId:r,userId:a}),e.next=3,n.readDealStateByApartment(r,a);case 3:if((i=e.sent).status===zi||i.status===Ti){e.next=6;break}throw new Error("commitApartmentDealBegin invalid state");case 6:if(i.activeItem){e.next=8;break}throw new Error("commitApartmentDealBegin activeItem is null");case 8:return e.next=10,Promise.all([n.dealHistoryViewService.create({contact_id:i.activeItem.contact_id,apartment_id:r,user_id:a,deal_id:i.activeItem.deal_id,type:Ti,comment:"",bid_id:null,payload:null}),n.dealViewService.update(i.activeItem.deal_id,{user_id:a})]);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"readDealStateByBid",function(){var e=r(t().mark((function e(r,a){var i,l,u,s,c,d,p,y,h,v,b,_,k,g,x,w,S,z,F;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService readDealStateByBid",{bidId:r,userId:a}),e.next=3,n.appwriteService.databases.listDocuments(da,wa,[A.limit(1),A.equal("bid_id",r),A.equal("type",Fi),A.orderDesc("$createdAt")]);case 3:return i=e.sent,l=i.documents,e.next=7,n.appwriteService.databases.listDocuments(da,wa,[A.limit(1),A.equal("bid_id",r),A.equal("type",zi),A.orderDesc("$createdAt")]);case 7:if(u=e.sent,s=u.documents,c=o(l,1),d=c[0],p=void 0===d?null:d,y=o(s,1),h=y[0],v=void 0===h?null:h,b=function(){if(!v)return Fi;if(!p)return zi;var e=f(v.$createdAt),t=f(p.$createdAt);return e.isAfter(t)?zi:Fi}(),_=[],!v||b!==zi){e.next=21;break}return e.next=17,n.appwriteService.databases.listDocuments(da,wa,[A.equal("bid_id",r),A.cursorBefore(v.$id),A.orderDesc("$createdAt")]);case 17:k=e.sent,g=k.documents,x=m(g);try{for(x.s();!(w=x.n()).done;)(S=w.value).type===Ti&&_.push(S)}catch(t){x.e(t)}finally{x.f()}case 21:if(z=_[0],!(F=void 0===z?null:z)||!v){e.next=25;break}return _.unshift(v),e.abrupt("return",{status:Ti,activeItem:F,reassign:_});case 25:return e.abrupt("return",{status:b,activeItem:b===zi?v:null,reassign:_});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"commitBidDealBegin",function(){var e=r(t().mark((function e(r,a,i,o,l,u){var s,c,d,p,m,f,y,h,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService commitBidDealBegin",{bidId:r,userId:a}),e.next=3,n.readDealStateByBid(r,a);case 3:if(e.sent.status===Fi){e.next=6;break}throw new Error("commitApartmentDealBegin invalid state");case 6:return e.next=8,n.bidViewService.read(r);case 8:return s=e.sent,c=s.contact_id,e.next=12,n.contactViewService.read(c);case 12:return d=e.sent,p=d.fio,m=d.telefon,f=d.tip_klienta,e.next=18,n.dealViewService.create({status:"Новая сделка",bid_id:r,apartment_id:null,contact_id:c,type:i,user_id:a,price:o,price_unit:l,fio:p,telefon:m,tip_klienta:f?f[0]:""});case 18:return y=e.sent,h=y.id,v=["<pre>","Создана сделка <text-underline>".concat(i,"</text-underline>"),u?"Комментарий: ".concat(u):"","</pre>"].join("\n"),e.next=23,n.dealHistoryViewService.create({bid_id:r,user_id:a,deal_id:h,type:zi,comment:v,contact_id:c,apartment_id:null,payload:null});case 23:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),c(this,"commitBidDealEnd",function(){var e=r(t().mark((function e(r,a,i){var o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService commitBidDealEnd",{bidId:r,userId:a}),e.next=3,n.readDealStateByBid(r,a);case 3:if((o=e.sent).status===zi||o.status===Ti){e.next=6;break}throw new Error("commitBidDealEnd invalid state");case 6:if(o.activeItem){e.next=8;break}throw new Error("commitBidDealEnd activeItem is null");case 8:return e.next=10,n.dealHistoryViewService.create({bid_id:r,user_id:a,type:Fi,deal_id:o.activeItem.deal_id,comment:i,contact_id:o.activeItem.contact_id,apartment_id:null,payload:null});case 10:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),c(this,"commitBidDealReassign",function(){var e=r(t().mark((function e(r,a){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService commitBidDealReassign",{bidId:r,userId:a}),e.next=3,n.readDealStateByBid(r,a);case 3:if((i=e.sent).status===zi||i.status===Ti){e.next=6;break}throw new Error("commitApartmentDealBegin invalid state");case 6:if(i.activeItem){e.next=8;break}throw new Error("commitApartmentDealBegin activeItem is null");case 8:return e.next=10,Promise.all([n.dealHistoryViewService.create({bid_id:r,user_id:a,type:Ti,deal_id:i.activeItem.deal_id,contact_id:i.activeItem.contact_id,comment:"",apartment_id:null,payload:null}),n.dealViewService.update(i.activeItem.deal_id,{user_id:a})]);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"commitDealStatusByApartment",function(){var e=r(t().mark((function e(r,a,i,o){var l,u,s,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService commitDealStatusByApartment",{apartmentId:r}),e.next=3,n.dealHistoryViewService.findByApartmentId(r);case 3:if(l=e.sent,u=l.deal_id,s=l.contact_id,c=n.appwriteService.currentUser.$id,d=["<pre>","Статус изменен из <text-underline>".concat(a,"</text-underline> в <text-underline>").concat(i,"</text-underline>"),o?"Комментарий: ".concat(o):"","</pre>"].join("\n"),"Закрытая сделка"!==i&&"Сделка сорвана"!==i){e.next=12;break}return e.next=11,n.commitApartmentDealEnd(r,c,d);case 11:return e.abrupt("return");case 12:return e.next=14,n.dealHistoryViewService.create({contact_id:s,bid_id:null,user_id:c,type:Ai,deal_id:u,comment:d,apartment_id:r,payload:null});case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),c(this,"commitDealStatusByBid",function(){var e=r(t().mark((function e(r,a,i,o){var l,u,s,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryRequestService commitDealStatusByBid",{bidId:r}),e.next=3,n.dealHistoryViewService.findByBidId(r);case 3:if(l=e.sent,u=l.deal_id,s=l.contact_id,c=n.appwriteService.currentUser.$id,d=["<pre>","Статус изменен из <text-underline>".concat(a,"</text-underline> в <text-underline>").concat(i,"</text-underline>"),o?"Комментарий: ".concat(o):"","</pre>"].join("\n"),"Закрытая сделка"!==i&&"Сделка сорвана"!==i){e.next=12;break}return e.next=11,n.commitBidDealEnd(r,c,d);case 11:return e.abrupt("return");case 12:return e.next=14,n.dealHistoryViewService.create({bid_id:r,user_id:c,type:Ai,deal_id:u,comment:d,contact_id:s,apartment_id:null,payload:null});case 14:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),T(this,{})})),Vi=s((function e(){var n=this;l(this,e),c(this,"dealHistoryDbService",F(Wa.dealHistoryDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"createSubject",this.dealHistoryDbService.createSubject),c(this,"reloadSubject",this.dealHistoryDbService.reloadSubject),c(this,"updateSubject",this.dealHistoryDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryViewService create",r),e.next=3,n.dealHistoryDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryViewService update",a),e.next=3,n.dealHistoryDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryViewService remove",{id:r}),e.next=3,n.dealHistoryDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryViewService read",{id:r}),e.next=3,n.dealHistoryDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByApartmentId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryViewService findByApartmentId"),e.next=3,n.dealHistoryDbService.findByApartmentId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByBidId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryViewService findByBidId"),e.next=3,n.dealHistoryDbService.findByBidId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByContactId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealHistoryViewService findByContactId"),e.next=3,n.dealHistoryDbService.findByContactId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByApartmentId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("dealHistoryViewService findAllByApartmentId"),r){e.next=3;break}throw new Error("dealHistoryViewService findAllByApartmentId id is null");case 3:return e.next=5,n.dealHistoryDbService.findAllByApartmentId(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByBidId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("dealHistoryViewService findAllByBidId"),r){e.next=3;break}throw new Error("dealHistoryViewService findAllByBidId id is null");case 3:return e.next=5,n.dealHistoryDbService.findAllByBidId(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByContactId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("dealHistoryViewService findAllByContactId"),r){e.next=3;break}throw new Error("dealHistoryViewService findAllByContactId id is null");case 3:return e.next=5,n.dealHistoryDbService.findAllByContactId(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("dealHistoryViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),T(this,{})})),Li=s((function e(){var n=this;l(this,e),c(this,"dealHistoryRequestService",F(Wa.dealHistoryRequestService)),c(this,"dealViewService",F(Wa.dealViewService)),c(this,"commidDealHistoryInternal",function(){var e=r(t().mark((function e(r,a,i,o,l){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!r){e.next=5;break}return e.next=4,n.dealHistoryRequestService.commitDealStatusByApartment(r,i,o,l);case 4:return e.abrupt("return");case 5:if(!a){e.next=9;break}return e.next=8,n.dealHistoryRequestService.commitDealStatusByBid(a,i,o,l);case 8:return e.abrupt("return");case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),c(this,"commitDealStatusChange",function(){var e=r(t().mark((function e(r,a,i,o,l,u){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.commidDealHistoryInternal(a,i,o,l,u),n.dealViewService.update(r,{status:l})]);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),c(this,"commitBidDealEnd",function(){var e=r(t().mark((function e(r,a,i){var o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.dealViewService.findByBidId(r);case 2:return o=e.sent,l=o.$id,u=o.apartment_id,s=o.status,e.next=8,n.commitDealStatusChange(l,u,r,s,a,i);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),c(this,"commitApartmentDealEnd",function(){var e=r(t().mark((function e(r,a,i){var o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.dealViewService.findByApartmentId(r);case 2:return o=e.sent,l=o.$id,u=o.bid_id,s=o.status,e.next=8,n.commitDealStatusChange(l,r,u,s,a,i);case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()),T(this,{})})),Mi=s((function e(){var n=this;l(this,e),c(this,"dealDbService",F(Wa.dealDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"reloadSubject",this.dealDbService.reloadSubject),c(this,"createSubject",this.dealDbService.createSubject),c(this,"removeSubject",this.dealDbService.removeSubject),c(this,"updateSubject",this.dealDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService create",r),e.next=3,n.dealDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService update",a),e.next=3,n.dealDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService remove",{id:r}),e.next=3,n.dealDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService read",{id:r}),e.next=3,n.dealDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("dealViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"readStatusByApartmentId",function(){var e=r(t().mark((function e(r){var a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService readStatusByApartmentId"),a="",e.prev=2,e.next=5,n.dealDbService.findByApartmentId(r);case 5:i=e.sent,o=i.status,a=o,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a="Нет данных";case 13:return e.prev=13,e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"readStatusByBidId",function(){var e=r(t().mark((function e(r){var a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService readStatusByBidId"),a="",e.prev=2,e.next=5,n.dealDbService.findByBidId(r);case 5:i=e.sent,o=i.status,a=o,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a="Нет данных";case 13:return e.prev=13,e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"readStatusByContactId",function(){var e=r(t().mark((function e(r){var a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService readStatusByContactId"),a="",e.prev=2,e.next=5,n.dealDbService.findByContactId(r);case 5:i=e.sent,o=i.status,a=o,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),a="Нет данных";case 13:return e.prev=13,e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByDealStatus",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService findByDealStatus"),e.next=3,n.dealDbService.findByDealStatus(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByApartmentId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService findByApartmentId"),e.next=3,n.dealDbService.findByApartmentId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByBidId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService findByBidId"),e.next=3,n.dealDbService.findByBidId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByContactId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("dealViewService findByContactId"),e.next=3,n.dealDbService.findByContactId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(this,{})})),Ii=s((function e(){var n=this;l(this,e),c(this,"roleViewService",F(Wa.roleViewService)),c(this,"getCurrencyType",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{eur:"EUR",usd:"USD",uzs:"UZS"});case 1:case"end":return e.stop()}}),e)}))))),c(this,"getUserRoles",C(r(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.roleViewService.findAll();case 2:return r=e.sent,e.abrupt("return",r.reduce((function(e,t){var n=t.id,r=t.title;return i(i({},e),{},c({},n,r))}),{}));case 4:case"end":return e.stop()}}),e)}))))),c(this,"getMasterDetailMode",r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(c(n={},P.Tabs,"Вкладки"),c(n,P.Paper,"Скроллер"),n));case 1:case"end":return e.stop()}}),e)})))),c(this,"getCountries",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("".concat(sa,"/country-list.json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))),c(this,"getMahallya",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("".concat(sa,"/mahallya.json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))),c(this,"getUlicza",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E("".concat(sa,"/ulicza.json"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))))),c(this,"prefetch",C((function(){return Promise.all([n.getCountries(),n.getMahallya(),n.getUlicza()])}))),T(this,{})})),Di=(pi=null,mi={},function(){var e=Io.routerService.location.pathname;return pi!==e&&(mi=N(Dm,Io.routerService.location.pathname)||{},pi=e),mi}),Bi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Di();return U.get(n,e)||t},ji=function(){function e(){var n=this;l(this,e),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"userViewService",F(Wa.userViewService)),c(this,"_alerts",[]),c(this,"getDocument",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ha,[A.equal("$id",r),A.limit(1)]);case 2:if(a=e.sent,(i=a.documents).length){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",i[0]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAll",r(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ha,[A.orderDesc("$createdAt")]);case 2:return r=e.sent,e.abrupt("return",qa(r.documents));case 4:case"end":return e.stop()}}),e)})))),c(this,"handleBuildAlerts",function(){var e=r(t().mark((function e(a){var i,o,l,u,s,c,d,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rm()||{},o=i.sideMenu,l=void 0===o?null:o,u=Di(),s=u.id,c=void 0===s?null:s,e.next=4,Promise.all(a.filter((function(e){return null!==e.path})).filter((function(e){return null!==e.entity_id})).filter((function(e){return e.path===l})).filter((function(e){return e.entity_id===c})).filter((function(e){return e.id!==n.appwriteService.currentUser.$id})).filter((function(e){return"create"!==e.id})).filter((function(e){var t=e.$updatedAt,n=f(t);return f().diff(n,"minute")<15})).map(function(){var e=r(t().mark((function e(r){var a,i,o,l,u,s,c,d,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.id,i=r.$updatedAt,e.next=3,n.userViewService.tryRead(a);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:return l=[o.first_name,o.last_name,o.middle_name].join(" "),u=f(i),s=u.get("hour").toString(),c=u.get("minute").toString(),d=u.get("second").toString(),s=1===s.length?"0"+s:s,c=1===c.length?"0"+c:c,d=1===d.length?"0"+d:d,p="Пользователь ".concat(l," редактирует форму (Время ").concat(s,":").concat(c,":").concat(d,")"),e.abrupt("return",{color:"error",content:p});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return d=e.sent,p=d.filter((function(e){return!!e})),e.abrupt("return",p);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"handleFetch",W(r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.findAll();case 2:return r=e.sent,e.next=5,n.handleBuildAlerts(r);case 5:a=e.sent,B((function(){n._alerts=a}));case 7:case"end":return e.stop()}}),e)}))))),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.createDocument(da,ha,n.appwriteService.currentUser.$id,Ra(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.updateDocument(da,ha,n.appwriteService.currentUser.$id,Ra(r));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.appwriteService.isAuthorized){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.handleFetch();case 4:n.appwriteService.client.subscribe("databases.".concat(da,".collections.").concat(ha,".documents"),r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.handleFetch();case 2:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)}))))),T(this,{_alerts:O,alerts:G})}return s(e,[{key:"alerts",get:function(){return H(this._alerts)}}]),e}(),qi=s((function e(){var t=this;l(this,e),c(this,"routerService",F(Wa.routerService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"errorSubject",new z),c(this,"handleGlobalError",(function(e){console.error(e),t.loggerService.error(e),t.routerService.push("/error_page"),t.errorSubject.next()})),x(this)})),Ri=function(){function e(){var n=this;l(this,e),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"userViewService",F(Wa.userViewService)),c(this,"roleViewService",F(Wa.roleViewService)),c(this,"_features",[]),c(this,"getFeaturesByUserId",function(){var e=r(t().mark((function e(r){var a,i,o,l,u,s,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.userViewService.tryRead(r);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0={};case 5:return a=e.t0,i=a.user_role,o=void 0===i?null:i,l=a.user_features,u=void 0===l?[]:l,e.next=12,n.roleViewService.tryRead(o?o[0]:"unknown");case 12:return s=e.sent,c=(null==s?void 0:s.role_features)||[],d=[].concat(p(u||[]),p(c)),e.abrupt("return",p(new Set(d)));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"init",C(r(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.isAuthorized){e.next=3;break}return n.init.clear(),e.abrupt("return");case 3:return e.next=5,n.getFeaturesByUserId(n.appwriteService.currentUser.$id);case 5:r=e.sent,B((function(){n._features=r}));case 7:case"end":return e.stop()}}),e)}))))),c(this,"getFeatures",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.init();case 2:return e.abrupt("return",n.features);case 3:case"end":return e.stop()}}),e)})))),c(this,"getAccessLevel",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.init();case 2:return e.abrupt("return",n.accessLevel);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasFeature",r(t().mark((function e(){var r,a,i,o,l=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getFeatures();case 2:for(r=e.sent,a=l.length,i=new Array(a),o=0;o<a;o++)i[o]=l[o];return e.abrupt("return",i.some((function(e){return r.includes(e)})));case 5:case"end":return e.stop()}}),e)})))),T(this,{_features:O,features:G,accessLevel:G})}return s(e,[{key:"isAuthorized",get:function(){return this.appwriteService.isAuthorized}},{key:"features",get:function(){return H(this._features)}},{key:"accessLevel",get:function(){var e,t=new Set(this.features),n=m(p(new Array(5)).map((function(e,t){return t+1})).reverse());try{for(n.s();!(e=n.n()).done;){var r=e.value;if(t.has("level-".concat(r)))return r}}catch(a){n.e(a)}finally{n.f()}return console.warn("FeatureService accessLevel unset level"),0}}]),e}(),Pi=function(){function e(){var t=this;l(this,e),c(this,"appbarSubject",new z),c(this,"modalSubject",new z),c(this,"_modalLoading",0),c(this,"_appbarLoading",0),c(this,"setModalLoader",(function(e){t._modalLoading=Math.max(t._modalLoading+(e?1:-1),0),t.modalSubject.next(e)})),c(this,"setAppbarLoader",(function(e){t._appbarLoading=Math.max(t._appbarLoading+(e?1:-1),0),t.appbarSubject.next(e)})),c(this,"dropModalLoader",(function(){t._modalLoading=0,t.modalSubject.next(!1)})),c(this,"dropAppbarLoader",(function(){t._appbarLoading=0,t.appbarSubject.next(!1)})),x(this)}return s(e,[{key:"hasModalLoader",get:function(){return!!this._modalLoading}},{key:"hasAppbarLoader",get:function(){return!!this._appbarLoading}}]),e}(),Ei=s((function e(){var n=this;l(this,e),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"error",(function(e){$((function(t){t.setExtra("user_id",n.appwriteService.currentUser.$id),t.setExtra("email",n.appwriteService.currentUser.email),Y(e)}))})),c(this,"log",(function(e,t){console.log(e),$((function(r){r.setExtra("user_id",n.appwriteService.currentUser.$id),r.setExtra("email",n.appwriteService.currentUser.email),r.setExtra("msg",e),t&&r.setExtra("data",t),Z("Log for ".concat(n.appwriteService.currentUser.email))}))})),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X({dsn:"https://8cba9840891744e8835be09bf6f2c5e6@o4505477865996288.ingest.sentry.io/4505477935726592",environment:"frontend"});case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),Ni="databases.".concat(da,".collections.").concat(Fa,".documents"),Ui=s((function e(){var n=this;l(this,e),c(this,"createSubject",new z),c(this,"reloadSubject",new z),c(this,"updateSubject",new z),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"findAllByUserId",C(function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,Fa,[A.equal("user_id",r),A.orderDesc("$createdAt")]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(this,"findAllUnreadByUserId",C(function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,Fa,[A.equal("user_id",r),A.equal("is_read",[!1]),A.orderDesc("$createdAt")]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(this,"findById",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,Fa,r);case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"create",function(){var e=r(t().mark((function e(r){var a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.createDocument(da,Fa,n.appwriteService.createId(),i({is_read:!1},Ra(r)));case 2:return a=e.sent,n.findAllByUserId.clear(),n.findAllUnreadByUserId.clear(),o=ja(a),n.createSubject.next(o),n.reloadSubject.next(),e.abrupt("return",o);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.updateDocument(da,Fa,r,i({is_read:!1},Ra(a)));case 2:return o=e.sent,n.findAllByUserId.clear(),n.findAllUnreadByUserId.clear(),l=ja(o),n.updateSubject.next([r,l]),n.reloadSubject.next(),e.abrupt("return",l);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,Fa,r);case 2:n.findAllByUserId.clear(),n.findAllUnreadByUserId.clear(),n.reloadSubject.next();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(Ni,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)&&(n.findAllByUserId.clear(),n.findAllUnreadByUserId.clear(),n.reloadSubject.next(),n.createSubject.next(r)),t.includes(Ia)&&(n.findAllByUserId.clear(),n.findAllUnreadByUserId.clear(),n.reloadSubject.next()),t.includes(La)){n.findAllByUserId.clear(),n.findAllUnreadByUserId.clear();var a=ja(r);n.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),Hi=s((function e(){var n=this;l(this,e),c(this,"notifyDbService",F(Wa.notifyDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"createSubject",this.notifyDbService.createSubject),c(this,"reloadSubject",this.notifyDbService.reloadSubject),c(this,"updateSubject",this.notifyDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService create",r),e.next=3,n.notifyDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByUserId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService findAllByUserId"),e.next=3,n.notifyDbService.findAllByUserId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllUnreadByUserId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService findAllUnreadByUserId"),e.next=3,n.notifyDbService.findAllUnreadByUserId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"toggleReadAllByUserId",function(){var e=r(t().mark((function e(a){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService toggleReadAllByUserId"),e.next=3,n.notifyDbService.findAllUnreadByUserId(a);case 3:return i=e.sent,e.next=6,Promise.all(i.map(function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.$id,n.notifyDbService.update(a,{is_read:!0});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService update",a),e.next=3,n.notifyDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService remove",{id:r}),e.next=3,n.notifyDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService read",{id:r}),e.next=3,n.notifyDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("roleViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),T(this,{})})),Wi=Q("REAL_ESTATE_PREVIEW_MODE"),Oi=function(){function e(){var n=this;l(this,e),c(this,"featureService",F(Wa.featureService)),c(this,"togglePreviewMode",(function(){Wi.setValue(!n.previewMode),q()})),c(this,"hasContactNumberPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasContactEmailPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasApartmentHouseNumberPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasBidHouseNumberPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasResponsiblePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasOwnerPricePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasCommissionPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasMasterDetailPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasDescriptionPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasContactDataPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasFioPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(!n.previewMode);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"hasApartmentViewPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("prosmotr_obekta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasBidViewPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("prosmotr_zayavki");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasContactViewPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("prosmotr_kontakta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasApartmentCreatePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("sozdanie_obekta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasBidCreatePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("sozdanie_zayavki");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasContactCreatePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("sozdanie_kontakta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasApartmentUpdatePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("redaktirovanie_obekta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasBidUpdatePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("redaktirovanie_zayavki");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasContactUpdatePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("redaktirovanie_kontakta");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasUsersUpdatePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("redaktirovanie_sotrudnika");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasSettingsCreateRolePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("sozdanie_roli");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasSettingsEditRolePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("redaktirovanie_roli");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasUsersViewPhoneAndEmailPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("prosmotr_nomera_telefona_i_email");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasUserServiceCommentMentionPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("upominanie_polzovatelya");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasUserServiceCommentAddingFilePermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("dobavlenie_fajla");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"hasUsersAccessLevelsPermission",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=J,e.next=3,n.featureService.hasFeature("nastrojka_urovnej_dostupa");case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)})))),c(this,"getPermissions",r(t().mark((function e(){var r,a,i,o,l,u,s,c,d,p,m,f,y,h,v,b,_,k,g,x,w,S,z,F,T,A,C;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,a=!1,i=!1,o=!1,l=!1,u=!1,s=!1,c=!1,d=!1,p=!1,m=!1,f=!1,y=!1,h=!1,v=!1,b=!1,_=!1,k=!1,g=!1,x=!1,w=!1,S=!1,z=!1,F=!1,T=!1,A=!1,C=!1,e.next=29,Promise.all([n.hasContactNumberPermission().then((function(e){return r=e})),n.hasContactEmailPermission().then((function(e){return a=e})),n.hasApartmentHouseNumberPermission().then((function(e){return i=e})),n.hasBidHouseNumberPermission().then((function(e){return o=e})),n.hasResponsiblePermission().then((function(e){return l=e})),n.hasOwnerPricePermission().then((function(e){return u=e})),n.hasCommissionPermission().then((function(e){return s=e})),n.hasMasterDetailPermission().then((function(e){return c=e})),n.hasDescriptionPermission().then((function(e){return d=e})),n.hasContactDataPermission().then((function(e){return p=e})),n.hasFioPermission().then((function(e){return m=e})),n.hasApartmentViewPermission().then((function(e){return f=e})),n.hasBidViewPermission().then((function(e){return y=e})),n.hasContactViewPermission().then((function(e){return h=e})),n.hasApartmentCreatePermission().then((function(e){return v=e})),n.hasBidCreatePermission().then((function(e){return b=e})),n.hasContactCreatePermission().then((function(e){return _=e})),n.hasApartmentUpdatePermission().then((function(e){return k=e})),n.hasBidUpdatePermission().then((function(e){return g=e})),n.hasContactUpdatePermission().then((function(e){return x=e})),n.hasUsersUpdatePermission().then((function(e){return w=e})),n.hasSettingsCreateRolePermission().then((function(e){return S=e})),n.hasSettingsEditRolePermission().then((function(e){return z=e})),n.hasUsersViewPhoneAndEmailPermission().then((function(e){return F=e})),n.hasUserServiceCommentMentionPermission().then((function(e){return T=e})),n.hasUserServiceCommentAddingFilePermission().then((function(e){return A=e})),n.hasUsersAccessLevelsPermission().then((function(e){return C=e}))]);case 29:return e.abrupt("return",{hasContactNumberPermission:r,hasContactEmailPermission:a,hasApartmentHouseNumberPermission:i,hasBidHouseNumberPermission:o,hasResponsiblePermission:l,hasOwnerPricePermission:u,hasCommissionPermission:s,hasMasterDetailPermission:c,hasDescriptionPermission:d,hasContactDataPermission:p,hasFioPermission:m,hasApartmentViewPermission:f,hasBidViewPermission:y,hasContactViewPermission:h,hasApartmentCreatePermission:v,hasBidCreatePermission:b,hasContactCreatePermission:_,hasApartmentUpdatePermission:k,hasBidUpdatePermission:g,hasContactUpdatePermission:x,hasUsersUpdatePermission:w,hasSettingsCreateRolePermission:S,hasSettingsEditRolePermission:z,hasUsersViewPhoneAndEmailPermission:F,hasUserServiceCommentMentionPermission:T,hasUserServiceCommentAddingFilePermission:A,hasUsersAccessLevelsPermission:C});case 30:case"end":return e.stop()}}),e)})))),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getPermissions();case 2:case"end":return e.stop()}}),e)}))))),T(this,{})}return s(e,[{key:"previewMode",get:function(){return Wi.getValue()||!1}}]),e}(),Gi=s((function e(){var t=this;l(this,e),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"errorService",F(Wa.errorService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"subscribeAppwrite",(function(e,n){return t.loggerService.log("realtimeService appwrite event bus fallback"),t.appwriteService.client.subscribe(e,n)})),c(this,"subscribe",(function(e,n){return t.subscribeAppwrite(e,n)})),T(this,{})})),$i="databases.".concat(da,".collections.").concat(za,".documents"),Yi=s((function e(){var n=this;l(this,e),c(this,"createSubject",new z),c(this,"reloadSubject",new z),c(this,"updateSubject",new z),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"findById",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.findAll();case 2:if(a=e.sent,i=a.find((function(e){return e.id===r}))){e.next=6;break}throw new Error("userDbService findById user not found");case 6:return e.abrupt("return",ja(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAll",C(r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,za,[A.orderDesc("$createdAt")]);case 2:return r=e.sent,a=r.documents,e.abrupt("return",qa(a));case 5:case"end":return e.stop()}}),e)}))))),c(this,"create",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.createDocument(da,za,n.appwriteService.createId(),Ra(r));case 2:return a=e.sent,n.findAll.clear(),i=ja(a),n.createSubject.next(i),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.updateDocument(da,za,r,Ra(a));case 2:return i=e.sent,n.findAll.clear(),o=ja(i),n.updateSubject.next([r,o]),e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,za,r);case 2:n.findAll.clear(),n.reloadSubject.next();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe($i,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)&&(n.findAll.clear(),n.reloadSubject.next(),n.createSubject.next(r)),t.includes(Ia)&&(n.findAll.clear(),n.reloadSubject.next()),t.includes(La)){n.findAll.clear();var a=ja(r);n.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),Zi=s((function e(){var n=this;l(this,e),c(this,"roleDbService",F(Wa.roleDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"createSubject",this.roleDbService.createSubject),c(this,"reloadSubject",this.roleDbService.reloadSubject),c(this,"updateSubject",this.roleDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService create",r),e.next=3,n.roleDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAll",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService findAll"),e.next=3,n.roleDbService.findAll();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService update",a),e.next=3,n.roleDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService remove",{id:r}),e.next=3,n.roleDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("roleViewService read",{id:r}),e.next=3,n.roleDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("roleViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),T(this,{})})),Xi=ee(),Ki=function(){function e(){var t=this;l(this,e),c(this,"previousPath","/"),c(this,"location",Xi.location),c(this,"action",Xi.action),c(this,"updateState",(function(){var e,n=Xi.location,r=Xi.action;t.previousPath=(null===(e=t.location)||void 0===e?void 0:e.pathname)||"/",t.location=n,t.action=r})),c(this,"createHref",(function(e){var n=Xi.createHref(e);return t.updateState(),n})),c(this,"push",(function(e,n){var r=Xi.push(e,n);return t.updateState(),r})),c(this,"replace",(function(e,n){var r=Xi.replace(e,n);return t.updateState(),r})),c(this,"go",(function(e){var n=Xi.go(e);return t.updateState(),n})),c(this,"back",(function(){var e=Xi.back();return t.updateState(),e})),c(this,"forward",(function(){var e=Xi.forward();return t.updateState(),e})),c(this,"listen",(function(e){var n=Xi.listen(e);return t.updateState(),n})),c(this,"block",(function(e){var n=Xi.block(e);return t.updateState(),n})),x(this)}return s(e,[{key:"locationState",get:function(){return this.location.state?H(this.location.state):{}}}]),e}(),Ji="databases.".concat(da,".collections.").concat(Sa,".documents"),Qi=s((function e(){var n=this;l(this,e),c(this,"createSubject",new z),c(this,"reloadSubject",new z),c(this,"updateSubject",new z),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"findById",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,Sa,r);case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"create",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.createDocument(da,Sa,n.appwriteService.createId(),Ra(r));case 2:return a=e.sent,i=ja(a),n.createSubject.next(i),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.updateDocument(da,Sa,r,Ra(a));case 2:return i=e.sent,e.abrupt("return",ja(i));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,Sa,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByApartmentId",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,Sa,[A.orderDesc("$createdAt"),A.equal("apartment_id",r)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByBidId",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,Sa,[A.orderDesc("$createdAt"),A.equal("bid_id",r)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(Ji,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)&&(n.reloadSubject.next(),n.createSubject.next(r)),t.includes(Ia)&&n.reloadSubject.next(),t.includes(La)){var a=ja(r);n.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),eo=s((function e(){var n=this;l(this,e),c(this,"serviceCommentDbService",F(Wa.serviceCommentDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"createSubject",this.serviceCommentDbService.createSubject),c(this,"reloadSubject",this.serviceCommentDbService.reloadSubject),c(this,"updateSubject",this.serviceCommentDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("serviceCommentViewService create",r),e.next=3,n.serviceCommentDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("serviceCommentViewService update",a),e.next=3,n.serviceCommentDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("serviceCommentViewService remove",{id:r}),e.next=3,n.serviceCommentDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("serviceCommentViewService read",{id:r}),e.next=3,n.serviceCommentDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByApartmentId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("serviceCommentViewService findAllByApartmentId"),r){e.next=3;break}throw new Error("serviceCommentViewService findAllByApartmentId id is null");case 3:return e.next=5,n.serviceCommentDbService.findAllByApartmentId(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByBidId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("serviceCommentViewService findByBidId"),r){e.next=3;break}throw new Error("serviceCommentViewService findByBidId id is null");case 3:return e.next=5,n.serviceCommentDbService.findByBidId(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("serviceCommentViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),T(this,{})})),to={usd_eur:"0.9",usd_uzs:"1000",watermark_file_id:null,masterdetail_mode:[P.Paper]},no="settings",ro="databases.".concat(da,".collections.").concat(ya,".documents"),ao=s((function e(){var n=this;l(this,e),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"updateSubject",new z),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"create",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.createDocument(da,ya,no,to);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),c(this,"read",C(r(t().mark((function e(){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,ya,no);case 2:return r=e.sent,e.abrupt("return",i(i({},to),ja(r)));case 4:case"end":return e.stop()}}),e)}))))),c(this,"update",W(function(){var e=r(t().mark((function e(r){var a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(1e3);case 2:return e.next=4,n.appwriteService.databases.updateDocument(da,ya,no,i(i({},to),Ra(r)));case 4:return a=e.sent,o=ja(a),n.updateSubject.next([null,o]),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,no,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(ro,(function(e){var t=e.payload;n.read.clear();var r=ja(t);n.updateSubject.next([null,r])}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),io=s((function e(){var n=this;l(this,e),c(this,"settingsDbService",F(Wa.settingsDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"updateSubject",this.settingsDbService.updateSubject),c(this,"getExchangeRate",function(){var e=r(t().mark((function e(r){var a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getValue();case 2:if(a=e.sent,i=a.usd_eur,o=a.usd_uzs,"usd_eur"!==r||isNaN(i)){e.next=7;break}return e.abrupt("return",parseFloat(i));case 7:if("usd_uzs"!==r||isNaN(o)){e.next=9;break}return e.abrupt("return",parseFloat(o));case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"getMasterDetailMode",r(t().mark((function e(){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getValue();case 2:if(r=e.sent,a=r.masterdetail_mode,(i=null!=a&&a.length?a[0]:null)!==P.Tabs){e.next=7;break}return e.abrupt("return",P.Tabs);case 7:if(i!==P.Paper){e.next=9;break}return e.abrupt("return",P.Paper);case 9:return e.abrupt("return",P.Paper);case 10:case"end":return e.stop()}}),e)})))),c(this,"getValue",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("settingsViewService getValue"),e.prev=1,e.next=4,n.settingsDbService.read();case 4:case 11:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,n.settingsDbService.create();case 12:case"end":return e.stop()}}),e,null,[[1,7]])})))),c(this,"setValue",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("settingsViewService setValue",r),e.next=3,n.settingsDbService.update(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(this,{})})),oo=["Просрочено","Новые задачи","На сегодня","На завтра","На следующую неделю","Выполненные задачи"],lo={"На завтра":si()+1,"На сегодня":si(),"На следующую неделю":si()+7,"Просрочено":si()-1},uo=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=2;break}return e.abrupt("return","Новые задачи");case 2:if(!(n<=lo["Просрочено"])){e.next=4;break}return e.abrupt("return","Просрочено");case 4:if(n!==lo["На сегодня"]){e.next=6;break}return e.abrupt("return","На сегодня");case 6:if(n!==lo["На завтра"]){e.next=8;break}return e.abrupt("return","На завтра");case 8:if(!(n>lo["На завтра"]&&n<=lo["На следующую неделю"])){e.next=10;break}return e.abrupt("return","На следующую неделю");case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),so=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.is_complete){e.next=2;break}return e.abrupt("return","Выполненные задачи");case 2:return e.next=4,uo(n.moment_stamp);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),co="databases.".concat(da,".collections.").concat(xa,".documents"),po=s((function e(){var n=this;l(this,e),c(this,"reloadSubject",new z),c(this,"createSubject",new z),c(this,"removeSubject",new z),c(this,"updateSubject",new z),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"createIndex",r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,xa,[A.limit(1),A.select(["index"])]);case 2:return r=e.sent,a=r.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),c(this,"findById",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,xa,r);case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByTaskStatus",function(){var e=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],"Просрочено"!==n){e.next=5;break}return e.next=4,bi(vi(xa,[A.lessThanEqual("moment_stamp",lo.Просрочено)],{totalDocumentsLimit:250}));case 4:r=e.sent;case 5:if("На сегодня"!==n){e.next=9;break}return e.next=8,bi(vi(xa,[A.equal("moment_stamp",lo["На сегодня"])],{totalDocumentsLimit:250}));case 8:r=e.sent;case 9:if("На завтра"!==n){e.next=13;break}return e.next=12,bi(vi(xa,[A.equal("moment_stamp",lo["На завтра"])],{totalDocumentsLimit:250}));case 12:r=e.sent;case 13:if("На следующую неделю"!==n){e.next=17;break}return e.next=16,bi(vi(xa,[A.greaterThan("moment_stamp",lo["На завтра"]),A.lessThanEqual("moment_stamp",lo["На следующую неделю"])],{totalDocumentsLimit:250}));case 16:r=e.sent;case 17:if("Новые задачи"!==n){e.next=21;break}return e.next=20,bi(vi(xa,[A.isNull("moment_stamp"),A.equal("is_complete",!1)],{totalDocumentsLimit:250}));case 20:r=e.sent;case 21:if("Выполненные задачи"!==n){e.next=25;break}return e.next=24,bi(vi(xa,[A.equal("is_complete",!0)],{totalDocumentsLimit:250}));case 24:r=e.sent;case 25:return e.abrupt("return",qa(r));case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"create",function(){var e=r(t().mark((function e(r){var a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService.databases,e.t1=da,e.t2=xa,e.t3=n.appwriteService.createId(),e.t4=i,e.t5=i({is_complete:!1},Ra(r)),e.t6={},e.next=9,n.createIndex();case 9:return e.t7=e.sent,e.t8={index:e.t7},e.t9=(0,e.t4)(e.t5,e.t6,e.t8),e.next=14,e.t0.createDocument.call(e.t0,e.t1,e.t2,e.t3,e.t9);case 14:return a=e.sent,o=ja(a),n.createSubject.next(o),e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.updateDocument(da,xa,r,i({},Ra(a)));case 2:return o=e.sent,l=ja(o),n.updateSubject.next([r,l]),e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,xa,r);case 2:n.removeSubject.next(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C((function(){var e=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(co,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)){var a=ja(r);n.reloadSubject.next(),n.createSubject.next(a)}if(t.includes(Ia)&&(n.reloadSubject.next(),n.removeSubject.next(r.$id)),t.includes(La)){var i=ja(r);n.updateSubject.next([r.$id,i])}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}))),T(this,{})})),mo="databases.".concat(da,".collections.").concat(Ta,".documents"),fo=s((function e(){var n=this;l(this,e),c(this,"createSubject",new z),c(this,"reloadSubject",new z),c(this,"updateSubject",new z),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"findById",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.getDocument(da,Ta,r);case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"create",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.createDocument(da,Ta,n.appwriteService.createId(),Ra(r));case 2:return a=e.sent,e.abrupt("return",ja(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.updateDocument(da,Ta,r,Ra(a));case 2:return i=e.sent,e.abrupt("return",ja(i));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.deleteDocument(da,Ta,r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByContactId",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,Ta,[A.orderDesc("$createdAt"),A.equal("contact_id",r)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByTaskId",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,Ta,[A.orderDesc("$createdAt"),A.equal("task_id",r)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByUserId",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,Ta,[A.orderDesc("$createdAt"),A.equal("user_id",r)]);case 2:return a=e.sent,i=a.documents,e.abrupt("return",qa(i));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(mo,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)&&(n.reloadSubject.next(),n.createSubject.next(r)),t.includes(Ia)&&n.reloadSubject.next(),t.includes(La)){var a=ja(r);n.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),yo=s((function e(){var n=this;l(this,e),c(this,"taskHistoryViewService",F(Wa.taskHistoryViewService)),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"contactViewService",F(Wa.contactViewService)),c(this,"userViewService",F(Wa.userViewService)),c(this,"todoTaskCommit",function(){var e=r(t().mark((function e(r,a,i,o,l){var u,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=n.appwriteService.currentUser.$id,s=null===a?"создал задачу":"перенес задачу (<text-underline>".concat(a,"</text-underline> -> <text-underline>").concat(i,"</text-underline>)"),c=["Пользователь ".concat(s),l?"Задача: ".concat(l):null,"Комментарий: ".concat(o)].filter((function(e){return e})).join("\n"),e.next=5,n.taskHistoryViewService.create({user_id:u,task_id:r,contact_id:null,comment:c});case 5:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),c(this,"clientTaskCommit",function(){var e=r(t().mark((function e(r,a,i,o,l,u){var s,c,d,p,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=n.appwriteService.currentUser.$id,e.next=3,n.contactViewService.read(a);case 3:return c=e.sent,d=c.fio,p=null===i?"создал задачу":"перенес задачу (<text-underline>".concat(i,"</text-underline> -> <text-underline>").concat(o,"</text-underline>)"),m=["Пользователь ".concat(p),"Контакт: ".concat(d),u?"Задача: ".concat(u):null,"Комментарий: ".concat(l)].filter((function(e){return e})).join("\n"),e.next=9,n.taskHistoryViewService.create({user_id:s,task_id:r,contact_id:a,comment:m});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o){return e.apply(this,arguments)}}()),T(this,{})})),ho=s((function e(){var n=this;l(this,e),c(this,"taskHistoryDbService",F(Wa.taskHistoryDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"createSubject",this.taskHistoryDbService.createSubject),c(this,"reloadSubject",this.taskHistoryDbService.reloadSubject),c(this,"updateSubject",this.taskHistoryDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskHistoryViewService create",r),e.next=3,n.taskHistoryDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskHistoryViewService update",a),e.next=3,n.taskHistoryDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskHistoryViewService remove",{id:r}),e.next=3,n.taskHistoryDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskHistoryViewService read",{id:r}),e.next=3,n.taskHistoryDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByContactId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskHistoryViewService findAllByContactId"),e.next=3,n.taskHistoryDbService.findAllByContactId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByTaskId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskHistoryViewService findAllByTaskId"),e.next=3,n.taskHistoryDbService.findAllByTaskId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAllByUserId",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskHistoryViewService findAllByTaskId"),e.next=3,n.taskHistoryDbService.findAllByUserId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("taskHistoryViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),T(this,{})})),vo="Wrong or invalid email!",bo="Your password is incorrect !",_o="The user was not found !",ko="Unexpected error, please try again later.",go=function(e){return"auth/user-not-found"===e.code?_o:"auth/wrong-password"===e.code?bo:"auth/invalid-email"===e.code?vo:te(e)||ko},xo=s((function e(){var n=this;l(this,e),c(this,"taskHistoryRequestService",F(Wa.taskHistoryRequestService)),c(this,"taskViewService",F(Wa.taskViewService)),c(this,"userViewService",F(Wa.userViewService)),c(this,"contactViewService",F(Wa.contactViewService)),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"notifyViewService",F(Wa.notifyViewService)),c(this,"tryCommitTodoTask",function(){var e=r(t().mark((function e(r,a,i,o,l){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.taskHistoryRequestService.todoTaskCommit(r,a,i,o,l);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(go(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),c(this,"tryCommitClientTask",function(){var e=r(t().mark((function e(r,a,i,o,l){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.taskHistoryRequestService.clientTaskCommit(r,a,i,o,l);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(go(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,n,r,a,i){return e.apply(this,arguments)}}()),c(this,"createTodoTask",function(){var e=r(t().mark((function e(r,a,i,o){var l,u,s,c,d,p,m,f,y,h,v,b,_,k;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.appwriteService.currentUser.$id,e.next=3,n.userViewService.read(l);case 3:return c=e.sent,d=c.first_name,p=c.last_name,m=c.middle_name,u=[p,d,m].filter((function(e){return e})).join(" "),e.next=10,n.userViewService.read(r);case 10:return f=e.sent,y=f.first_name,h=f.last_name,v=f.middle_name,s=[h,y,v].filter((function(e){return e})).join(" "),e.next=17,n.taskViewService.create({from_user_id:l,to_user_id:r,contact_id:null,moment_stamp:a,type:"Внутренняя",is_call:!1,is_meet:!1,from_user_fio:u,to_user_fio:s,contact_fio:"",title:i});case 17:return b=e.sent,_=b.id,e.next=21,uo(a);case 21:return k=e.sent,e.next=24,Promise.all([n.tryCommitTodoTask(_,null,k||"Новые задачи",o,i),n.notifyViewService.create({title:"На вас назначена внутренняя задача",url:"/task",user_id:r})]);case 24:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()),c(this,"createClientTask",function(){var e=r(t().mark((function e(r,a,i,o,l,u,s){var c,d,p,m,f,y,h,v,b,_,k,g,x,w,S,z,F;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.appwriteService.currentUser.$id,e.next=3,n.userViewService.read(c);case 3:return f=e.sent,y=f.first_name,h=f.last_name,v=f.middle_name,d=[h,y,v].filter((function(e){return e})).join(" "),e.next=10,n.userViewService.read(r);case 10:return b=e.sent,_=b.first_name,k=b.last_name,g=b.middle_name,p=[k,_,g].filter((function(e){return e})).join(" "),e.next=17,n.contactViewService.read(a);case 17:return x=e.sent,w=x.fio,m=w,e.next=22,n.taskViewService.create({from_user_id:c,to_user_id:r,contact_id:a,moment_stamp:i,is_call:l,is_meet:u,type:"Клиент",from_user_fio:d,to_user_fio:p,contact_fio:m,title:o});case 22:return S=e.sent,z=S.id,e.next=26,uo(i);case 26:return F=e.sent,e.next=29,Promise.all([n.tryCommitClientTask(z,a,null,F||"Новые задачи",s),n.notifyViewService.create({title:"На вас назначена задача по клиенту",url:"/task",user_id:r})]);case 29:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,l){return e.apply(this,arguments)}}()),c(this,"updateTodoTask",function(){var e=r(t().mark((function e(r,a,i,o,l,u,s){var c,d,p,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=n.appwriteService.currentUser.$id,e.next=3,n.taskViewService.update(r,{from_user_id:c,to_user_id:a,contact_id:null,moment_stamp:o,is_complete:l,is_call:!1,is_meet:!1,type:"Внутренняя",title:u});case 3:return d=e.sent,p=d.id,e.next=7,uo(o);case 7:return m=e.sent,e.next=10,n.tryCommitTodoTask(p,i,m||(l?"Выполненные задачи":"Новые задачи"),s,u);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,l){return e.apply(this,arguments)}}()),c(this,"updateClientTask",function(){var e=r(t().mark((function e(r,a,i,o,l,u,s,c,d,p){var m,f,y,h;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m=n.appwriteService.currentUser.$id,e.next=3,n.taskViewService.update(r,{from_user_id:m,to_user_id:a,contact_id:o,moment_stamp:l,is_complete:u,is_meet:c,is_call:s,type:"Клиент",title:d});case 3:return f=e.sent,y=f.id,e.next=7,uo(l);case 7:return h=e.sent,e.next=10,n.tryCommitClientTask(y,o,i,h||(u?"Выполненные задачи":"Новые задачи"),p);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a,i,o,l,u,s,c){return e.apply(this,arguments)}}()),T(this,{})})),wo=s((function e(){var n=this;l(this,e),c(this,"taskDbService",F(Wa.taskDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"reloadSubject",this.taskDbService.reloadSubject),c(this,"createSubject",this.taskDbService.createSubject),c(this,"removeSubject",this.taskDbService.removeSubject),c(this,"updateSubject",this.taskDbService.updateSubject),c(this,"create",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskViewService create",r),e.next=3,n.taskDbService.create(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskViewService update",a),e.next=3,n.taskDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskViewService remove",{id:r}),e.next=3,n.taskDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskViewService read",{id:r}),e.next=3,n.taskDbService.findById(r);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("taskViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"findByTaskStatus",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("taskViewService findByTaskStatus"),e.next=3,n.taskDbService.findByTaskStatus(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),T(this,{})})),So="databases.".concat(da,".collections.").concat(fa,".documents"),zo=s((function e(){var n=this;l(this,e),c(this,"reloadSubject",new z),c(this,"updateSubject",new z),c(this,"appwriteService",F(Wa.appwriteService)),c(this,"realtimeService",F(Wa.realtimeService)),c(this,"getMetadata",(function(e){var t=[];return t.push(e.middle_name),t.push(e.last_name),t.push(e.first_name),t.push(e.email),t.push(e.phone),t.join(" ").slice(0,Da)})),c(this,"createIndex",r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appwriteService.databases.listDocuments(da,ba,[A.limit(1),A.select(["index"])]);case 2:return r=e.sent,a=r.total,e.abrupt("return",a+1);case 5:case"end":return e.stop()}}),e)})))),c(this,"findById",function(){var e=r(t().mark((function e(r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.findAll();case 2:if(a=e.sent,i=a.find((function(e){return e.id===r}))){e.next=6;break}throw new Error("userDbService findById user not found");case 6:return e.abrupt("return",ja(i));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAll",C(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(vi(fa));case 2:return n=e.sent,e.abrupt("return",qa(n));case 4:case"end":return e.stop()}}),e)}))))),c(this,"update",function(){var e=r(t().mark((function e(r,a){var o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n.appwriteService.databases,e.t1=da,e.t2=fa,e.t3=r,e.t4=i,e.t5=i({},Ra(a)),e.t6={},e.next=9,n.getMetadata(a);case 9:return e.t7=e.sent,e.t8={system_metadata:e.t7},e.t9=(0,e.t4)(e.t5,e.t6,e.t8),e.next=14,e.t0.updateDocument.call(e.t0,e.t1,e.t2,e.t3,e.t9);case 14:return o=e.sent,n.findAll.clear(),l=ja(o),n.updateSubject.next([r,l]),e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.findAll.clear(),e.next=3,n.appwriteService.databases.deleteDocument(da,fa,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"prefetch",C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.realtimeService.subscribe(So,(function(e){var t=e.events,r=e.payload;if(t.includes(Ma)&&(n.findAll.clear(),n.reloadSubject.next()),t.includes(Ia)&&(n.findAll.clear(),n.reloadSubject.next()),t.includes(La)){n.findAll.clear();var a=ja(r);n.updateSubject.next([r.$id,a])}}));case 1:case"end":return e.stop()}}),e)}))))),T(this,{})})),Fo=s((function e(){var n=this;l(this,e),c(this,"userDbService",F(Wa.userDbService)),c(this,"loggerService",F(Wa.loggerService)),c(this,"reloadSubject",this.userDbService.reloadSubject),c(this,"updateSubject",this.userDbService.updateSubject),c(this,"update",function(){var e=r(t().mark((function e(r,a){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("userViewService update",a),e.next=3,n.userDbService.update(r,a);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),c(this,"remove",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("userViewService remove",{id:r}),e.next=3,n.userDbService.remove(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"read",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("userViewService read",{id:r}),e.next=3,n.userDbService.findById(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"tryRead",function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.loggerService.log("userViewService tryRead",{id:r}),e.prev=1,"create"!==r){e.next=4;break}return e.abrupt("return",null);case 4:if("unknown"!==r){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,n.read(r);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()),c(this,"findAll",r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.loggerService.log("userViewService findAll"),e.next=3,n.userDbService.findAll();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))),T(this,{})})),To=s((function e(){var n=this;l(this,e),c(this,"suggest",function(){var e=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ymaps.suggest(n);case 2:return r=e.sent,e.abrupt("return",r.map((function(e){return e.value})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"geocode",function(){var e=r(t().mark((function e(n){var r,a,i,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ymaps.geocode(n);case 2:if(r=e.sent,!(a=r.geoObjects.get(0))){e.next=7;break}return i=a.geometry.getCoordinates(),l=o(i,2),u=l[0],s=l[1],e.abrupt("return",{lat:u,lon:s});case 7:return e.abrupt("return",{lat:null,lon:null});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"openAddress",function(){var e=r(t().mark((function e(r){var a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.geocode(r);case 2:a=e.sent,i=a.lat,o=a.lon,i&&o&&((l=new URL("https://maps.yandex.com")).searchParams.set("ll","".concat(o,", ").concat(i)),l.searchParams.set("text",r),l.searchParams.set("z","16"),ne(l.toString()));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"getAddressString",function(){var e=r(t().mark((function e(n){var r,a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.lat,a=n.lon,i=[r,a],e.next=4,ymaps.geocode(i);case 4:return o=e.sent,l=o.geoObjects.get(0),e.abrupt("return",l.getAddressLine());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"getAddress",function(){var e=r(t().mark((function e(n){var r,a,i,o,l,u,s,c,d,p,m;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.lat,a=n.lon,i=[r,a],e.next=4,ymaps.geocode(i);case 4:return o=e.sent,l=o.geoObjects.get(0),u=l.getAdministrativeAreas()||"",s=l.getPremise()||"",c=l.getLocalities()||"",d=l.getThoroughfare()||"",p=l.getCountry()||"",m=l.getPremiseNumber()||"",Array.isArray(c)&&(c=c[1]||""),Array.isArray(d)&&(d=d[0]||""),Array.isArray(s)&&(s=s[0]||""),Array.isArray(u)&&(u=u[0]||""),Array.isArray(p)&&(p=p[0]||""),Array.isArray(m)&&(m=m[0]||""),e.abrupt("return",{strana:p,gorod:u,nomer_doma:m,rajon:c,ulicza:d,metro:"",mahallya:s});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c(this,"drawMap",(function(e,a){var i=a.address,o=a.change,l=null,u=null;console.log({address:i});var s=function(){var a=r(t().mark((function a(){var s,c,d,p;return t().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!i){a.next=6;break}return a.next=3,n.geocode(i);case 3:a.t0=a.sent,a.next=7;break;case 6:a.t0={lat:null,lon:null};case 7:if(s=a.t0,!(s.lat&&s.lon)){a.next=15;break}l=new ymaps.Map(e,{center:[s.lat,s.lon],zoom:9}),u=new ymaps.Placemark([s.lat,s.lon],{iconCaption:i},{preset:"islands#violetDotIconWithCaption",draggable:!0}),l.geoObjects.add(u),a.next=21;break;case 15:return a.next=17,n.geocode("Ташкент, Узбекистан");case 17:c=a.sent,d=c.lat,p=c.lon,l=new ymaps.Map(e,{center:[d,p],zoom:10});case 21:l.events.add("click",function(){var e=r(t().mark((function e(r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.get("coords"),u||(u=new ymaps.Placemark(a,{iconCaption:"поиск..."},{preset:"islands#violetDotIconWithCaption",draggable:!0}),l&&l.geoObjects.add(u)),u.geometry.setCoordinates(a),u.properties.set({iconCaption:"поиск..."}),e.t0=u.properties,e.next=7,n.getAddressString({lat:a[0],lon:a[1]});case 7:e.t1=e.sent,e.t2={iconCaption:e.t1},e.t0.set.call(e.t0,e.t2),o({lat:a[0],lon:a[1]});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 22:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return s(),function(){var e;null===(e=l)||void 0===e||e.destroy(),l=null}})),c(this,"prefetch",C(r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new URL("2.1","https://api-maps.yandex.ru")).searchParams.set("apikey","03219f2d-b9b3-4850-98ea-9db0670d8a6b"),n.searchParams.set("lang","ru"),n.searchParams.set("load","SuggestView,suggest,geocode,Map,Placemark"),e.next=6,re(n.toString());case 6:return e.next=8,ymaps.ready();case 8:case"end":return e.stop()}}),e)}))))),T(this,{})}));ae(Wa.appwriteService,(function(){return new Ya})),ae(Wa.authService,(function(){return new Xa})),ae(Wa.alertService,(function(){return new Ba})),ae(Wa.layoutService,(function(){return new Pi})),ae(Wa.routerService,(function(){return new Ki})),ae(Wa.errorService,(function(){return new qi})),ae(Wa.dictService,(function(){return new Ii})),ae(Wa.cacheService,(function(){return new ri})),ae(Wa.ymapsService,(function(){return new To})),ae(Wa.loggerService,(function(){return new Ei})),ae(Wa.realtimeService,(function(){return new Gi})),ae(Wa.editTargetService,(function(){return new ji})),ae(Wa.permissionService,(function(){return new Oi})),ae(Wa.featureService,(function(){return new Ri})),ae(Wa.userDbService,(function(){return new zo})),ae(Wa.settingsDbService,(function(){return new ao})),ae(Wa.apartmentDbService,(function(){return new Ga})),ae(Wa.bidDbService,(function(){return new Ja})),ae(Wa.dealDbService,(function(){return new xi})),ae(Wa.contactDbService,(function(){return new ii})),ae(Wa.dealHistoryDbService,(function(){return new Si})),ae(Wa.serviceCommentDbService,(function(){return new Qi})),ae(Wa.roleDbService,(function(){return new Yi})),ae(Wa.notifyDbService,(function(){return new Ui})),ae(Wa.taskDbService,(function(){return new po})),ae(Wa.taskHistoryDbService,(function(){return new fo})),ae(Wa.contactRequestService,(function(){return new oi})),ae(Wa.dealHistoryRequestService,(function(){return new Ci})),ae(Wa.dealRequestService,(function(){return new Li})),ae(Wa.taskRequestService,(function(){return new xo})),ae(Wa.taskHistoryRequestService,(function(){return new yo})),ae(Wa.dashboardRequestService,(function(){return new yi})),ae(Wa.userViewService,(function(){return new Fo})),ae(Wa.settingsViewService,(function(){return new io})),ae(Wa.apartmentViewService,(function(){return new $a})),ae(Wa.bidViewService,(function(){return new Qa})),ae(Wa.dealViewService,(function(){return new Mi})),ae(Wa.contactViewService,(function(){return new li})),ae(Wa.dealHistoryViewService,(function(){return new Vi})),ae(Wa.serviceCommentViewService,(function(){return new eo})),ae(Wa.roleViewService,(function(){return new Zi})),ae(Wa.notifyViewService,(function(){return new Hi})),ae(Wa.taskViewService,(function(){return new wo})),ae(Wa.taskHistoryViewService,(function(){return new ho}));var Ao={appwriteService:F(Wa.appwriteService),authService:F(Wa.authService),alertService:F(Wa.alertService),routerService:F(Wa.routerService),layoutService:F(Wa.layoutService),errorService:F(Wa.errorService),dictService:F(Wa.dictService),cacheService:F(Wa.cacheService),ymapsService:F(Wa.ymapsService),loggerService:F(Wa.loggerService),realtimeService:F(Wa.realtimeService)},Co={editTargetService:F(Wa.editTargetService),permissionService:F(Wa.permissionService),featureService:F(Wa.featureService)},Vo={contactRequestService:F(Wa.contactRequestService),dealHistoryRequestService:F(Wa.dealHistoryRequestService),dealRequestService:F(Wa.dealRequestService),taskRequestService:F(Wa.taskRequestService),taskHistoryRequestService:F(Wa.taskHistoryRequestService),dashboardRequestService:F(Wa.dashboardRequestService)},Lo={settingsDbService:F(Wa.settingsDbService),apartmentDbService:F(Wa.apartmentDbService),bidDbService:F(Wa.bidDbService),dealDbService:F(Wa.dealDbService),userDbService:F(Wa.userDbService),contactDbService:F(Wa.contactDbService),dealHistoryDbService:F(Wa.dealHistoryDbService),serviceCommentDbService:F(Wa.serviceCommentDbService),roleDbService:F(Wa.roleDbService),notifyDbService:F(Wa.notifyDbService),taskDbService:F(Wa.taskDbService),taskHistoryDbService:F(Wa.taskHistoryDbService)},Mo={userViewService:F(Wa.userViewService),apartmentViewService:F(Wa.apartmentViewService),bidViewService:F(Wa.bidViewService),dealViewService:F(Wa.dealViewService),settingsViewService:F(Wa.settingsViewService),contactViewService:F(Wa.contactViewService),dealHistoryViewService:F(Wa.dealHistoryViewService),serviceCommentViewService:F(Wa.serviceCommentViewService),roleViewService:F(Wa.roleViewService),notifyViewService:F(Wa.notifyViewService),taskViewService:F(Wa.taskViewService),taskHistoryViewService:F(Wa.taskHistoryViewService)},Io=i(i(i(i(i({},Ao),Lo),Mo),Co),Vo);window.addEventListener("unhandledrejection",(function(e){Io.errorService.handleGlobalError(new Error(e.reason))})),window.addEventListener("offline",(function(){q()})),window.addEventListener("error",(function(e){e instanceof ie&&Io.errorService.handleGlobalError(e)})),Io.layoutService.setModalLoader(!0),Io.layoutService.appbarSubject.filter((function(e){return!e})).filter((function(){return!Io.layoutService.hasAppbarLoader})).operator(oe.take(1)).debounce(1e3).once((function(){Io.layoutService.setModalLoader(!1)})),le.join([Io.layoutService.appbarSubject.toObserver(),le.fromInterval(1e4)],{race:!0}).reduce((function(e,t){return o(t,1)[0]?e+1:0}),0).filter((function(e){return 3===e})).connect((function(){Io.layoutService.dropAppbarLoader()})),Io.routerService.listen((function(e){"PUSH"===e.action&&Io.cacheService.collectGarbage()})),Io.userViewService.updateSubject.subscribe((function(e){var t=o(e,1)[0];Io.appwriteService.currentUser.$id===t&&q()})),window.ioc=Io;var Do,Bo,jo=ue({useTheme:se}).makeStyles,qo=[{type:a.Fragment,isVisible:function(e){return 0===e.activeStep},fields:[{type:a.Component,element:function(){return ce(me,{variant:"h6",fontWeight:"bold",mb:2,children:"Данные контакта"})}},{type:a.Text,outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:a.Text,outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]},{type:a.Fragment,isVisible:function(e){return 2===e.activeStep},fields:[{type:a.Component,element:function(){return ce(me,{variant:"h6",fontWeight:"bold",mb:1,children:"Предпросмотр"})}},{type:a.Component,isVisible:function(e){return!e.contact_id},element:function(){return ce(fe,{variant:"outlined",color:"warning",sx:{mb:2},children:"Создавая новый объект, убедитесь, что нет дубликата контакта"})}},{type:a.Component,isVisible:function(e){return!!e.contact_id},element:function(){return ce(fe,{variant:"outlined",color:"info",sx:{mb:2},children:"Убедитесь, что это контактные данные клиента"})}},{type:a.Text,isVisible:function(e){return!!e.contact_id},compute:(Bo=r(t().mark((function e(n){var r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.fio,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return Bo.apply(this,arguments)}),disabled:!0,outlined:!0,title:"Ф.И.О"},{type:a.Text,isVisible:function(e){return!!e.contact_id},compute:(Do=r(t().mark((function e(n){var r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.telefon,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return Do.apply(this,arguments)}),fieldBottomMargin:"0",disabled:!0,outlined:!0,title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000"},{type:a.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:a.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]}],Ro=[{type:de.Link,action:"list-action",label:"Список объектов"},{type:de.Link,action:"list-action",label:"Создание объекта"}],Po=jo()((function(e){return{root:{position:"relative",overflow:"hidden"},header:{position:"absolute",top:0,left:0,height:65,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),background:"whitesmoke",width:"100%"},content:{minHeight:300},adjust:{paddingBottom:65},listItemBackground:{background:pe(e.palette.primary.main,.05)}}})),Eo=he.forwardRef((function(e,t){var n=e.sx,r=e.variant,a=void 0===r?"filled":r,l=o(he.useState([]),2),u=l[0],s=l[1];return he.useEffect((function(){return qe((function(){return Io.editTargetService.alerts}),(function(){s(Io.editTargetService.alerts)}))}),[]),he.useEffect((function(){s(Io.editTargetService.alerts)}),[]),ce(Re,{ref:t,sx:i(i({},n),{},{mb:2}),variant:a,items:u})})),No=function(e){var n=e.children,a=Pe(r(t().mark((function e(){var n,r,a,i,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Rm()||{},r=n.sideMenu,a=void 0===r?null:r,i=Di(),o=i.id,l=void 0===o?null:o,Io.appwriteService.isAuthorized){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Io.editTargetService.getDocument(Io.appwriteService.currentUser.$id);case 6:if(u=e.sent){e.next=11;break}return e.next=10,Io.editTargetService.create({entity_id:l,path:a});case 10:return e.abrupt("return");case 11:if(!(!1||u.entity_id!==l||u.path!==a)){e.next=17;break}return e.next=17,Io.editTargetService.update({entity_id:l,path:a});case 17:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError}).execute;return he.useEffect((function(){return qe((function(){return Io.routerService.location.pathname}),(function(){Io.appwriteService.isAuthorized&&a()}))}),[]),ce(Ee,{children:n})},Uo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Io.routerService.location.pathname;return!!Ne(Dm.filter((function(t){var n=t.path;return e.includes(n)})),t)},Ho=[{id:"owner_contact",label:"Контакт",isActive:function(){return Uo(["/apartment_edit/:id/owner_contact"])}},{id:"object",label:"Объект",isActive:function(){return Uo(["/apartment_edit/:id","/apartment_edit/:id/object"])}},{id:"tasks",isDisabled:function(){return!0},label:"Задачи",isActive:function(){return Uo(["/apartment_edit/:id/tasks"])}},{id:"advertising",isDisabled:function(){return!0},label:"Реклама",isActive:function(){return Uo(["/apartment_edit/:id/advertising"])}},{id:"service_comment",isDisabled:function(){return!0},label:"Служебный комментарий",isActive:function(){return Uo(["/apartment_edit/:id/service_comment"])}},{id:"history",isDisabled:function(){return!0},label:"История",isActive:function(){return Uo(["/apartment_edit/:id/history"])}},{id:"documents",label:"Документы",isActive:function(){return Uo(["/apartment_edit/:id/documents"])}},{id:"commission_and_status",label:"Комиссия и статус",isDisabled:function(){return!0},isActive:function(){return Uo(["/apartment_edit/:id/commission_and_status"])}}],Wo=function(e,t){if(!t){var n=Bi("id","create");"owner_contact"===e&&Io.routerService.replace("/apartment_edit/".concat(n,"/owner_contact")),"object"===e&&Io.routerService.replace("/apartment_edit/".concat(n,"/object")),"tasks"===e&&Io.routerService.replace("/apartment_edit/".concat(n,"/tasks")),"advertising"===e&&Io.routerService.replace("/apartment_edit/".concat(n,"/advertising")),"service_comment"===e&&Io.routerService.replace("/apartment_edit/".concat(n,"/service_comment")),"history"===e&&Io.routerService.replace("/apartment_edit/".concat(n,"/history")),"documents"===e&&Io.routerService.replace("/apartment_edit/".concat(n,"/documents")),"commission_and_status"===e&&Io.routerService.replace("/apartment_edit/".concat(n,"/commission_and_status"))}},Oo=function(e){var t=e.payload,n=e.children,r=e.mode,a=void 0===r?P.Paper:r,i=he.useMemo((function(){return"tabs"===a?P.Tabs:P.Paper}),[a]);return ce(Ue,{withFixedPos:!0,fixedPosHeaderAdjust:a===P.Paper?85:64,mode:i,options:Ho,payload:t,onActiveOptionChange:Wo,children:n})},Go=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование документа"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание документа"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],$o=[{id:"owner_contact",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Контакт",isActive:function(){return Uo(["/apartment_view/:id/owner_contact"])}},{id:"object",label:"Объект",isActive:function(){return Uo(["/apartment_view/:id","/apartment_view/:id/object"])}},{id:"tasks",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Задачи",isActive:function(){return Uo(["/apartment_view/:id/tasks"])}},{id:"advertising",isDisabled:function(){return!0},label:"Реклама",isActive:function(){return Uo(["/apartment_view/:id/advertising"])}},{id:"service_comment",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Служебный комментарий",isActive:function(){return Uo(["/apartment_view/:id/service_comment"])}},{id:"history",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"История",isActive:function(){return Uo(["/apartment_view/:id/history"])}},{id:"documents",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Документы",isActive:function(){return Uo(["/apartment_view/:id/documents"])}},{id:"commission_and_status",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Комиссия и статус",isDisabled:function(){return!0},isActive:function(){return Uo(["/apartment_view/:id/commission_and_status"])}}],Yo=function(e,t){if(!t){var n=Bi("id","create");"owner_contact"===e&&Io.routerService.replace("/apartment_view/".concat(n,"/owner_contact")),"object"===e&&Io.routerService.replace("/apartment_view/".concat(n,"/object")),"tasks"===e&&Io.routerService.replace("/apartment_view/".concat(n,"/tasks")),"advertising"===e&&Io.routerService.replace("/apartment_view/".concat(n,"/advertising")),"service_comment"===e&&Io.routerService.replace("/apartment_view/".concat(n,"/service_comment")),"history"===e&&Io.routerService.replace("/apartment_view/".concat(n,"/history")),"documents"===e&&Io.routerService.replace("/apartment_view/".concat(n,"/documents")),"commission_and_status"===e&&Io.routerService.replace("/apartment_view/".concat(n,"/commission_and_status"))}},Zo=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?P.Paper:r,i=he.useMemo((function(){return"tabs"===a?P.Tabs:P.Paper}),[a]);return ce(Ue,{withFixedPos:!0,payload:n,fixedPosHeaderAdjust:a===P.Paper?85:64,mode:i,options:$o,onActiveOptionChange:Yo,children:t})},Xo=function(e){var n,a,i=e.data,o=e.onSubmit,l=e.onChange,u=e.fullScreen,s=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),c=s.handleLoadStart,d=s.handleLoadEnd,p=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=3;break}return e.next=3,o(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return $e({data:i,fullScreen:u,fallback:Io.errorService.handleGlobalError,onClick:(a=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getFileURL(n);case 2:return r=e.sent,e.next=5,Io.appwriteService.readFileName(n);case 5:a=e.sent,We(r,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),onUpload:function(e){return Io.appwriteService.uploadFile(e)},onLoadStart:c,onLoadEnd:d,onSubmit:p,onChange:l,submitLabel:"Сохранить",tr:(n=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.tryReadFileName(n);case 2:return r=e.sent,e.abrupt("return",r||n);case 4:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})},Ko=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",label:"Просмотр документа"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasApartmentUpdatePermission},action:"edit-action",label:"Редактировать"}],Jo={allowCustomElements:!0,allowElements:["text-underline","blank-link"],allowAttributes:{href:["blank-link"]}},Qo=he.forwardRef((function(e,n){var a,i,o=e.item,l=e.loading,u=e.className,s=e.style;return ce("div",{className:u,style:s,ref:n,children:ce(_e,{sx:{position:"relative",overflow:"hidden"},children:[ce(Ye,{children:[ce(Ze,{children:ce(Xe,{loading:l,payload:o,Loader:function(){return ce(Ke,{variant:"circular",width:40,height:40})},children:(i=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.user_id,e.next=3,Io.userViewService.tryRead(r);case 3:if(null==(a=e.sent)||!a.avatar){e.next=10;break}return e.next=7,Io.appwriteService.getImageURL(a.avatar);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=void 0;case 11:return i=e.t0,e.abrupt("return",ce(Je,{alt:null==a?void 0:a.email,src:i,sx:{height:40,mr:2,width:40}}));case 13:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})})}),ce(Xe,{loading:l,payload:o,Loader:function(){return ce(Se,{flex:1,children:[ce(Ke,{sx:{mb:1},variant:"rectangular",width:210,height:22}),ce(Ke,{variant:"rectangular",width:170,height:22})]})},children:(a=r(t().mark((function e(n){var r,a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.user_id,a=n.type,e.next=3,Io.userViewService.tryRead(r);case 3:return i=e.sent,o=[null==i?void 0:i.first_name,null==i?void 0:i.last_name,null==i?void 0:i.middle_name].filter((function(e){return e})).join(" "),l=function(){return"deal-begin"===a?"Создал сделку":"deal-end"===a?"Завершил сделку":"deal-reassign"===a?"Взял ответственность":"deal-status"===a?"Изменил статус":"Что-то сделал"},e.abrupt("return",ce(Ie,{primary:o,secondary:l()}));case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})}),ce(me,{children:f(o.$createdAt).format("HH:mm DD/MM/YYYY")})]}),!!o.comment&&ce(we,{component:"pre",sx:{ml:1,mr:1,mb:1},children:ce(Qe,{config:Jo,handler:function(){return o.comment}})}),ce(we,{sx:{position:"absolute",top:0,left:0,bottom:0,width:6,zIndex:1,background:"skyblue"}})]})})})),el="real-estate__headerRoot",tl=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",label:"Просмотр объекта"}],nl=function(e){var n=e.payload,a=o(he.useState([]),2),i=a[0],l=a[1],u=ye({target:document.body,selector:"main",compute:function(e){var t,r=e.height,a=e.width;if(n.menuMode===P.Tabs){var i=document.querySelector(".".concat(et));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(t=document.querySelector(".".concat(el)))||void 0===t?void 0:t.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=Pe(function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return r=Bi("id"),e.next=4,Io.dealHistoryViewService.findAllByApartmentId(r);case 4:a=e.sent,l(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Io.errorService.handleGlobalError,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),c=s.loading,d=s.execute;return ce(Ee,{children:[ce("div",{className:el,children:[ce(be,{className:"",items:tl,onAction:function(e){"list-action"===e&&Io.routerService.replace("/apartment")}}),ce(Eo,{})]}),ce(Zo,{payload:n,mode:n.menuMode,children:ce(De,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){d(e)},children:ce(Se,{spacing:1,children:i.map((function(e){return ce(Qo,{loading:c,status:"info",item:e},e.$id)}))})})})]})},rl=[{type:tt.Add,isDisabled:function(e,t){return!t.permissions.hasApartmentCreatePermission},label:"Создать"},{type:tt.Menu,options:[{action:"add-action",isDisabled:function(e,t){return!t.permissions.hasApartmentCreatePermission}},{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],al=function(e){var t=e.name,n=e.columns,r=e.title,i=e.isVisible,o=e.inputFormatterAllowed,l=e.inputFormatterTemplate;return{type:a.Group,isVisible:i,columns:n,fields:[{type:a.Component,fieldRightMargin:"0",fieldBottomMargin:"0",element:function(){return ce(me,{variant:"caption",sx:{opacity:.8},children:r})}},{type:a.Text,sx:{"& .MuiIconButton-root":{pointerEvents:"none"}},isInvalid:function(e){return e["".concat(t,"_ot")]&&e["".concat(t,"_do")]&&parseInt(e["".concat(t,"_ot")])>parseInt(e["".concat(t,"_do")])?"От должно быть меньше До":null},title:"",columns:"6",outlined:!1,inputFormatterAllowed:o,inputFormatterTemplate:l,name:"".concat(t,"_ot"),leadingIcon:function(){return ce(we,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ce(me,{textTransform:"lowercase",variant:"caption",children:"От"})})}},{type:a.Text,sx:{"& .MuiIconButton-root":{pointerEvents:"none"}},isInvalid:function(e){return e["".concat(t,"_ot")]&&e["".concat(t,"_do")]&&parseInt(e["".concat(t,"_ot")])>parseInt(e["".concat(t,"_do")])?"От должно быть меньше До":null},title:"",columns:"6",outlined:!1,inputFormatterAllowed:o,inputFormatterTemplate:l,name:"".concat(t,"_do"),leadingIcon:function(){return ce(we,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ce(me,{textTransform:"lowercase",variant:"caption",children:"До"})})}}]}},il=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая недвижимость)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Земля/Участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Квартиры)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Дома)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая квартира)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческий дом)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая земля/участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]}],ol=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая недвижимость)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Терраса","Угловой","Комната охраны","Вдоль дороги","Сарай","Огород","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая квартира)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж","Угловой","Вдоль дороги"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческий дом)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Комната охраны","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Вдоль дороги","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая земля/участок)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],ll=[{type:a.Fragment,isVisible:function(e){return(!nt(e.podkategoriya_obekta,"Земля/Участок")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Дома")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Квартиры")||!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.kategoriya_obekta,"Коммерческая")))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая недвижимость)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_obekta",title:"Состояние объекта",itemList:["Новой постройки","Недостроенный","Под снос","Коробка","Пустая земля/участок"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Items,columns:"4",outlined:!1,name:"voda",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kommercziya",title:"Лифт",itemList:["Есть","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya",title:"Канализация",itemList:["Да","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Items,columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}}]}},{type:a.Fragment,isVisible:function(e){if(nt(e.podkategoriya_obekta,"Квартиры")&&nt(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Квартиры)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]}]}},{type:a.Fragment,isVisible:function(e){if(nt(e.podkategoriya_obekta,"Дома")&&nt(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Дома)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]}]}},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")&&nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Земля/Участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Component,sx:{mb:2,pr:1},columns:"4",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(c({},"naznachenie-obekta_zemlya",t))}})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Items,columns:"4",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Квартиры"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая квартира)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:a.Complete,columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Дома"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческий дом)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Земля/Участок"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая земля/участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Component,sx:{mt:2,mb:2,pr:1},columns:"4",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(c({},"naznachenie-obekta_zemlya",t))}})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}}],ul=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Квартиры)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Дома)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Комната охраны","Вдоль дороги","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||nt(e.podkategoriya_obekta,"Земля/Участок"))&&!nt(e.kategoriya_obekta,"Коммерческая")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Земля/Участок)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],sl=[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:a.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:a.Fragment,isVisible:function(e){return nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Combo,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:a.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:a.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:a.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return nt(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:a.Items,isVisible:function(e){if(nt(e.kategoriya_obekta,"Коммерческая")){if(nt(e.podkategoriya_obekta,"Дома"))return!1;if(nt(e.podkategoriya_obekta,"Земля/Участок"))return!1}return!0},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:a.Combo,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Дома"))||!nt(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:a.Combo,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:a.Items,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Земля/Участок"))},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Combo,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:a.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:a.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:a.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:a.Combo,columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:a.Complete,isVisible:function(e){return!!nt(e.podkategoriya_obekta,"Квартиры")&&!nt(e.kategoriya_obekta,"Коммерческая")},columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:a.Combo,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:a.Items,isVisible:function(e){var t=!1;return t=(t=(t=t||nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:a.Items,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]}]}].concat(ll,ul,ol,il);window.apartment_filters=sl;var cl,dl,pl,ml=at.createLoader(28),fl=[{type:it.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ce(ot,{content:t})},width:function(){return 100}},{type:it.Compute,sortable:!1,headerName:"Фото",width:function(){return 150},element:function(e){var n,a=e.apartment_images;return ce(we,{style:{height:64,width:128,display:"flex",alignItems:"center",background:"#ccc",justifyContent:"center"},children:ce(Xe,{Loader:ml,children:(n=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a?a[0]:null)){e.next=7;break}return e.next=4,Io.appwriteService.getImageURL(n);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0="";case 8:return r=e.t0,e.abrupt("return",ce(Ee,{children:r?ce("img",{crossOrigin:"anonymous",loading:"lazy",alt:"apartment",src:r,style:{objectFit:"cover",height:"100%",width:"100%"}}):ce(lt,{sx:{color:"white",fontSize:28}})}));case 10:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})})})}},{type:it.Text,sortable:!0,field:"zagolovok",headerName:"Заголовок",width:function(){return 200}},{type:it.Text,sortable:!0,field:"kolichestvo_komnat",headerName:"Комнат",width:function(){return 100}},{type:it.Text,sortable:!0,field:"etazh",headerName:"Этаж",width:function(){return 100}},{type:it.Text,sortable:!0,field:"etazhnost",headerName:"Этажность",width:function(){return 100}},{type:it.Compute,sortable:!0,field:"ploshhad",compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return!!e})).join(", ")},headerName:"Площадь М²",width:function(){return 200}},{type:it.Compute,sortable:!0,field:"adres",compute:function(e){return[e.strana,e.gorod,e.oblast,e.rajon,e.mahallya,e.ulicza,e.orientir].filter((function(e){return!!e})).join(", ")},headerName:"Адрес",width:function(){return 250}},{type:it.Compute,field:"kategoriya_obekta",sortable:!0,compute:function(e){var t;return(null===(t=e.kategoriya_obekta)||void 0===t?void 0:t.join(", "))||"Unset"},headerName:"Категория",width:function(){return 200}},{type:it.Compute,field:"czena_prodazha",sortable:!0,isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},compute:(pl=r(t().mark((function e(n){var r,a,i,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.prod_startovaya_czena,a=n.prod_startovaya_czena_valyuta,i=n.prod_startovaya_czena_for,o=n.prod_kom_startovaya_czena,l=n.prod_kom_startovaya_czena_valyuta,u=n.prod_kom_startovaya_czena_for,!r){e.next=3;break}return e.abrupt("return","".concat(r," ").concat("uzs"===a?"UZS":"USD"," (").concat((null==i?void 0:i.join(""))||"Итог",")"));case 3:if(!o){e.next=5;break}return e.abrupt("return","".concat(o," ").concat("uzs"===l?"UZS":"USD"," (").concat((null==u?void 0:u.join(""))||"Итог",")"));case 5:return e.abrupt("return","Unset");case 6:case"end":return e.stop()}}),e)}))),function(e){return pl.apply(this,arguments)}),headerName:"Цена (Продажа)",width:function(){return 200}},{type:it.Compute,field:"czena_arenda",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(dl=r(t().mark((function e(n){var r,a,i,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rent_startovaya_czena,a=n.rent_startovaya_czena_valyuta,i=n.rent_startovaya_czena_for,o=n.rent_kom_startovaya_czena,l=n.rent_kom_startovaya_czena_valyuta,u=n.rent_kom_startovaya_czena_for,!r){e.next=3;break}return e.abrupt("return","".concat(r," ").concat("uzs"===a?"UZS":"USD"," (").concat((null==i?void 0:i.join(""))||"Итог",")"));case 3:if(!o){e.next=5;break}return e.abrupt("return","".concat(o," ").concat("uzs"===l?"UZS":"USD"," (").concat((null==u?void 0:u.join(""))||"Итог",")"));case 5:return e.abrupt("return","Unset");case 6:case"end":return e.stop()}}),e)}))),function(e){return dl.apply(this,arguments)}),headerName:"Цена (Аренда)",width:function(){return 200}},{type:it.Compute,sortable:!0,field:"istochnik",compute:function(e){return e.istochnik||"Unset"},headerName:"Источник",width:function(){return 150}},{type:it.Compute,sortable:!1,field:"status",headerName:"Статус",compute:(cl=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,e.next=3,Io.dealViewService.readStatusByApartmentId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return cl.apply(this,arguments)}),width:function(){return 150}},{type:it.Compute,field:"$createdAt",headerName:"Дата создания",compute:function(e){var t=e.$createdAt;return f(t).format("DD/MM/YYYY")},sortable:!0,width:function(){return 200}},{type:it.Compute,field:"$updatedAt",sortable:!0,headerName:"Дата обновления",compute:function(e){var t=e.$updatedAt;return f(t).format("DD/MM/YYYY")},width:function(){return 200}},{type:it.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],yl=[{label:"Редактировать",isDisabled:function(e,t){return!t.permissions.hasApartmentUpdatePermission},action:"edit-action",icon:ut},{label:"В архиве",action:"toggle-archive",icon:st,isVisible:function(e){return!e.system_is_archive}},{label:"В архиве",action:"toggle-archive",icon:ct,isVisible:function(e){return!!e.system_is_archive}},{label:"Создать копию",isVisible:function(e){return 5===e.accessLevel},action:"copy-action",icon:dt},{label:"Удалить",action:"remove-action",isVisible:function(e){return 5===e.accessLevel},icon:pt}],hl=function(){return mt(Io.apartmentViewService.paginate,{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError})},vl=function(){return window.innerHeight-70},bl=function(){return window.innerHeight-70},_l=function(){return window.innerHeight-70},kl=function(){return window.innerHeight-70},gl=[{id:"common",element:function(e){var n=e.payload,a=ft(Io.apartmentViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=hl(),u=function(){var e=r(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==n){e.next=6;break}return e.next=5,Io.apartmentViewService.remove(r.id);case 5:a.next();case 6:if("edit-action"===n&&Io.routerService.push("/apartment_edit/".concat(r.id)),"copy-action"!==n){e.next=14;break}return e.next=10,Io.apartmentViewService.read(r.id);case 10:return i=e.sent,e.next=13,Io.apartmentViewService.create(i);case 13:a.next();case 14:if("toggle-archive"!==n){e.next=18;break}return e.next=17,Io.apartmentViewService.toggleArchive(r.id);case 17:a.next();case 18:return e.prev=18,Io.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasApartmentViewPermission&&Io.routerService.push("/apartment_view/".concat(n.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,reloadSubject:a,title:"Объект недвижимости",filterLabel:"Фильтры",heightRequest:bl,rowActions:yl,actions:rl,filters:sl,columns:fl,handler:l,onRowAction:u,onRowClick:s,onAction:function(e){"add-action"===e&&Io.routerService.push("/apartment/create")},selectionMode:vt.Multiple,payload:n},o))})},isActive:function(e){return Uo(["/apartment"],e)},isAvailable:function(){return!1}},{id:"rent",element:function(e){var n=e.payload,a=ft(Io.apartmentViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=hl(),u=function(){var e=r(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==n){e.next=6;break}return e.next=5,Io.apartmentViewService.remove(r.id);case 5:a.next();case 6:if("edit-action"===n&&Io.routerService.push("/apartment_edit/".concat(r.id)),"copy-action"!==n){e.next=14;break}return e.next=10,Io.apartmentViewService.read(r.id);case 10:return i=e.sent,e.next=13,Io.apartmentViewService.create(i);case 13:a.next();case 14:if("toggle-archive"!==n){e.next=18;break}return e.next=17,Io.apartmentViewService.toggleArchive(r.id);case 17:a.next();case 18:return e.prev=18,Io.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasApartmentViewPermission&&Io.routerService.push("/apartment_view/".concat(n.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,reloadSubject:a,title:"Объект недвижимости",filterLabel:"Фильтры",heightRequest:_l,rowActions:yl,actions:rl,filters:sl,columns:fl,handler:l,onRowAction:u,onRowClick:s,onAction:function(e){"add-action"===e&&Io.routerService.push("/apartment/create")},selectionMode:vt.Multiple,payload:function(){return i(i({},n),{},{_rent:!0})}},o))})},isActive:function(e){return Uo(["/apartment_rent"],e)},isAvailable:function(){return!1}},{id:"sell",element:function(e){var n=e.payload,a=ft(Io.apartmentViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=hl(),u=function(){var e=r(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==n){e.next=6;break}return e.next=5,Io.apartmentViewService.remove(r.id);case 5:a.next();case 6:if("edit-action"===n&&Io.routerService.push("/apartment_edit/".concat(r.id)),"copy-action"!==n){e.next=14;break}return e.next=10,Io.apartmentViewService.read(r.id);case 10:return i=e.sent,e.next=13,Io.apartmentViewService.create(i);case 13:a.next();case 14:if("toggle-archive"!==n){e.next=18;break}return e.next=17,Io.apartmentViewService.toggleArchive(r.id);case 17:a.next();case 18:return e.prev=18,Io.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasApartmentViewPermission&&Io.routerService.push("/apartment_view/".concat(n.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,reloadSubject:a,title:"Объект недвижимости",filterLabel:"Фильтры",heightRequest:kl,rowActions:yl,actions:rl,filters:sl,columns:fl,handler:l,onRowAction:u,onRowClick:s,onAction:function(e){"add-action"===e&&Io.routerService.push("/apartment/create")},selectionMode:vt.Multiple,payload:function(){return i(i({},n),{},{_sell:!0})}},o))})},isActive:function(e){return Uo(["/apartment_sell"],e)},isAvailable:function(){return!1}},{id:"archive",element:function(e){var n=e.payload,a=ft(Io.apartmentViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=hl(),u=function(){var e=r(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==n){e.next=6;break}return e.next=5,Io.apartmentViewService.remove(r.id);case 5:a.next();case 6:if("edit-action"===n&&Io.routerService.push("/apartment_edit/".concat(r.id)),"copy-action"!==n){e.next=14;break}return e.next=10,Io.apartmentViewService.read(r.id);case 10:return i=e.sent,e.next=13,Io.apartmentViewService.create(i);case 13:a.next();case 14:if("toggle-archive"!==n){e.next=18;break}return e.next=17,Io.apartmentViewService.toggleArchive(r.id);case 17:a.next();case 18:return e.prev=18,Io.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasApartmentViewPermission&&Io.routerService.push("/apartment_view/".concat(n.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,reloadSubject:a,title:"Объект недвижимости",filterLabel:"Фильтры",heightRequest:vl,rowActions:yl,actions:rl,filters:sl,columns:fl,handler:l,onRowAction:u,onRowClick:s,onAction:function(e){"add-action"===e&&Io.routerService.push("/apartment/create")},selectionMode:vt.Multiple,payload:function(){return i(i({},n),{},{_archive:!0})}},o))})},isActive:function(e){return Uo(["/apartment_archive"],e)},isAvailable:function(){return!1}}],xl=function(e){var t=e.addon_square_names,n=e.addon_square_values;t=t||[],n=n||[];for(var r=[],a=0;a!==t.length;a++)r.push({id:w(),title:t[a],number:n[a]});return r},wl=function(e){var t=e.addon_square_names,n=e.addon_square_values,r=e.readonly,i=e.onChange,l=o(he.useState((function(){return xl({addon_square_names:t,addon_square_values:n})})),2),u=l[0],s=l[1],c=_t({fields:[{type:a.Text,sx:{mt:-2},name:"title",title:"Название",isInvalid:function(e){return e.title?null:"Укажите название"}},{type:a.Text,name:"number",title:"Значение",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isInvalid:function(e){return e.number?null:"Укажите значение"}}]}),d=kt({title:"Вы уверены?",msg:"Вы уверены, что хотите удалить площадь?"}),m=gt((function(){var e;i({addon_square_names:(e=u).length?e.map((function(e){return e.title})):null,addon_square_values:e.length?e.map((function(e){return e.number})):null})}),[u]).resetWatcher;he.useEffect((function(){var e=xl({addon_square_names:t,addon_square_values:n});m(),s(e)}),[t,n]);return ce(Se,{direction:"column",children:[ce(Se,{direction:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"20px",children:[ce(me,{variant:"h6",fontWeight:"bold",children:"Доп. площадь"}),ce(xt,{disabled:r,onClick:function(){c({title:"Создание площади",handler:{id:w(),title:"",number:""}}).then((function(e){e&&s((function(t){return[].concat(p(t),[e])}))}))},variant:"contained",children:"Добавить"})]}),ce(we,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"10px"},children:u.map((function(e){return ce(wt,{id:"standard-read-only-input",label:e.title,value:e.number,onClick:function(){var t;t={id:e.id,title:e.title,number:e.number},c({title:"Редактирование площади",handler:{id:t.id,title:t.title,number:t.number}}).then((function(e){e&&(s((function(t){var n=t.findIndex((function(t){return t.id===e.id}));return t[n]=e,p(t)})),console.log(u))}))},InputProps:{readOnly:!0,endAdornment:ce(St,{position:"end",children:ce(zt,{disabled:r,edge:"end",onClick:function(t){var n;t.preventDefault(),t.stopPropagation(),n=e.id,d().then((function(e){e&&s((function(e){return e.filter((function(e){return e.id!==n}))}))}))},children:ce(pt,{fill:"white",style:{cursor:"pointer",color:"grey"}})})})},variant:"standard"})}))})]})},Sl=function(e){var n=e.images,a=e.onChange,i=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),o=i.handleLoadStart,l=i.handleLoadEnd,u=i.loading,s=function(){var e=r(t().mark((function e(){var i,u,s,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!0,o(),e.prev=2,e.next=5,At("*");case 5:if(u=e.sent){e.next=8;break}return e.abrupt("return");case 8:return s=Ct(n)||[],e.next=11,Promise.all(u.map(function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io.appwriteService.uploadFile(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:c=e.sent,d=[].concat(p(s),p(c)),a(d),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),i=!1,Io.alertService.notify(go(e.t0));case 20:return e.prev=20,l(i),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,16,20,23]])})));return function(){return e.apply(this,arguments)}}();return ce(Tt,{children:ce(ze,{disabled:u,sx:{borderRadius:"20px"},startIcon:ce(Ft,{}),variant:"contained",onClick:s,children:"Добавить фото"})})},zl=o(Vt(),2),Fl=zl[0],Tl=zl[1],Al=o(Vt(),2),Cl=Al[0],Vl=Al[1],Ll=function(e,t){return new Promise((function(n,r){e.onload=function(){var a=document.createElement("canvas");a.width=e.height,a.height=e.width;var i=a.getContext("2d");i?(i.translate(a.width/2,a.height/2),i.rotate(t*Math.PI/180),i.drawImage(e,-e.width/2,-e.height/2),a.toBlob((function(e){e?n(e):r("there's an error")}))):r("there's an error")},e.onerror=function(e){r("there's an error"),console.error(e)}}))};function Ml(e,t){return Il.apply(this,arguments)}function Il(){return(Il=r(t().mark((function e(n,r){var a,i,o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getImageURL(n);case 2:return a=e.sent,(i=document.createElement("img")).src=a,i.crossOrigin="anonymous",e.next=8,Ll(i,90);case 8:if(o=e.sent){e.next=11;break}return e.abrupt("return",r);case 11:return l=r.indexOf(n),e.next=14,Io.appwriteService.tryReadFileName(n);case 14:return u=e.sent,e.next=17,Io.appwriteService.uploadBlob(o,u||o.type||"unknown.png");case 17:return s=e.sent,r[l]=s,e.abrupt("return",p(r));case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dl(e,t){return Bl.apply(this,arguments)}function Bl(){return(Bl=r(t().mark((function e(n,r){var a,i,o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getImageURL(n);case 2:return a=e.sent,(i=document.createElement("img")).src=a,i.crossOrigin="anonymous",console.log(i.height),console.log(i.width),e.next=10,Ll(i,-90);case 10:if(o=e.sent){e.next=13;break}return e.abrupt("return",r);case 13:return l=r.indexOf(n),e.next=16,Io.appwriteService.tryReadFileName(n);case 16:return u=e.sent,e.next=19,Io.appwriteService.uploadBlob(o,u||o.type||"unknown.png");case 19:return s=e.sent,r[l]=s,e.abrupt("return",p(r));case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jl=function(){var e=r(t().mark((function e(n,r){var a,i,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=document.createElement("img"),i=document.createElement("img"),e.next=4,Io.settingsViewService.getValue();case 4:if(o=e.sent,!(l=o.watermark_file_id)){e.next=12;break}return e.next=9,Io.appwriteService.getImageURL(l);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=new URL("/watermark.png",window.origin);case 13:return u=e.t0,i.src=u.toString(),i.crossOrigin="anonymous",a.src=n,a.crossOrigin="anonymous",e.abrupt("return",Promise.resolve().then((function(){return Promise.all([new Promise((function(e,t){i.addEventListener("load",(function(){return e()})),i.addEventListener("error",(function(){return t()}))})),new Promise((function(e,t){a.addEventListener("load",(function(){return e()})),a.addEventListener("error",(function(){return t()}))}))])})).then((function(){return new Promise((function(e,t){var n=document.createElement("canvas");n.width=a.width,n.height=a.height;var o=n.getContext("2d");if(o){if(o.translate(n.width/2,n.height/2),o.drawImage(a,-a.width/2,-a.height/2),r){var l=.07*Math.min(a.height,a.width);o.lineWidth=.05*l,o.font="bold ".concat(l,"px Segoe UI, Arial, sans-serif"),o.fillStyle="white",o.strokeStyle="black",o.fillText(String(r||""),-1*a.width/2+10,a.height/2-10),o.strokeText(String(r||""),-1*a.width/2+10,a.height/2-10)}o.globalAlpha=1;var u=.3*Math.min(n.width/i.naturalWidth,n.height/i.naturalHeight),s=i.naturalWidth*u,c=i.naturalHeight*u;o.drawImage(i,-s/2,-c/2,s,c),n.toBlob((function(n){n?e(n):t("there's an error")}))}else t("there's an error")}))})));case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ql=function(){var e=r(t().mark((function e(n,r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,jl(n,r);case 3:return a=e.sent,e.abrupt("return",a?URL.createObjectURL(a):null);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Rl=at.createLoader(96),Pl=[{action:"download-action",label:"Скачать изображение"},{action:"open-action",label:"Открыть оригинальное изображение",isVisible:function(e){return 5===e.accessLevel}},{action:"rotate-left-action",icon:Dt,label:"Поворот влево",isVisible:function(e){return!e.readonly}},{action:"rotate-right-action",icon:Bt,label:"Поворот вправо",isVisible:function(e){return!e.readonly}},{action:"remove-action",isVisible:function(e){return!e.readonly},label:"Удалить"}],El=jo()((function(e){return{square:{position:"relative"},dragHoverActive:{background:pe(e.palette.primary.main,.5)},dragHoverInactive:{background:"#ccc"},defaultIcon:{position:"absolute",right:10,bottom:10,height:35,width:35,fill:"orange",background:"white",borderRadius:"50%",padding:"1.5px",zIndex:"1"}}})),Nl=function(e){var n,a=e.dropSubject,l=e.className,u=e.readonly,s=e.image,d=e.images,p=e.payload,m=e.text,f=e.sx,y=e.onChange,h=e.onClick,v=e.onLoadStart,b=e.onLoadEnd,_=e.drag,k=El().classes,g=kt({title:"Продолжить?",msg:"Вы собираетесь удалить файл"}),x=o(he.useState(!1),2),w=x[0],S=x[1],z=o(he.useState(!1),2),F=z[0],T=z[1],A=o(he.useState(!1),2),C=A[0],V=A[1],L=ft(a),M=ft();he.useEffect((function(){return function(){M.next()}}),[]),he.useEffect((function(){return L.subscribe((function(){V(!1)}))}),[]);var I,D=o(Tl(),2)[1],B=o(Vl(),2)[1],j=ve({history:Io.routerService,onLoadStart:function(){v&&v(),Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){b&&b(),Io.layoutService.setAppbarLoader(!1)}}),q=j.handleLoadStart,R=j.handleLoadEnd,P=j.loading,E=function(){var e=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,q(),e.prev=2,e.next=5,Io.appwriteService.getImageURL(s);case 5:r=e.sent,ne(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),n=!1,Io.alertService.notify(go(e.t0));case 13:return e.prev=13,R(n),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,q(),e.prev=2,e.next=5,Ml(s,d);case 5:r=e.sent,y(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n=!1;case 12:return e.prev=12,R(n),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!0,q(),e.prev=2,e.next=5,Dl(s,d);case 5:r=e.sent,y(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),n=!1;case 12:return e.prev=12,R(n),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getImageURL(s);case 2:return n=e.sent,e.next=5,ql(n,m);case 5:r=e.sent,M.once((function(){r&&URL.revokeObjectURL(r)})),We(r||n,"".concat(m,".png"));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("download-action"===n&&H(),"open-action"===n&&E(),"remove-action"!==n){e.next=9;break}return e.next=5,g().toPromise();case 5:if(!e.sent){e.next=9;break}return e.next=9,t=void 0,t=(Ct(d)||[]).filter((function(e){return e!==s})),void y(t.length?t:null);case 9:if("rotate-left-action"!==n){e.next=12;break}return e.next=12,U();case 12:if("rotate-right-action"!==n){e.next=15;break}return e.next=15,N();case 15:case"end":return e.stop()}var t}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(we,{className:l,sx:f,onClick:function(){return h&&h(s)},children:ce(Lt,{draggable:_,onDragStart:function(){return D(s)},onDragOver:function(e){e.preventDefault(),B(s)},onDragLeave:function(){return V(!1)},onDragEnter:function(){return V(!0)},className:k.square,children:[0===d.indexOf(s)&&ce(Mt,{className:k.defaultIcon}),ce(we,{className:Ve((n={},c(n,k.dragHoverActive,C),c(n,k.dragHoverInactive,!C),n)),component:"div",sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},onMouseEnter:function(){F||S(!0)},onMouseLeave:function(){F||S(!1)},children:[ce(It,{disabled:P,sx:{position:"absolute",top:10,left:10,transition:"opacity 150ms",opacity:w||F?1:0},payload:i(i({},p),{},{readonly:u}),options:Pl,onAction:W,onToggle:function(e){e&&S(!1),T(e)}}),ce(Xe,{Loader:Rl,payload:s,children:(I=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",ce(lt,{sx:{fontSize:96,fill:"white"}}));case 2:return e.next=4,Io.appwriteService.getImageURL(n);case 4:return r=e.sent,e.next=7,ql(r,m);case 7:return a=e.sent,M.once((function(){a&&URL.revokeObjectURL(a)})),e.abrupt("return",ce("img",{crossOrigin:"anonymous",loading:"lazy",alt:n,src:a||r,style:{objectFit:"contain",height:"100%",width:"100%",pointerEvents:"none"}}));case 10:case"end":return e.stop()}}),e)}))),function(e){return I.apply(this,arguments)})})]})]})})},Ul=jo()((function(e){return{root:{position:"fixed",padding:20,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",transform:"translate(-50%, -50%)",backgroundColor:e.palette.background.paper,borderRadius:5,gap:5,top:"50%",left:"50%",width:"calc(100vmin - 50px)",height:"calc(100vmin - 50px)",outline:"none"},content:{overflow:"hidden",padding:e.spacing(1),flex:1},container:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flex:1,overflow:"hidden",paddingTop:e.spacing(1)},title:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},submit:{marginTop:15},disabled:{opacity:.5,pointerEvents:"none"},indicatorTransparent:{height:6,background:e.palette.primary.main},tabRootTransparent:{minHeight:54,height:54},tabsRoot:{minHeight:54,height:54,marginLeft:"0 !important",marginRight:"0 !important"}}})),Hl=function(e){var t=e.apartment_images,n=e._fieldData,r=e.payload,a=e.readonly,i=e.onChange,l=o(Tl(),1)[0],u=o(Vl(),1)[0],s=function(e){var t=e._fieldData,n=e.payload,r=e.onChange,a=o(he.useState(""),2),i=a[0],l=a[1],u=o(he.useState(!1),2),s=u[0],c=u[1],d=t.apartment_images.length,p=o(he.useState(0),2),m=p[0],f=p[1],y=o(he.useState(!1),2),h=y[0],v=y[1],b=o(he.useState(0),2),_=b[0],k=b[1];he.useEffect((function(){f(t.apartment_images.indexOf(i))})),he.useEffect((function(){f(t.apartment_images.indexOf(i))}),[i]);var g=Ul(),x=g.classes,w=(g.cx,function(){_||(l(""),f(0),v(!1))}),S=function(){k((function(e){return e+1}))},z=function(){k((function(e){return e-1}))},F=function(e){e.preventDefault(),e.stopPropagation(),l(t.apartment_images[m+1])},T=function(e){e.preventDefault(),e.stopPropagation(),l(t.apartment_images[m-1])};return{render:function(){return ce(Pt,{open:h,onClose:w,sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:ce("div",{className:x.root,onMouseEnter:function(){c(!0)},onMouseLeave:function(){c(!1)},onClick:function(){return v(!1)},children:ce("div",{className:x.container,children:[ce(Nl,{onLoadEnd:z,onLoadStart:S,className:x.content,images:t.apartment_images,text:"Объект №".concat(t.index),payload:n,onChange:r,image:i,readonly:!0,drag:!1}),d>1&&ce(we,{sx:{position:"absolute",left:0,bottom:0,width:"100%",height:75,display:"flex",alignItems:"space-beetween",justifyContent:"center",transition:"opacity 150ms",opacity:s?1:0},children:ce(jt,{onClick:function(e){e.preventDefault(),e.stopPropagation()},steps:d,position:"static",activeStep:m,nextButton:ce(zt,{size:"small",sx:{ml:1},onClick:F,disabled:m===d-1,children:ce(qt,{})}),backButton:ce(zt,{size:"small",sx:{mr:1},onClick:T,disabled:0===m,children:ce(Rt,{})}),sx:{height:"45px",backdropFilter:"blur(20px)",backgroundColor:"#00000012",borderRadius:"18px",zIndex:"1000"}})})]})})})},pickImage:function(e){l(e),v(!0)}}}({_fieldData:n,payload:r,apartment_images:t,onChange:function(e){i({apartment_images:e})},readonly:a}),c=s.pickImage,d=s.render,p=ft();return ce(Ee,{children:[ce(Se,{gap:1,sx:{pointerEvents:"all"},flexWrap:"wrap",direction:"row",onDrop:function(e){!function(e){if(l!=u){var t=e.indexOf(l),n=e.indexOf(u),r=e[t];e[t]=e[n],e[n]=r,i({apartment_images:e})}}(t),p.next()},children:null==t?void 0:t.map((function(e,t){return ce(Nl,{sx:{width:175},image:e,images:n.apartment_images,onChange:function(e){i({apartment_images:e})},text:"Объект №".concat(n.index),dropSubject:p,drag:!a,payload:r,readonly:a,onClick:c},t)}))}),d()]})},Wl=function(e){return ce(Fl,{initialState:"",children:ce(Cl,{initialState:"",children:ce(Hl,i({},e))})})},Ol=function(e){var t=e.title,n=e.name,r=e.features;return[{type:a.Text,hidden:!0,name:n,defaultValue:""},{type:a.Text,hidden:!0,name:"".concat(n,"_valyuta"),defaultValue:""},{type:a.Component,features:r,fieldBottomMargin:"1",fieldRightMargin:"1",element:function(e){var r=e._fieldData,a=e.onChange,i=o(he.useState(r[n]||""),2),l=i[0],u=i[1],s=r["".concat(n,"_valyuta")]&&"uzs"===r["".concat(n,"_valyuta")][0]?"uzs":"usd",d=U.debounce((function(e){a(c({},n,e))}),300);return he.useEffect((function(){return function(){d.flush()}}),[]),ce(wt,{label:t,defaultValue:l,onChange:function(e){var t=e.target,n=isNaN(t.value)?l:t.value;t.value=n,d(n),u(n)},onBlur:function(){return d.flush()},variant:"standard",fullWidth:!0,InputProps:{startAdornment:ce(St,{sx:{userSelect:"none",cursor:"pointer"},onClick:function(){"usd"===s&&a(c({},"".concat(n,"_valyuta"),["uzs"])),"uzs"===s&&a(c({},"".concat(n,"_valyuta"),["usd"]))},position:"start",children:["usd"===s&&ce(Et,{sx:{width:"36px"}}),"uzs"===s&&ce("span",{style:{fontWeight:"bold"},children:"SUM"})]})}})}}]},Gl=function(e){var t=e.title,n=e.name;return[{type:a.Text,hidden:!0,name:n,defaultValue:""},{type:a.Text,hidden:!0,name:"".concat(n,"_unit"),defaultValue:""},{type:a.Component,fieldBottomMargin:"1",fieldRightMargin:"1",columns:"6",element:function(e){var r=e._fieldData,a=e.onChange,i=o(he.useState(r[n]||""),2),l=i[0],u=i[1],s=r["".concat(n,"_unit")]&&"1"===r["".concat(n,"_unit")][0]?"1":"%",d=U.debounce((function(e){a(c({},n,e))}),300);return he.useEffect((function(){return function(){d.flush()}}),[]),ce(wt,{label:t,defaultValue:l,onChange:function(e){var t=e.target,n=isNaN(t.value)?l:t.value;t.value=n,d(n),u(n)},onBlur:function(){return d.flush()},variant:"standard",fullWidth:!0,InputProps:{startAdornment:ce(St,{sx:{userSelect:"none",cursor:"pointer"},onClick:function(){"1"===s&&a(c({},"".concat(n,"_unit"),["%"])),"%"===s&&a(c({},"".concat(n,"_unit"),["1"]))},position:"start",children:["%"===s&&ce(Nt,{}),"1"===s&&ce(Ut,{})]})}})}}]},$l=[{type:a.Fragment,isVisible:function(e){var t=e.kategoriya_obekta;return nt(t,"Жилая","Новостройка")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Стоимость объекта"})}},{type:a.Box,noBaseline:!0,sx:{display:"flex",alignItems:"flex-end","& > *":{flex:1},"& > :last-child":{maxWidth:125}},fields:[].concat(p(Ol({title:"Цена собственника",features:["hasOwnerPricePermission"],name:"rent_czena"})),p(Ol({title:"Стартовая цена",name:"rent_startovaya_czena"})),[{type:a.Combo,noDeselect:!0,title:"",fieldBottomMargin:"1",name:"rent_czena_for",itemList:["М2","Итог"],tr:function(e){return"М2"===e?"м²":e},placeholder:"Итог",defaultValue:"Итог"}])},{type:a.Fragment,features:["hasCommissionPermission"],fields:[{type:a.Checkbox,isDisabled:function(e,t){return t.readonly},fieldBottomMargin:"1",name:"rent_torg",title:"Торг"}].concat(p(Gl({title:"Комиссия агенства",name:"rent_komissiya_agenstva"})),p(Gl({title:"Комиссия менеджера",name:"rent_komissiya_menedzhera"})))},{type:a.Div,style:{height:10}}]},{type:a.Fragment,isVisible:function(e){var t=e.kategoriya_obekta;return nt(t,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Стоимость объекта ком."})}},{type:a.Box,noBaseline:!0,sx:{display:"flex",alignItems:"flex-end","& > *":{flex:1},"& > :last-child":{maxWidth:125}},fields:[].concat(p(Ol({title:"Цена собственника",features:["hasOwnerPricePermission"],name:"rent_kom_czena_sobstvennika"})),p(Ol({title:"Стартовая цена",name:"rent_kom_startovaya_czena"})),[{type:a.Combo,noDeselect:!0,title:"",fieldBottomMargin:"1",name:"rent_kom_czena_for",itemList:["М2","Итог"],tr:function(e){return"М2"===e?"м²":e},placeholder:"Итог",defaultValue:"Итог"}])},{type:a.Fragment,features:["hasCommissionPermission"],fields:[{type:a.Checkbox,isDisabled:function(e,t){return t.readonly},fieldBottomMargin:"1",name:"rent_kom_torg",title:"Торг"}].concat(p(Gl({title:"Комиссия агенства",name:"rent_kom_komissiya_agenstva"})),p(Gl({title:"Комиссия менеджера",name:"rent_kom_komissiya_menedzhera"})))},{type:a.Div,style:{height:10}}]}];window.price_rent_fields=$l;var Yl=[{type:a.Fragment,isVisible:function(e){var t=e.kategoriya_obekta;return nt(t,"Жилая","Новостройка")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Стоимость объекта"})}},{type:a.Box,noBaseline:!0,sx:{display:"flex",alignItems:"flex-end","& > *":{flex:1},"& > :last-child":{maxWidth:125}},fields:[].concat(p(Ol({title:"Цена собственника",features:["hasOwnerPricePermission"],name:"prod_czena"})),p(Ol({title:"Стартовая цена",name:"prod_startovaya_czena"})),[{type:a.Combo,noDeselect:!0,title:"",fieldBottomMargin:"1",name:"prod_czena_for",itemList:["М2","Итог"],tr:function(e){return"М2"===e?"м²":e},placeholder:"Итог",defaultValue:"Итог"}])},{type:a.Fragment,features:["hasCommissionPermission"],fields:[{type:a.Checkbox,isDisabled:function(e,t){return t.readonly},fieldBottomMargin:"1",name:"prod_torg",title:"Торг"}].concat(p(Gl({title:"Комиссия агенства",name:"prod_komissiya_agenstva"})),p(Gl({title:"Комиссия менеджера",name:"prod_komissiya_menedzhera"})))},{type:a.Div,style:{height:10}}]},{type:a.Fragment,isVisible:function(e){var t=e.kategoriya_obekta;return nt(t,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Стоимость объекта ком."})}},{type:a.Box,noBaseline:!0,sx:{display:"flex",alignItems:"flex-end","& > *":{flex:1},"& > :last-child":{maxWidth:125}},fields:[].concat(p(Ol({title:"Цена собственника",features:["hasOwnerPricePermission"],name:"prod_kom_czena_sobstvennika"})),p(Ol({title:"Стартовая цена",name:"prod_kom_startovaya_czena"})),[{type:a.Combo,noDeselect:!0,title:"",fieldBottomMargin:"1",name:"prod_kom_czena_for",itemList:["М2","Итог"],tr:function(e){return"М2"===e?"м²":e},placeholder:"Итог",defaultValue:"Итог"}])},{type:a.Fragment,features:["hasCommissionPermission"],fields:[{type:a.Checkbox,isDisabled:function(e,t){return t.readonly},fieldBottomMargin:"1",name:"prod_kom_torg",title:"Торг"}].concat(p(Gl({title:"Комиссия агенства",name:"prod_kom_komissiya_agenstva"})),p(Gl({title:"Комиссия менеджера",name:"prod_kom_komissiya_menedzhera"})))},{type:a.Div,style:{height:10}}]}];window.price_sell_fields=Yl;var Zl,Xl,Kl=54,Jl=jo()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",overflow:"hidden"},container:{overflowX:"hidden",overflowY:"scroll",padding:e.spacing(1),flex:1},appBarRoot:{background:e.palette.primary.main,maxHeight:Kl,height:Kl,boxShadow:"unset",color:"#000"},tabsRoot:{minHeight:Kl,height:Kl,marginLeft:"0 !important",marginRight:"0 !important"},tabRoot:{minHeight:Kl,height:Kl,color:"#fff"},tabRootTransparent:{minHeight:Kl,height:Kl},tabSelected:{color:"#fff !important"},indicator:{height:6,background:"#0288d1"},indicatorTransparent:{height:6,background:e.palette.primary.main}}})),Ql={},eu=function(e){var t=e.sx,n=e.features,r=e.withTransparentHeader,a=void 0!==r&&r,l=e.withRentTab,u=void 0!==l&&l,s=e.withSellTab,c=void 0!==s&&s,d=e.readonly,p=void 0!==d&&d,m=e.fieldData,f=void 0===m?Ql:m,y=e.onChange,h=Jl().classes,v=o(he.useState("rent"),2),b=v[0],_=v[1];return he.useEffect((function(){c?_("sell"):u&&_("rent")}),[u,c]),ce(_e,{className:h.root,sx:i(i({},t),{},{height:"100%"}),children:ce(Ht,{value:b,children:[a&&ce(we,{sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:[" ",ce(Wt,{variant:"fullWidth",classes:{root:h.tabsRoot,indicator:h.indicatorTransparent},onChange:function(e,t){return _(t)},children:[c&&ce(Ot,{classes:{root:h.tabRootTransparent},label:"Продажа",value:"sell"}),u&&ce(Ot,{classes:{root:h.tabRootTransparent},label:"Аренда",value:"rent"})]})]}),!a&&ce(Gt,{classes:{root:h.appBarRoot},position:"static",sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:ce(Wt,{variant:"fullWidth",classes:{root:h.tabsRoot,indicator:h.indicator},onChange:function(e,t){return _(t)},children:[c&&ce(Ot,{classes:{root:h.tabRoot,selected:h.tabSelected},label:"Продажа",value:"sell"}),u&&ce(Ot,{classes:{root:h.tabRoot,selected:h.tabSelected},label:"Аренда",value:"rent"})]})}),c&&ce($t,{className:h.container,value:"sell",children:ce(Te,{readonly:p,features:n,payload:function(){return{readonly:p}},handler:f,fields:Yl,onChange:y})}),u&&ce($t,{className:h.container,value:"rent",children:ce(Te,{readonly:p,features:n,payload:function(){return{readonly:p}},handler:f,fields:$l,onChange:y})})]})})},tu=jo()((function(e){return{root:{position:"absolute",padding:20,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",transform:"translate(-50%, -50%)",backgroundColor:e.palette.background.paper,borderRadius:5,gap:5},small:{top:"40%",left:"50%",maxHeight:"80%",width:500},large:{top:"50%",left:"50%",width:"calc(100vw - 50px)",height:"calc(100vh - 50px)"},content:{flex:1,overflowY:"auto",paddingTop:e.spacing(1),display:"flex",alignItems:"stretch",justifyContent:"stretch","& > *":{flex:1}},title:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingBottom:15,color:e.palette.text.primary},submit:{marginTop:15},disabled:{opacity:.5,pointerEvents:"none"}}})),nu=function(e){var n=e.onChange,a=o(he.useState((function(){return{address:"",open:!1}})),2),i=a[0],l=a[1],u=o(he.useState(null),2),s=u[0],d=u[1],p=he.useRef(null),m=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),f=m.handleLoadStart,y=m.handleLoadEnd,h=i.address,v=i.open,b=function(){p.current=null,g.current&&g.current(),l({address:"",open:!1})},_=function(){var e=r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=p.current,e.prev=1,!r){e.next=7;break}return e.next=5,Io.ymapsService.getAddress(r);case 5:a=e.sent,n(a);case 7:return e.prev=7,b(),e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[1,,7,10]])})));return function(){return e.apply(this,arguments)}}(),k=tu().classes,g=he.useRef(null);he.useEffect((function(){if(s)return Io.ymapsService.drawMap(s,{address:h,change:function(e){return p.current=e}})}),[s]);return{render:function(){return ce(Pt,{open:v,onClose:b,children:ce(we,{className:Ve(k.root,c({},k.large,!0)),children:[ce("div",{className:k.title,children:ce(me,{variant:"h6",component:"h2",children:"Выберите точку"})}),ce(we,{className:k.content,children:ce("div",{ref:d})}),ce(ze,{onClick:_,onLoadStart:f,onLoadEnd:y,variant:"contained",children:"Применить"})]})})},pickMap:function(){return l({address:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",open:!0})}}},ru=function(e){var t=e.gorod,n=e.mahallya,r=e.nomer_doma,a=e.rajon,i=e.strana,o=e.ulicza,l=e.metro,u=e.onChange,s=nu({onChange:u}),c=s.render,d=s.pickMap,p=he.useMemo((function(){return[i||null,t?"Город ".concat(t):null,a?"".concat(a):null,n?" ".concat(n):o?" ".concat(o):null,r?"".concat(r):null,l?"Метро ".concat(l):null].filter((function(e){return e})).join(", ")}),[t,n,r,a,i,o,l]);return ce(Ee,{children:[ce(xt,{onClick:function(){"action-modal"==="action-modal"&&d(p)},fullWidth:!0,variant:"contained",children:"Найти на карте"}),c()]})},au=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая недвижимость)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Земля/Участок)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Квартиры)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Дома)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая квартира)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческий дом)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая Земля/Участок)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]}],iu=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая недвижимость)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Терраса","Угловой","Комната охраны","Вдоль дороги","Сарай","Огород","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||nt(e.podkategoriya_obekta,"Земля/Участок"))&&!nt(e.kategoriya_obekta,"Коммерческая")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Земля/Участок)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческий дом)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Комната охраны","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Вдоль дороги","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],ou=[{type:a.Fragment,isVisible:function(e){return(!nt(e.podkategoriya_obekta,"Земля/Участок")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Дома")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Квартиры")||!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.kategoriya_obekta,"Коммерческая")))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая недвижимость)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_obekta",title:"Состояние объекта",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Combo,columns:"4",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"voda",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya",title:"Канализация",itemList:["Да","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kommercziya",title:"Лифт",itemList:["Есть","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:a.Fragment,isVisible:function(e){if(nt(e.podkategoriya_obekta,"Квартиры")&&nt(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Квартиры)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Combo,columns:"4",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Items,columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"},{type:a.Combo,columns:"4",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:a.Items,columns:"4",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},{type:a.Text,columns:"4",outlined:!1,name:"kod_domofona",title:"Код домофона"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:a.Items,columns:"4",outlined:!1,name:"energonositel_obekta",title:"Энергоноситель объекта",itemList:["Электрофицирован","Газифицирован"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"podezd_nomer",title:"Подъезд №"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]}]}},{type:a.Fragment,isVisible:function(e){if(nt(e.podkategoriya_obekta,"Дома")&&nt(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Дома)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"},{type:a.Items,columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:a.Items,columns:"4",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:a.Items,columns:"4",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Items,columns:"4",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]}]}},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")&&nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Земля/Участок)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(c({},"naznachenie-obekta_zemlya",t))}})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Items,columns:"4",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"},{type:a.Items,columns:"4",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.podkategoriya_obekta,"Квартиры")||!nt(e.kategoriya_obekta,"Коммерческая"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая квартира)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Combo,columns:"4",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Items,columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Complete,columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"},{type:a.Combo,columns:"4",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:a.Items,columns:"4",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Text,columns:"4",outlined:!1,name:"kod_domofona",title:"Код домофона"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:a.Items,columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"podezd_nomer",title:"Подъезд №"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.podkategoriya_obekta,"Дома")||!nt(e.kategoriya_obekta,"Коммерческая"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческий дом)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Combo,columns:"4",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"},{type:a.Items,columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Items,columns:"4",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:a.Items,columns:"4",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:a.Items,columns:"4",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.podkategoriya_obekta,"Земля/Участок")||!nt(e.kategoriya_obekta,"Коммерческая"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая Земля/Участок)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(c({},"naznachenie-obekta_zemlya",t))}})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Items,columns:"4",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"},{type:a.Items,columns:"4",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}}],lu=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Квартиры)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Дома)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Комната охраны","Вдоль дороги","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая квартира)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж","Угловой","Вдоль дороги"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая Земля/Участок)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],uu=[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:a.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:a.Items,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:a.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:a.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:a.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return nt(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:a.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:a.Combo,columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:a.Complete,isVisible:function(e){return!!nt(e.podkategoriya_obekta,"Квартиры")&&!nt(e.kategoriya_obekta,"Коммерческая")},columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:a.Combo,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:a.Items,isVisible:function(e){var t=!1;return t=(t=(t=t||nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:a.Combo,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]}].concat(ou,[{type:a.Group,columns:"12",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:a.Paper,columns:"6",fieldRightMargin:"1",fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Расположение объекта"})}},{type:a.Complete,outlined:!1,name:"strana",title:"Страна",tip:(Xl=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Узбекистан"]);case 1:case"end":return e.stop()}}),e)}))),function(){return Xl.apply(this,arguments)})},{type:a.Complete,outlined:!1,name:"gorod",title:"Город",tip:["Ташкент"]},{type:a.Complete,outlined:!1,name:"oblast",title:"Область",tip:(Zl=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Ташкентская область"]);case 1:case"end":return e.stop()}}),e)}))),function(){return Zl.apply(this,arguments)})},{type:a.Complete,outlined:!1,name:"rajon",title:"Район",tip:["Алмазарский район","Бектемирский район","Мирабадский район","Мирзо-Улугбекский район","Сергелийский район","Учтепинский район","Чиланзарский район","Шайхантахурский район","Юнусабадский район","Яккасарайский район","Янгихаётский район","Яшнабадский район"]},{type:a.Complete,tip:Io.dictService.getMahallya,outlined:!1,name:"mahallya",title:"Махалля"},{type:a.Complete,tip:Io.dictService.getUlicza,outlined:!1,name:"ulicza",title:"Улица"},{type:a.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:a.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:a.Fragment,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Text,columns:"6",outlined:!1,name:"nomer_doma",title:"№ дома"},{type:a.Text,columns:"6",outlined:!1,name:"nomer_kvartiry",title:"№ квартиры"}]},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta)&&!nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Text,outlined:!1,name:"nomer_doma",title:"№ дома"}]},{type:a.Component,element:ru}]}},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:a.Group,style:{height:"100%"},columns:"6",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:a.Component,style:{height:"calc(100% - 212px)"},fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData;return ce(eu,{withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:a.Text,inputRows:3,outlined:!1,name:"opisanie",title:"Описание"}]}]}}]}],lu,iu,au,[{type:a.Paper,isVisible:function(e){return!!nt(e.kategoriya_obekta,"Коммерческая","Жилая")},fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,element:wl}]},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:a.Component,sx:{mb:2},element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:a.Component,element:Wl}]},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,element:function(e){var t=e._fieldData,n=e.onChange;return ce(Sl,{images:t.apartment_images,onChange:function(e){return n({apartment_images:e})}})}}]}]}]);window.apartment_fields=uu;var su,cu,du,pu,mu=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование Объекта"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание Объекта"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],fu=function(e){for(var t={},n=0,r=Object.keys(e||{});n<r.length;n++){var a=r[n];"id"!==a&&(a.startsWith("$")||a.endsWith("_images")||a.endsWith("_files")||null!==e[a]&&""!==e[a]&&!1!==e[a]&&(t[a]=e[a]))}return t},yu=[{type:it.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ce(ot,{content:t})},width:function(){return 100}},{type:it.Text,sortable:!0,field:"zagolovok",headerName:"Заголовок",width:function(){return 200}},{type:it.Compute,isVisible:function(e){return e.payload.permissions.hasFioPermission},sortable:!1,compute:(pu=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:return a=e.sent,e.abrupt("return",a?a.fio:"Unset");case 5:case"end":return e.stop()}}),e)}))),function(e){return pu.apply(this,arguments)}),headerName:"Ф.И.О. Контакта",width:function(){return 200}},{type:it.Compute,isVisible:function(e){return e.payload.permissions.hasContactNumberPermission},sortable:!1,compute:(du=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:return a=e.sent,e.abrupt("return",a?a.telefon:"Unset");case 5:case"end":return e.stop()}}),e)}))),function(e){return du.apply(this,arguments)}),headerName:"Номер телефона",width:function(){return 200}},{type:it.Compute,field:"kategoriya_obekta",sortable:!0,compute:function(e){return e.kategoriya_obekta||"Unset"},headerName:"Категория",width:function(){return 200}},{type:it.Compute,field:"podkategoriya_obekta",sortable:!0,compute:function(e){return e.podkategoriya_obekta||"Unset"},headerName:"Подкатегория",width:function(){return 200}},{type:it.Compute,field:"czena_prodazha",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(cu=r(t().mark((function e(n){var r,a,i,o,l,u,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.prod_startovaya_czena_ot,a=n.prod_startovaya_czena_do,i=n.prod_startovaya_czena_valyuta,o=n.prod_startovaya_czena_for,l=n.prod_kom_startovaya_czena_ot,u=n.prod_kom_startovaya_czena_do,s=n.prod_kom_startovaya_czena_valyuta,c=n.prod_kom_startovaya_czena_for,!r||!a){e.next=3;break}return e.abrupt("return","От ".concat(r," До ").concat(a," ").concat("uzs"===i?"UZS":"USD"," (").concat((null==o?void 0:o.join(""))||"Итог",")"));case 3:if(!l||!u){e.next=5;break}return e.abrupt("return","От ".concat(l," До ").concat(u," ").concat("uzs"===s?"UZS":"USD"," (").concat((null==c?void 0:c.join(""))||"Итог",")"));case 5:return e.abrupt("return","Unset");case 6:case"end":return e.stop()}}),e)}))),function(e){return cu.apply(this,arguments)}),headerName:"Цена (Продажа)",width:function(){return 300}},{type:it.Compute,field:"czena_arenda",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(su=r(t().mark((function e(n){var r,a,i,o,l,u,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rent_startovaya_czena_ot,a=n.rent_startovaya_czena_do,i=n.rent_startovaya_czena_valyuta,o=n.rent_startovaya_czena_for,l=n.rent_kom_startovaya_czena_ot,u=n.rent_kom_startovaya_czena_do,s=n.rent_kom_startovaya_czena_valyuta,c=n.rent_kom_startovaya_czena_for,!r||!a){e.next=3;break}return e.abrupt("return","От ".concat(r," До ").concat(a," ").concat("uzs"===i?"UZS":"USD"," (").concat((null==o?void 0:o.join(""))||"Итог",")"));case 3:if(!l||!u){e.next=5;break}return e.abrupt("return","От ".concat(l," До ").concat(u," ").concat("uzs"===s?"UZS":"USD"," (").concat((null==c?void 0:c.join(""))||"Итог",")"));case 5:return e.abrupt("return","Unset");case 6:case"end":return e.stop()}}),e)}))),function(e){return su.apply(this,arguments)}),headerName:"Цена (Аренда)",width:function(){return 300}},{type:it.Compute,sortable:!0,field:"prodazha_arenda",headerName:"Варианты сделки",element:function(e){var t=e.prodazha,n=e.arenda,r=[].concat(p(t||[]),p(n||[]));return ce(we,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:[!r.length&&"Unset",r.map((function(e){return ce(Zt,{label:e})}))]})},width:function(){return 300}},{type:it.Compute,headerName:"Дата создания",compute:function(e){var t=e.$createdAt;return f(t).format("DD/MM/YYYY")},sortable:!0,field:"$createdAt",width:function(){return 200}},{type:it.Compute,headerName:"Дата обновления",compute:function(e){var t=e.$updatedAt;return f(t).format("DD/MM/YYYY")},sortable:!0,field:"$updatedAt",width:function(){return 200}}],hu=function(e){var n,a=e.fieldData,o=e.payload,l=Yt(a),u=he.useMemo((function(){return fu(a)}),[a]);return ce(we,{sx:{pointerEvents:"all",height:"max(60vh, 350px)",mb:5},children:ce(ht,{withLoader:!0,withInitialLoader:!0,reloadSubject:l,handler:(n=r(t().mark((function e(n){var r,a,o,l,s,c=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=c.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=c[l];return e.next=3,(r=Io.bidViewService).paginate.apply(r,[i(i({},u),{},{_accessLevel:5,_mode:"audit"})].concat(o));case 3:return s=e.sent,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),isRowDisabled:function(e){return e.system_access_level>o.accessLevel},columns:yu,payload:o})})},vu=[{type:a.Group,style:{minWidth:540},fields:[{type:a.Combo,title:"Тип сделки",name:"deal_type",map:function(e,t){var n=t.prod_czena,r=t.prod_startovaya_czena,a=void 0===r?n:r,i=t.prod_kom_czena,o=t.prod_kom_startovaya_czena,l=void 0===o?i:o,u=t.rent_czena,s=t.rent_startovaya_czena,c=void 0===s?u:s,d=t.rent_kom_czena,p=t.rent_kom_startovaya_czena,m=void 0===p?d:p,f=t.prod_czena_valyuta,y=void 0===f?"usd":f,h=t.rent_czena_valyuta,v=void 0===h?"usd":h;return e.deal_type&&"Продажа"===e.deal_type[0]&&(U.set(e,"price",a||l),U.set(e,"unit",[y||"usd"])),e.deal_type&&"Аренда"===e.deal_type[0]&&(U.set(e,"price",c||m),U.set(e,"unit",[v||"usd"])),e},itemList:function(){return[].concat(ki)}},{type:a.Box,isVisible:function(e){var t=e.deal_type,n=e.price_type;return!!t&&"fixed"===n},style:{display:"grid",gridTemplateColumns:"1fr 125px"},fields:[{type:a.Text,outlined:!1,placeholder:"Не указано",labelShrink:!0,name:"price",title:"Цена (Итог)"},{type:a.Combo,noDeselect:!0,fieldBottomMargin:"0",title:"Валюта",placeholder:"USD",itemList:["usd","uzs"],tr:function(e){return"uzs"===e?"SUM":"USD"},defaultValue:"usd",outlined:!1,name:"unit"}]},{type:a.Text,fieldBottomMargin:"1",placeholder:"Введите комментарий",inputRows:3,labelShrink:!0,name:"comment",title:"Комментарий"},{type:a.Radio,fieldBottomMargin:"0",name:"price_type",radioValue:"unset",defaultValue:"unset",title:"Цена не указана"},{type:a.Radio,fieldBottomMargin:"0",name:"price_type",radioValue:"fixed",title:"Фиксированная"}]}],bu=[{type:a.Text,fieldBottomMargin:"1",placeholder:"Введите комментарий",inputRows:3,labelShrink:!0,name:"comment",title:"Комментарий"},{type:a.Radio,fieldBottomMargin:"0",title:"Закрытая сделка",name:"status",radioValue:"Закрытая сделка",defaultValue:"Закрытая сделка"},{type:a.Radio,fieldBottomMargin:"0",title:"Сделка сорвана",name:"status",radioValue:"Сделка сорвана"}],_u=[{action:"deal-end-action",label:"Завершить сделку",isDisabled:function(e){return!e.activeItem}}],ku=function(e){for(var t=!1,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var i=0,o=r;i<o.length;i++){var l=o[i];String(e[l]||"").length&&(t=!0)}return t},gu=[{type:a.Paper,features:["hasResponsiblePermission"],fieldBottomMargin:"1",fieldRightMargin:"1",columns:"12",fields:[{type:a.Component,element:function(e){var n=e.id,a=e._fieldData,i=o(he.useState(null),2),l=i[0],u=i[1],s=Pe(r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Io.appwriteService.currentUser.$id,e.next=3,Io.dealHistoryRequestService.readDealStateByApartment(n,r);case 3:a=e.sent,u(a);case 5:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError}),c=s.loading,d=s.execute,p=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),m=p.handleLoadStart,f=p.handleLoadEnd,y=_t({title:"Завершение сделки",fields:bu,payload:a}),h=_t({title:"Начало сделки",fields:vu,payload:a});he.useEffect((function(){return Io.dealHistoryViewService.createSubject.subscribe((function(e){e.apartment_id===n&&d()}))}),[]),he.useEffect((function(){d()}),[]);var v,b,_,k=function(){var e=r(t().mark((function e(r){var a,i,o,l,u,s=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:[],i=s.length>2&&void 0!==s[2]?s[2]:"usd",o=s.length>3&&void 0!==s[3]?s[3]:"",l=!0,m(),e.prev=5,u=Io.appwriteService.currentUser.$id,e.next=9,Io.dealHistoryRequestService.commitApartmentDealBegin(n,u,r,a,i,o);case 9:return e.next=11,d();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),Io.alertService.notify(go(e.t0)),l=!1;case 17:return e.prev=17,f(l),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){h().then(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(r=n.deal_type?n.deal_type[0]:""){e.next=5;break}return e.abrupt("return");case 5:a=[],i="usd","fixed"===n.price_type&&(a=[n.price],i=n.unit?n.unit[0]:"usd"),k(r,a,i,n.comment);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},x=function(){var e=r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,m(),e.prev=2,a=Io.appwriteService.currentUser.$id,e.next=6,Io.dealHistoryRequestService.commitApartmentDealReassign(n,a);case 6:return e.next=8,d();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r=!1;case 13:return e.prev=13,f(r),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=r(t().mark((function e(r,a){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!0,m(),e.prev=2,Io.appwriteService.currentUser.$id,e.next=6,Io.dealRequestService.commitApartmentDealEnd(n,r,a);case 6:return e.next=8,d();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),i=!1;case 13:return e.prev=13,f(i),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e){"deal-end-action"===e&&y().then((function(e){e&&w(e.status,e.comment)}))};return ce(Se,{style:{pointerEvents:"all"},direction:"column",gap:"16px",children:[ce(Se,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[ce(Xe,{loading:c,Loader:function(){return ce(Se,{direction:"row",gap:"16px",alignItems:"center",children:[ce(Ke,{variant:"circular",width:40,height:40}),ce(Se,{children:[ce(Ke,{sx:{mb:1},variant:"rectangular",width:210,height:20}),ce(Ke,{variant:"rectangular",width:210,height:20})]})]})},payload:l,children:(_=r(t().mark((function e(n){var r,a,i,o,l,u,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&n.activeItem){e.next=2;break}return e.abrupt("return",ce(me,{variant:"body1",children:"Ответственный не назначен"}));case 2:return e.next=4,Io.userViewService.read(n.activeItem.user_id);case 4:if(r=e.sent,a=r.first_name,i=void 0===a?"Не указано":a,o=r.user_role,l=r.avatar,!(u=void 0===l?null:l)){e.next=16;break}return e.next=13,Io.appwriteService.getImageURL(u);case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0="";case 17:return s=e.t0,e.next=20,Io.dictService.getUserRoles();case 20:return c=e.sent,e.abrupt("return",ce(Se,{direction:"row",gap:"16px",alignItems:"center",children:[ce(Je,{alt:i,src:s}),ce(Se,{direction:"column",children:[ce(me,{variant:"body1",children:i}),ce(me,{variant:"caption",style:{fontSize:"14px"},children:null!=o&&o.length?U.get(c,o[0])||o[0]:"Не указано"})]})]}));case 22:case"end":return e.stop()}}),e)}))),function(e){return _.apply(this,arguments)})}),ce(Se,{direction:"row",gap:1,alignItems:"center",children:[ce(Xe,{loading:c,Loader:function(){return ce(Ke,{variant:"rectangular",sx:{borderRadius:"4px"},width:100,height:35})},payload:l,children:function(e){if(null!=e&&e.activeItem){var t=Io.appwriteService.currentUser.$id,n=e.activeItem.user_id===t;return ce(ze,{disabled:n,onClick:x,variant:"contained",children:n?"Назначен":"Забрать"})}return ce(ze,{onClick:g,variant:"contained",children:"Взять"})}}),ce(Xe,{loading:c,Loader:function(){return ce(Ke,{variant:"circular",width:40,height:40})},payload:l,children:(b=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ce(It,{transparent:!0,options:_u,payload:n,onAction:S}));case 1:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)})})]})]}),ce(Xe,{loading:c,Loader:function(){return ce(Xt,{max:Number.POSITIVE_INFINITY,style:{marginRight:"auto"},children:[ce(Ke,{variant:"circular",width:28,height:28}),ce(Ke,{variant:"circular",width:28,height:28}),ce(Ke,{variant:"circular",width:28,height:28})]})},payload:l,children:(v=r(t().mark((function e(n){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&null!==(a=n.reassign)&&void 0!==a&&a.length){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Promise.all(n.reassign.filter((function(e,t,n){return n.findIndex((function(t){return t.user_id===e.user_id}))==t})).map(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.user_id,e.next=3,Io.userViewService.tryRead(r);case 3:if(a=e.sent,i="",null==a||!a.avatar){e.next=9;break}return e.next=8,Io.appwriteService.getImageURL(a.avatar);case 8:i=e.sent;case 9:return e.abrupt("return",ce(Je,{style:{height:"28px",width:"28px"},alt:null==a?void 0:a.email,src:i}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return i=e.sent,e.abrupt("return",ce(Xt,{max:Number.POSITIVE_INFINITY,style:{marginRight:"auto"},children:i}));case 6:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})})]})}}]},{type:a.Group,fieldRightMargin:"0",fieldBottomMargin:"0",columns:"12",fields:[{type:a.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return ku.apply(void 0,[e].concat(["kategoriya_obekta","podkategoriya_obekta","arenda","prodazha","istochnik"]))},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:a.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:a.Text,outlined:!1,placeholder:"Нет данных",compute:function(e){var t=e.kategoriya_obekta;return(null==t?void 0:t.flatMap((function(e){return e})).join(", "))||"Не задано"},title:"Категория объекта"},{type:a.Text,outlined:!1,placeholder:"Нет данных",compute:function(e){return e.podkategoriya_obekta||"Не задано"},title:"Подкатегория объекта"},{type:a.Text,outlined:!1,compute:function(e){var t=e.arenda,n=e.prodazha;return n&&t?"Продажа, Аренда":n?"Продажа":t?"Аренда":"Не задано"},title:"Тип сделки"},{type:a.Text,inputRows:3,outlined:!1,compute:function(e,t){var n=e.strana,r=e.gorod,a=e.oblast,i=e.rajon,o=e.mahallya,l=e.ulicza,u=e.metro,s=e.nomer_doma,c=e.nomer_kvartiry,d=t.permissions,p=[n,r,a,i,o,l?l.toLowerCase().includes("улица")?l:"улица ".concat(l):null,s&&d.hasApartmentHouseNumberPermission?"дом ".concat(s):null,c&&d.hasApartmentHouseNumberPermission?"кв ".concat(c):null,u?"метро ".concat(u):null].filter((function(e){return e}));return p.length?p.flatMap((function(e){return e})).join(", "):"Не указан"},title:"Адрес"},{type:a.Text,outlined:!1,placeholder:"Нет данных",compute:function(e){return e.orientir||"Не задано"},title:"Ориентир"},{type:a.Text,outlined:!1,compute:function(e){return e.istochnik||"Не задано"},title:"Источник"},{type:a.Component,fieldBottomMargin:"2",element:function(e){var n,a=e.contact_id;return ce(Xe,{payload:a,Loader:function(){return ce(wt,{fullWidth:!0,variant:"standard",label:"Тип клиента",InputProps:{readOnly:!0},value:"Загрузка"})},children:(n=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.contactViewService.tryRead(a);case 2:return n=e.sent,r=(null==n?void 0:n.tip_klienta)||"Не задано",e.abrupt("return",ce(wt,{fullWidth:!0,variant:"standard",label:"Тип клиента",InputProps:{readOnly:!0},value:r}));case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})})}},{type:a.Text,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.podkategoriya_obekta,"Квартиры"))&&nt(e.kategoriya_obekta,"Коммерческая","Жилая")},outlined:!1,placeholder:"Нет данных",compute:function(e){return e.nazvanie_zhk||"Не задано"},title:"ЖК"}]},{type:a.Group,style:{height:"100%"},columns:"6",fields:[{type:a.Component,style:{height:"100%"},fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData,r=e.features;return ce(eu,{withTransparentHeader:!0,features:r,readonly:!0,withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}}]}]},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&nt(e.podkategoriya_obekta,"Квартиры"))&&nt(e.kategoriya_obekta,"Жилая"))&&!nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая квартира)"})}},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return ku(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return ku(e,"god_postrojki")},title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return ku(e,"etazh")},title:"Этаж"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return ku(e,"etazhnost")},title:"Этажность"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_planirovki")},title:"Тип планировки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:a.Text,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].flatMap((function(e){return e})).join(" ")},isVisible:function(e){return ku(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:a.Text,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.zhilaya_ploshhad||""},isVisible:function(e){return ku(e,"zhilaya_ploshhad")},title:"Жилая площадь М²"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:a.Text,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return ku(e,"vysota_potolkov")},title:"Высота потолков"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_spalen||""},isVisible:function(e){return ku(e,"kolichestvo_spalen")},title:"Количество спален"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kod_domofona||""},isVisible:function(e){return ku(e,"kod_domofona")},title:"Код домофона"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.spalnya_sanuzel||""},isVisible:function(e){return ku(e,"spalnya_sanuzel")},title:"Комната + санузел"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.energonositel_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"energonositel_obekta")},title:"Энергоноситель объекта"},{type:a.Text,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.podezd_nomer||""},isVisible:function(e){return ku(e,"podezd_nomer")},title:"Подъезд №"},{type:a.Text,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return ku(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(p(t||[]),p(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(p(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&nt(e.podkategoriya_obekta,"Дома"))&&nt(e.kategoriya_obekta,"Жилая"))&&!nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилой дом)"})}},{type:a.Text,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return ku(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return[e.sostoyanie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_doma")},title:"Состояние дома"},{type:a.Text,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.god_postrojki||""},isVisible:function(e){return ku(e,"god_postrojki")},title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,placeholder:"Нет данных",compute:function(e){return e.etazhnost||""},isVisible:function(e){return ku(e,"etazhnost")},title:"Этажность"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_doma||""},isVisible:function(e){return ku(e,"ploshhad_doma")},title:"Площадь дома М²"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_planirovki")},title:"Тип планировки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.bassejn].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"bassejn")},title:"Бассейн"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return ku(e,"kolichestvo_sotok")},title:"Количество соток"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return ku(e,"mashina_mesto")},title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_spalen||""},isVisible:function(e){return ku(e,"kolichestvo_spalen")},title:"Количество спален"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.spalnya_sanuzel||""},isVisible:function(e){return ku(e,"spalnya_sanuzel")},title:"Комната + санузел"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return ku(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return ku(e,"vysota_potolkov")},title:"Высота потолков"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(p(t||[]),p(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(p(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.garazh].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"garazh")},title:"Гараж"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.raspolozhenie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"raspolozhenie_doma")},title:"Расположение дома"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"}]},{type:a.Fragment,isVisible:function(e){return(!nt(e.podkategoriya_obekta,"Земля/Участок")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Дома")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Квартиры")||!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.kategoriya_obekta,"Коммерческая")))},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая недвижимость)"})}},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return ku(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return e})).flatMap((function(e){return e})).join(" ")},isVisible:function(e){return ku(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return ku(e,"etazh")},title:"Этаж"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.poleznaya_ploshhad||""},isVisible:function(e){return ku(e,"poleznaya_ploshhad")},title:"Полезная площадь М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return ku(e,"etazhnost")},title:"Этажность"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return ku(e,"mashina_mesto")},title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return ku(e,"kolichestvo_sotok")},title:"Количество соток"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return ku(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return ku(e,"god_postrojki")},title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return ku(e,"vysota_potolkov")},title:"Высота потолков"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&nt(e.podkategoriya_obekta,"Земля/Участок"))&&nt(e.kategoriya_obekta,"Жилая"))&&!nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая земля/участок)"})}},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},title:"Количество комнат",isVisible:function(e){return ku(e,"kolichestvo_komnat")}},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return e})).flatMap((function(e){return e})).join(" ")},isVisible:function(e){return ku(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return ku(e,"etazh")},title:"Этаж"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_zemli_uchastka].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_zemli_uchastka")},title:"Тип земли/участка"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.poleznaya_ploshhad||""},isVisible:function(e){return ku(e,"poleznaya_ploshhad")},title:"Полезная площадь М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return ku(e,"etazhnost")},title:"Этажность"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return ku(e,"mashina_mesto")},title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return ku(e,"kolichestvo_sotok")},title:"Количество соток"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return ku(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.rasstoyanie_do_goroda||""},isVisible:function(e){return ku(e,"rasstoyanie_do_goroda")},title:"Расстояние до города (м)"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.podezdnye_puti].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"podezdnye_puti")},title:"Подъездные пути"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return ku(e,"god_postrojki")},title:"Год постройки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.podkategoriya_obekta,"Квартиры"))&&J(K(nt(e.kategoriya_obekta,"Коммерческая"),nt(e.kategoriya_obekta,"Жилая")),K(nt(e.kategoriya_obekta,"Коммерческая"),!nt(e.kategoriya_obekta,"Жилая")))},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая квартира)"})}},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return ku(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return ku(e,"etazh")},title:"Этаж"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return ku(e,"etazhnost")},title:"Этажность"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_planirovki")},title:"Тип планировки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return ku(e,"god_postrojki")},title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.nazvanie_zhk||""},isVisible:function(e){return ku(e,"nazvanie_zhk")},title:"Название ЖК"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return ku(e,"mashina_mesto")},title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return e})).flatMap((function(e){return e})).join(" ")},isVisible:function(e){return ku(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.zhilaya_ploshhad||""},isVisible:function(e){return ku(e,"zhilaya_ploshhad")},title:"Жилая площадь М²"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return ku(e,"vysota_potolkov")},title:"Высота потолков"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_spalen||""},isVisible:function(e){return ku(e,"kolichestvo_spalen")},title:"Количество спален"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kod_domofona||""},isVisible:function(e){return ku(e,"kod_domofona")},title:"Код домофона"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.spalnya_sanuzel||""},isVisible:function(e){return ku(e,"spalnya_sanuzel")},title:"Комната + санузел"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.podezd_nomer||""},isVisible:function(e){return ku(e,"podezd_nomer")},title:"Подъезд №"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return ku(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(p(t||[]),p(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(p(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.podkategoriya_obekta,"Дома"))&&J(K(nt(e.kategoriya_obekta,"Коммерческая"),nt(e.kategoriya_obekta,"Жилая")),K(nt(e.kategoriya_obekta,"Коммерческая"),!nt(e.kategoriya_obekta,"Жилая")))},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческий дом)"})}},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return ku(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_doma")},title:"Состояние дома"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"raspolozhenie_obekta")},title:"Расположение объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return ku(e,"etazhnost")},title:"Этажность"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.raspolozhenie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"raspolozhenie_doma")},title:"Расположение дома"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_doma||""},isVisible:function(e){return ku(e,"ploshhad_doma")},title:"Площадь дома М²"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_planirovki")},title:"Тип планировки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.bassejn].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"bassejn")},title:"Бассейн"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return ku(e,"kolichestvo_sotok")},title:"Количество соток"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return ku(e,"mashina_mesto")},title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_spalen||""},isVisible:function(e){return ku(e,"kolichestvo_spalen")},title:"Количество спален"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.spalnya_sanuzel||""},isVisible:function(e){return ku(e,"spalnya_sanuzel")},title:"Комната + санузел"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return ku(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.vysota_potolkov||""},isVisible:function(e){return ku(e,"vysota_potolkov")},title:"Высота потолков"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(p(t||[]),p(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(p(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.garazh].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"garazh")},title:"Гараж"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return ku(e,"god_postrojki")},title:"Год постройки"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.podkategoriya_obekta,"Земля/Участок"))&&J(K(nt(e.kategoriya_obekta,"Коммерческая"),nt(e.kategoriya_obekta,"Жилая")),K(nt(e.kategoriya_obekta,"Коммерческая"),!nt(e.kategoriya_obekta,"Жилая")))},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая земля/участок)"})}},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_komnat||""},isVisible:function(e){return ku(e,"kolichestvo_komnat")},title:"Количество комнат"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return e})).flatMap((function(e){return e})).join(" ")},isVisible:function(e){return ku(e,"obshhaya_ploshhad","ploshhad_doma")},title:"Общая площадь М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazh||""},isVisible:function(e){return ku(e,"etazh")},title:"Этаж"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_zemli_uchastka].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_zemli_uchastka")},title:"Тип земли/участка"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.poleznaya_ploshhad||""},isVisible:function(e){return ku(e,"poleznaya_ploshhad")},title:"Полезная площадь М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.etazhnost||""},isVisible:function(e){return ku(e,"etazhnost")},title:"Этажность"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.mashina_mesto||""},isVisible:function(e){return ku(e,"mashina_mesto")},title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.kolichestvo_sotok||""},isVisible:function(e){return ku(e,"kolichestvo_sotok")},title:"Количество соток"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.rasstoyanie_do_metro||""},isVisible:function(e){return ku(e,"rasstoyanie_do_metro")},title:"Расстояние до метро (м)"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.rasstoyanie_do_goroda||""},isVisible:function(e){return ku(e,"rasstoyanie_do_goroda")},title:"Расстояние до города (м)"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.podezdnye_puti].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"podezdnye_puti")},title:"Подъездные пути"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.god_postrojki||""},isVisible:function(e){return ku(e,"god_postrojki")},title:"Год постройки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"}]}]},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте"})}},{type:a.Component,fieldBottomMargin:"1",columns:"6",element:function(){return ce(me,{children:"Внутри есть:"})}},{type:a.Component,fieldBottomMargin:"1",columns:"6",element:function(){return ce(me,{children:"Рядом есть:"})}},{type:a.Component,columns:"6",isVisible:function(e){var t=e.vnutri_est;return!(null==t||!t.length)},element:function(e){var t=e.vnutri_est;return ce("div",{children:ce(we,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:null==t?void 0:t.map((function(e,t){return ce(Kt,{label:e},t)}))})})}},{type:a.Component,columns:"6",isVisible:function(e){var t=e.ryadom_est;return!(null==t||!t.length)},element:function(e){var t=e.ryadom_est;return ce("div",{children:ce(we,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:null==t?void 0:t.map((function(e,t){return ce(Kt,{label:e},t)}))})})}}]},{type:a.Paper,isVisible:function(e){return ku(e,"ploshhad_gostinnoj","ploshhad_spalni","ploshhad_holla","ploshhad_kuhni","ploshhad_sanuzla","ploshhad_balkona","ploshhad_terrasy","ploshhad_komnaty_ohrany","ploshhad_gostevogo_doma","ploshhad_dopolnitelnoj_pristrojki")},fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,sx:{mb:2},element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади"})}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая","Жилая"))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_gostinnoj||""},isVisible:function(e){return ku(e,"ploshhad_gostinnoj")},title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_spalni||""},isVisible:function(e){return ku(e,"ploshhad_spalni")},title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_holla||""},isVisible:function(e){return ku(e,"ploshhad_holla")},title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_kuhni||""},isVisible:function(e){return ku(e,"ploshhad_kuhni")},title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_sanuzla||""},isVisible:function(e){return ku(e,"ploshhad_sanuzla")},title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_balkona||""},isVisible:function(e){return ku(e,"ploshhad_balkona")},title:"Площадь балкона М²"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая","Жилая"))&&nt(e.podkategoriya_obekta,"Дома")},fields:[{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_gostinnoj||""},isVisible:function(e){return ku(e,"ploshhad_gostinnoj")},title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_spalni||""},isVisible:function(e){return ku(e,"ploshhad_spalni")},title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_holla||""},isVisible:function(e){return ku(e,"ploshhad_holla")},title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_kuhni||""},isVisible:function(e){return ku(e,"ploshhad_kuhni")},title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_sanuzla||""},isVisible:function(e){return ku(e,"ploshhad_sanuzla")},title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_balkona||""},isVisible:function(e){return ku(e,"ploshhad_balkona")},title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_terrasy||""},isVisible:function(e){return ku(e,"ploshhad_terrasy")},title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_komnaty_ohrany||""},isVisible:function(e){return ku(e,"ploshhad_komnaty_ohrany")},title:"Площадь комнаты охраны М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_gostevogo_doma||""},isVisible:function(e){return ku(e,"ploshhad_gostevogo_doma")},title:"Площадь гостевого дома М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_dopolnitelnoj_pristrojki||""},isVisible:function(e){return ku(e,"ploshhad_dopolnitelnoj_pristrojki")},title:"Площадь дополнительной пристройки М²"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая","Жилая"))&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_gostinnoj||""},isVisible:function(e){return ku(e,"ploshhad_gostinnoj")},title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_spalni||""},isVisible:function(e){return ku(e,"ploshhad_spalni")},title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_holla||""},isVisible:function(e){return ku(e,"ploshhad_holla")},title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_kuhni||""},isVisible:function(e){return ku(e,"ploshhad_kuhni")},title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_sanuzla||""},isVisible:function(e){return ku(e,"ploshhad_sanuzla")},title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_balkona||""},isVisible:function(e){return ku(e,"ploshhad_balkona")},title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_terrasy||""},isVisible:function(e){return ku(e,"ploshhad_terrasy")},title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_komnaty_ohrany||""},isVisible:function(e){return ku(e,"ploshhad_komnaty_ohrany")},title:"Площадь комнаты охраны М²"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_gostinnoj||""},isVisible:function(e){return ku(e,"ploshhad_gostinnoj")},title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_spalni||""},isVisible:function(e){return ku(e,"ploshhad_spalni")},title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_holla||""},isVisible:function(e){return ku(e,"ploshhad_holla")},title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_kuhni||""},isVisible:function(e){return ku(e,"ploshhad_kuhni")},title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_sanuzla||""},isVisible:function(e){return ku(e,"ploshhad_sanuzla")},title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_balkona||""},isVisible:function(e){return ku(e,"ploshhad_balkona")},title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_terrasy||""},isVisible:function(e){return ku(e,"ploshhad_terrasy")},title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,compute:function(e){return e.ploshhad_komnaty_ohrany||""},isVisible:function(e){return ku(e,"ploshhad_komnaty_ohrany")},title:"Площадь комнаты охраны М²"}]}]},{type:a.Paper,isVisible:function(e){return ku(e,"addon_square_names","addon_square_values")},fieldBottomMargin:"1",fieldRightMargin:"1",tabletHidden:!0,phoneHidden:!0,child:{type:a.Component,element:wl}},{type:a.Paper,features:["hasDescriptionPermission"],fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,sx:{mb:2},element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:a.Text,sx:{pointerEvents:"all"},inputRows:8,outlined:!1,name:"opisanie",title:"Описание"}]},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",isVisible:function(e){return e.apartment_images&&e.apartment_images.length},fields:[{type:a.Component,sx:{mb:2},element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Галерея объекта"})}},{type:a.Component,element:Wl}]},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",child:{type:a.Component,element:function(){return ce(me,{fontWeight:"bold",variant:"h6",children:"Подходящие заявки"})}}},{type:a.Component,fieldBottomMargin:"1",fieldRightMargin:"1",element:function(e){var t=e._fieldData,n=e.payload,r=e.features;return ce(hu,{payload:n,features:r,fieldData:t})}}];window.apartment_card_fields=gu;var xu=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",label:"Просмотр объекта"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasApartmentUpdatePermission},action:"edit-action",label:"Редактировать"}],wu=function(e){var n=e.fieldData,a=e.onChange,i=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),o=i.handleLoadStart,l=i.handleLoadEnd,u=i.loading,s=function(){var e=r(t().mark((function e(){var i,u,s,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!0,o(),e.prev=2,e.next=5,At("*");case 5:if(u=e.sent){e.next=8;break}return e.abrupt("return");case 8:return s=Ct(n.contact_files)||[],e.next=11,Promise.all(u.map(function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Io.appwriteService.uploadFile(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 11:c=e.sent,d=[].concat(p(s),p(c)),a({contact_files:d}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),i=!1,Io.alertService.notify(go(e.t0));case 20:return e.prev=20,l(i),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[2,16,20,23]])})));return function(){return e.apply(this,arguments)}}();return ce(Tt,{children:ce(ze,{disabled:u,sx:{borderRadius:"20px"},startIcon:ce(Ft,{}),onClick:s,variant:"contained",children:"Юридическое лицо"===n.kontakt?"Скан документов организации":"Скан документа"})})},Su=[{action:"edit-action",label:"Редактировать"},{action:"remove-action",label:"Удалить"}],zu=function(e){var n=e.id,i=e.name,o=e.phone,l=e.sx,u=e.onChange,s=e.onRemove,c=kt({title:"Удалить",msg:"Вы уверены что хотите удалить?"}),d=_t({title:"Редактировать номер",fields:[{type:a.Text,name:"name",title:"Имя",isInvalid:function(e){return e.name?null:"Укажите имя"}},{type:a.Text,name:"phone",title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",isInvalid:function(e){return e.phone?null:"Укажите телефон"}}]}),p=function(){return d({handler:{id:n,name:i,phone:o}}).then((function(e){e&&u({id:n,name:e.name,phone:e.phone})}))},m=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c().toPromise();case 2:e.sent&&s({id:n,name:i,phone:o});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ce(Ye,{sx:l,disablePadding:!0,dense:!0,children:ce(Ce,{disableRipple:!0,onClick:p,children:[ce(Ze,{children:ce(Je,{sx:{"& svg":{color:"#aaa !important"},background:"transparent"},children:ce(Qt,{})})}),ce(Ie,{primary:"Имя: ".concat(i),secondary:"Телефон: ".concat(o)}),ce(It,{sx:{mr:1},transparent:!0,options:Su,onAction:function(e){"edit-action"===e&&p(),"remove-action"===e&&m()}})]})})},Fu=function(e){var t=e.contact_phones,n=e.contact_names;t=t||[],n=n||[];for(var r=[],a=0;a!==n.length;a++)r.push({id:w(),name:n[a],phone:t[a]});return r},Tu=function(e){var t=e.contact_phones,n=e.contact_names,r=e.onChange,l=o(he.useState((function(){return Fu({contact_phones:t,contact_names:n})})),2),u=l[0],s=l[1],c=gt((function(){var e;r({contact_names:(e=u)?e.map((function(e){return e.name})):null,contact_phones:e?e.map((function(e){return e.phone})):null})}),[u]).resetWatcher;he.useEffect((function(){var e=Fu({contact_names:n,contact_phones:t});c(),s(e)}),[n,t]);var d=_t({title:"Создание номера",fields:[{type:a.Text,sx:{mt:-2},name:"name",title:"Имя",isInvalid:function(e){return e.name?null:"Укажите имя"}},{type:a.Text,name:"phone",title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",isInvalid:function(e){return e.phone?null:"Укажите телефон"}}]});return ce(we,{style:{display:"flex",flexDirection:"column",overflowY:"auto",marginRight:"1px",minHeight:275},children:[ce(Se,{direction:"row",justifyContent:"space-between",alignItems:"center",sx:{mb:1},children:[ce(me,{sx:{ml:2,mt:1},variant:"h6",fontWeight:"bold",children:"Список номеров телефонов"}),ce(zt,{sx:{mr:3,mt:1},onClick:function(){return d().then((function(e){e&&s((function(t){return[].concat(p(t),[i(i({},e),{},{id:w()})])}))}))},children:ce(en,{})})]}),ce(Ae,{dense:!0,disablePadding:!0,children:u.map((function(e,t){return ce(zu,{sx:i({},t%2==0&&{background:"#ccc2"}),id:e.id,name:e.name,phone:e.phone,onChange:function(e){return s((function(t){return t.map((function(t){return t.id===e.id?e:t}))}))},onRemove:function(e){var t=e.id;return s((function(e){return e.filter((function(e){return e.id!==t}))}))}})}))}),ce(we,{sx:{flex:1}})]})},Au="Вы уверены, что хотите удалить файл?",Cu="Подтверждение",Vu=at.createLoader(24),Lu=function(e){return e&&"Физическое лицо"!==e?{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:a.Combo,outlined:!1,name:"kontakt",title:"Контакт",itemList:["Физическое лицо","Юридическое лицо"]},{type:a.Text,outlined:!1,name:"naimenovanie_organizaczii",title:"Наименование организации"},{type:a.Text,outlined:!1,name:"fio",title:"Ф.И.О."},{type:a.Text,description:"Основной",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon",title:"Телефон"},{type:a.Combo,outlined:!1,name:"tip_klienta",title:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:a.Combo,outlined:!1,name:"status_klienta",title:"Статус клиента",itemList:["VIP-клиент","Клиент","Постоянный клиент","Специальный клиент","Черный список"]},{type:a.Combo,outlined:!1,name:"loyalnost_klienta",title:"Лояльность клиента",itemList:["Высокая","Средняя","Низкая"]},{type:a.Date,outlined:!1,name:"data-sozdaniya_klienta",title:"Дата создания клиента"},{type:a.Text,outlined:!1,name:"fakticheskij_adres",title:"Фактический адрес"},{type:a.Text,outlined:!1,name:"email",title:"Email"},{type:a.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Io.routerService.location.pathname.includes("bid_view"))&&!Io.routerService.location.pathname.includes("bid_edit")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:a.Text,outlined:!1,name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:a.Text,outlined:!1,name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]}:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"0",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:a.Combo,outlined:!1,name:"kontakt",title:"Контакт",itemList:["Физическое лицо","Юридическое лицо"]},{type:a.Text,outlined:!1,name:"fio",title:"Ф.И.О."},{type:a.Text,description:"Основной",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon",title:"Телефон"},{type:a.Combo,outlined:!1,name:"tip_klienta",title:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:a.Combo,outlined:!1,name:"status_klienta",title:"Статус клиента",itemList:["VIP-клиент","Клиент","Постоянный клиент","Специальный клиент","Черный список"]},{type:a.Combo,outlined:!1,name:"loyalnost_klienta",title:"Лояльность клиента",itemList:["Высокая","Средняя","Низкая"]},{type:a.Date,outlined:!1,name:"data-sozdaniya_klienta",title:"Дата создания клиента"},{type:a.Text,outlined:!1,name:"fakticheskij_adres",title:"Фактический адрес"},{type:a.Text,outlined:!1,name:"email",title:"Email"},{type:a.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Io.routerService.location.pathname.includes("bid_view"))&&!Io.routerService.location.pathname.includes("bid_edit")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:a.Text,outlined:!1,name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:a.Text,outlined:!1,name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]}},Mu=function(e){return e&&"Физическое лицо"!==e?{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:a.Text,outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:a.Date,outlined:!1,name:"data_rozhdeniya",title:"Дата рождения"},{type:a.Combo,outlined:!1,name:"pol",title:"Пол",itemList:["Мужской","Женский"]},{type:a.Date,outlined:!1,name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:a.Text,outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:a.Text,outlined:!1,name:"adres_registraczii",title:"Адрес регистрации"},{type:a.Text,outlined:!1,name:"pinfl",title:"ПИНФЛ"},{type:a.Text,outlined:!1,name:"inn",title:"ИНН"},{type:a.Text,outlined:!1,name:"dolzhnost_rukovoditelya",title:"Должность руководителя"},{type:a.Combo,outlined:!1,name:"osnovanie-deyatelnosti-dannogo_licza",title:"Основание деятельности данного лица",itemList:["На основании устава","По доверенности"]},{type:a.Text,outlined:!1,name:"yuridicheskij_adres",title:"Юридический адрес"},{type:a.Text,outlined:!1,name:"sertifikat_kompanii",title:"Сертификат компании (Гувохнома)"},{type:a.Text,outlined:!1,name:"rekvizity",title:"Реквизиты"}]}:{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:a.Text,outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:a.Date,outlined:!1,name:"data_rozhdeniya",title:"Дата рождения"},{type:a.Combo,outlined:!1,name:"pol",title:"Пол",itemList:["Мужской","Женский"]},{type:a.Date,outlined:!1,name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:a.Text,outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:a.Text,outlined:!1,name:"adres_registraczii",title:"Адрес регистрации"},{type:a.Text,outlined:!1,name:"pinfl",title:"ПИНФЛ"},{type:a.Text,outlined:!1,name:"inn",title:"ИНН"},{type:a.Text,outlined:!1,name:"rekvizity",title:"Реквизиты"}]}},Iu=function(e){return"desktop"===e?{type:a.Paper,fieldRightMargin:"0",innerPadding:"0",tabletHidden:!0,phoneHidden:!0,child:{type:a.Component,element:Tu}}:{type:a.Paper,fieldBottomMargin:"1",innerPadding:"0",desktopHidden:!0,child:{type:a.Component,element:Tu}}},Du=function(e){return e&&"Физическое лицо"!==e?[{type:a.Paper,fieldBottomMargin:"1",sx:{padding:"0 !important"},isVisible:function(e){return e.contact_files&&e.contact_files.length},child:{type:a.Component,element:function(e){var n=e.contact_files,a=e.onChange,i=kt({title:Cu,msg:Au});return ce(Ae,{children:null==n?void 0:n.map((function(e,o){return ce(Ye,{disableGutters:!0,secondaryAction:ce(tn,{onClick:function(){var t=Ct(n)||[];i().then((function(n){n&&a({contact_files:t.filter((function(t){return t!==e}))})}))},children:ce(pt,{})}),children:ce(Ce,{onClick:(u=r(t().mark((function n(){var r,a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Io.appwriteService.getFileURL(e);case 2:return r=t.sent,t.next=5,Io.appwriteService.readFileName(e);case 5:a=t.sent,We(r,a);case 7:case"end":return t.stop()}}),n)}))),function(){return u.apply(this,arguments)}),children:ce(Xe,{payload:e,Loader:Vu,children:(l=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.readFileName(n);case 2:return r=e.sent,e.abrupt("return",ce(Ie,{primary:r}));case 4:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})})})},"".concat(e,"-").concat(o));var l,u}))})}}},{type:a.Paper,fields:[{type:a.Component,element:function(e){var t=e._fieldData,n=e.onChange;return ce(wu,{fieldData:t,onChange:n})}}]}]:[{type:a.Paper,fieldBottomMargin:"1",sx:{padding:"0 !important"},isVisible:function(e){return e.contact_files&&e.contact_files.length},child:{type:a.Component,element:function(e){var n=e.contact_files,a=e.onChange,i=kt({title:Cu,msg:Au});return ce(Ae,{children:null==n?void 0:n.map((function(e,o){return ce(Ye,{disableGutters:!0,secondaryAction:ce(tn,{onClick:function(){var t=Ct(n)||[];i().then((function(n){n&&a({contact_files:t.filter((function(t){return t!==e}))})}))},children:ce(pt,{})}),children:ce(Ce,{onClick:(u=r(t().mark((function n(){var r,a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Io.appwriteService.getFileURL(e);case 2:return r=t.sent,t.next=5,Io.appwriteService.readFileName(e);case 5:a=t.sent,We(r,a);case 7:case"end":return t.stop()}}),n)}))),function(){return u.apply(this,arguments)}),children:ce(Xe,{payload:e,Loader:Vu,children:(l=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.readFileName(n);case 2:return r=e.sent,e.abrupt("return",ce(Ie,{primary:r}));case 4:case"end":return e.stop()}}),e)}))),function(e){return l.apply(this,arguments)})})})},"".concat(e,"-").concat(o));var l,u}))})}}},{type:a.Paper,fields:[{type:a.Component,element:function(e){var t=e._fieldData,n=e.onChange;return ce(wu,{fieldData:t,onChange:n})}}]}]},Bu=[{type:a.Init,name:"contact_phones",defaultValue:null},{type:a.Init,name:"contact_names",defaultValue:null},{type:a.Fragment,isVisible:function(e){return!e.kontakt||!!nt(e.kontakt,"Физическое лицо")},fields:[{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"1",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",phoneHidden:!0,tabletHidden:!0,fields:[Lu("Физическое лицо"),Iu("desktop")]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",desktopHidden:!0,fields:[Lu("Физическое лицо"),Iu("desktop")]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",fields:[Mu("Физическое лицо"),Iu("mobile")].concat(p(Du("Физическое лицо")))}]},{type:a.Fragment,isVisible:function(e){return!!nt(e.kontakt,"Юридическое лицо")},fields:[{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"1",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",phoneHidden:!0,tabletHidden:!0,fields:[Lu("Юридическое лицо"),Iu("desktop")]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",desktopHidden:!0,fields:[Lu("Юридическое лицо"),Iu("desktop")]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",fields:[Mu("Юридическое лицо"),Iu("mobile")].concat(p(Du("Юридическое лицо")))}]}];window.contact_fields=Bu;var ju=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование контакта"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание контакта"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],qu="Вы уверены, что хотите удалить файл?",Ru="Подтверждение",Pu=at.createLoader(24),Eu=function(e){return e&&"Физическое лицо"!==e?{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"kontakt")},name:"kontakt",title:"Контакт"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"naimenovanie_organizaczii")},name:"naimenovanie_organizaczii",title:"Наименование организации"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"fio")},name:"fio",title:"Ф.И.О."},{type:a.Text,description:"Основной",features:["hasContactNumberPermission"],outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",isVisible:function(e){return ku(e,"telefon")},name:"telefon",title:"Телефон"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"tip_klienta")},name:"tip_klienta",title:"Тип клиента"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"status_klienta")},name:"status_klienta",title:"Статус клиента"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"loyalnost_klienta")},name:"loyalnost_klienta",title:"Лояльность клиента"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"data-sozdaniya_klienta")},name:"data-sozdaniya_klienta",title:"Дата создания клиента"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"fakticheskij_adres")},name:"fakticheskij_adres",title:"Фактический адрес"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"email")},name:"email",title:"Email"},{type:a.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Io.routerService.location.pathname.includes("bid_view"))&&!Io.routerService.location.pathname.includes("bid_edit")},fields:[{type:a.Component,fieldBottomMargin:"1",isVisible:function(e){return ku(e,"kadastrovyj-nomer_obekta","kadastrovyj-nomer_zemli")},element:function(){return ce(me,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"kadastrovyj-nomer_obekta")},name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"kadastrovyj-nomer_zemli")},name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]}:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"0",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"kontakt")},name:"kontakt",title:"Контакт"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"fio")},name:"fio",title:"Ф.И.О."},{type:a.Text,description:"Основной",features:["hasContactNumberPermission"],outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",isVisible:function(e){return ku(e,"telefon")},name:"telefon",title:"Телефон"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"tip_klienta")},name:"tip_klienta",title:"Тип клиента"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"status_klienta")},name:"status_klienta",title:"Статус клиента"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"loyalnost_klienta")},name:"loyalnost_klienta",title:"Лояльность клиента"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"data-sozdaniya_klienta")},name:"data-sozdaniya_klienta",title:"Дата создания клиента"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"fakticheskij_adres")},name:"fakticheskij_adres",title:"Фактический адрес"},{type:a.Text,isVisible:function(e){return ku(e,"email")},outlined:!1,name:"email",title:"Email"},{type:a.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Io.routerService.location.pathname.includes("bid_view"))&&!Io.routerService.location.pathname.includes("bid_edit")},fields:[{type:a.Component,fieldBottomMargin:"1",isVisible:function(e){return ku(e,"kadastrovyj-nomer_obekta","kadastrovyj-nomer_zemli")},element:function(){return ce(me,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"kadastrovyj-nomer_obekta")},name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"kadastrovyj-nomer_zemli")},name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]}},Nu=function(e){return e&&"Физическое лицо"!==e?{type:a.Paper,isVisible:function(e){return ku(e,"seriya-i-nomer_pasporta","data_rozhdeniya","pol","data-vydachi_pasporta","kem_vydan","adres_registraczii","pinfl","inn","dolzhnost_rukovoditelya","osnovanie-deyatelnosti-dannogo_licza","yuridicheskij_adres","sertifikat_kompanii","rekvizity")},fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"seriya-i-nomer_pasporta")},name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"data_rozhdeniya")},name:"data_rozhdeniya",title:"Дата рождения"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"pol")},name:"pol",title:"Пол"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"data-vydachi_pasporta")},name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"kem_vydan")},name:"kem_vydan",title:"Кем выдан"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"adres_registraczii")},name:"adres_registraczii",title:"Адрес регистрации"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"pinfl")},name:"pinfl",title:"ПИНФЛ"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"inn")},name:"inn",title:"ИНН"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"dolzhnost_rukovoditelya")},name:"dolzhnost_rukovoditelya",title:"Должность руководителя"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"osnovanie-deyatelnosti-dannogo_licza")},name:"osnovanie-deyatelnosti-dannogo_licza",title:"Основание деятельности данного лица"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"yuridicheskij_adres")},name:"yuridicheskij_adres",title:"Юридический адрес"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"sertifikat_kompanii")},name:"sertifikat_kompanii",title:"Сертификат компании (Гувохнома)"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"rekvizity")},name:"rekvizity",title:"Реквизиты"}]}:{type:a.Paper,isVisible:function(e){return ku(e,"seriya-i-nomer_pasporta","data_rozhdeniya","pol","data-vydachi_pasporta","kem_vydan","adres_registraczii","pinfl","inn","rekvizity")},fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"seriya-i-nomer_pasporta")},name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"data_rozhdeniya")},name:"data_rozhdeniya",title:"Дата рождения"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"pol")},name:"pol",title:"Пол"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"data-vydachi_pasporta")},name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"kem_vydan")},name:"kem_vydan",title:"Кем выдан"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"adres_registraczii")},name:"adres_registraczii",title:"Адрес регистрации"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"pinfl")},name:"pinfl",title:"ПИНФЛ"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"inn")},name:"inn",title:"ИНН"},{type:a.Text,outlined:!1,isVisible:function(e){return ku(e,"rekvizity")},name:"rekvizity",title:"Реквизиты"}]}},Uu=function(e){return"desktop"===e?{type:a.Paper,features:["hasContactNumberPermission"],fieldRightMargin:"0",innerPadding:"0",tabletHidden:!0,phoneHidden:!0,child:{type:a.Component,isVisible:function(e){return ku(e,"contact_phones","contact_names")},element:Tu}}:{type:a.Paper,features:["hasContactNumberPermission"],fieldBottomMargin:"1",innerPadding:"0",desktopHidden:!0,child:{type:a.Component,isVisible:function(e){return ku(e,"contact_phones","contact_names")},element:Tu}}},Hu=function(e){return e&&"Физическое лицо"!==e?[{type:a.Paper,fieldBottomMargin:"1",sx:{padding:"0 !important"},isVisible:function(e){return e.contact_files&&e.contact_files.length},child:{type:a.Component,element:function(e){var n=e.contact_files,a=e.onChange,i=e.readonly,o=kt({title:Ru,msg:qu});return ce(Ae,{sx:{pointerEvents:"all"},children:null==n?void 0:n.map((function(e,l){return ce(Ye,{disableGutters:!0,secondaryAction:ce(tn,{disabled:i,onClick:function(){var t=Ct(n)||[];o().then((function(n){n&&a({contact_files:t.filter((function(t){return t!==e}))})}))},children:ce(pt,{})}),children:ce(Ce,{onClick:(s=r(t().mark((function n(){var r,a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Io.appwriteService.getFileURL(e);case 2:return r=t.sent,t.next=5,Io.appwriteService.readFileName(e);case 5:a=t.sent,We(r,a);case 7:case"end":return t.stop()}}),n)}))),function(){return s.apply(this,arguments)}),children:ce(Xe,{payload:e,Loader:Pu,children:(u=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.readFileName(n);case 2:return r=e.sent,e.abrupt("return",ce(Ie,{primary:r}));case 4:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})})})},"".concat(e,"-").concat(l));var u,s}))})}}}]:[{type:a.Paper,fieldBottomMargin:"1",sx:{padding:"0 !important"},isVisible:function(e){return e.contact_files&&e.contact_files.length},child:{type:a.Component,element:function(e){var n=e.contact_files,a=e.onChange,i=e.readonly,o=kt({title:Ru,msg:qu});return ce(Ae,{sx:{pointerEvents:"all"},children:null==n?void 0:n.map((function(e,l){return ce(Ye,{disableGutters:!0,secondaryAction:ce(tn,{disabled:i,onClick:function(){var t=Ct(n)||[];o().then((function(n){n&&a({contact_files:t.filter((function(t){return t!==e}))})}))},children:ce(pt,{})}),children:ce(Ce,{onClick:(s=r(t().mark((function n(){var r,a;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Io.appwriteService.getFileURL(e);case 2:return r=t.sent,t.next=5,Io.appwriteService.readFileName(e);case 5:a=t.sent,We(r,a);case 7:case"end":return t.stop()}}),n)}))),function(){return s.apply(this,arguments)}),children:ce(Xe,{payload:e,Loader:Pu,children:(u=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.readFileName(n);case 2:return r=e.sent,e.abrupt("return",ce(Ie,{primary:r}));case 4:case"end":return e.stop()}}),e)}))),function(e){return u.apply(this,arguments)})})})},"".concat(e,"-").concat(l));var u,s}))})}}}]},Wu=[{type:a.Init,name:"contact_phones",defaultValue:null},{type:a.Init,name:"contact_names",defaultValue:null},{type:a.Fragment,isVisible:function(e){return!e.kontakt||!!nt(e.kontakt,"Физическое лицо")},fields:[{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"1",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",phoneHidden:!0,tabletHidden:!0,fields:[Eu("Физическое лицо"),Uu("desktop")]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",desktopHidden:!0,fields:[Eu("Физическое лицо"),Uu("desktop")]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",fields:[Nu("Физическое лицо"),Uu("mobile")].concat(p(Hu("Физическое лицо")))}]},{type:a.Fragment,isVisible:function(e){return!!nt(e.kontakt,"Юридическое лицо")},fields:[{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"1",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",phoneHidden:!0,tabletHidden:!0,fields:[Eu("Юридическое лицо"),Uu("desktop")]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",desktopHidden:!0,fields:[Eu("Юридическое лицо"),Uu("desktop")]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",phoneColumns:"12",tabletColumns:"12",desktopColumns:"6",fields:[Nu("Юридическое лицо"),Uu("mobile")].concat(p(Hu("Юридическое лицо")))}]}];window.contact_fields=Wu;var Ou,Gu,$u,Yu,Zu=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",label:"Просмотр контакта"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasApartmentUpdatePermission},action:"edit-action",label:"Редактировать"}],Xu=function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.apartmentViewService.read(n);case 2:return r=e.sent,a=r.contact_id,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ku=function(){return mt(Io.userViewService.findAll,{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError})},Ju=at.createLoader(28),Qu=[{type:a.Text,outlined:!0,name:"email",title:"Email"},{type:a.Text,outlined:!0,name:"phone",title:"Телефон"}],es=[{type:it.Component,sortable:!1,headerName:"Аватар",width:function(){return 65},element:function(e){var n,a=e.avatar,i=e.email;return ce(Xe,{Loader:Ju,children:(n=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,Io.appwriteService.getImageURL(a);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:return n=e.t0,e.abrupt("return",ce(we,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:ce(Je,{src:n||void 0,alt:i})}));case 9:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})})}},{type:it.Compute,sortable:!1,headerName:"Имя",compute:function(e){var t=e.first_name,n=void 0===t?"":t,r=e.last_name,a=void 0===r?"":r,i=e.middle_name;return[n,a,void 0===i?"":i].filter((function(e){return e.length})).join(" ")||"Unset"},width:function(e){return Math.max(e/3-65,200)}},{type:it.Compute,sortable:!1,compute:function(e){return e.phone||"Unset"},field:"phone",headerName:"Телефон",width:function(e){return Math.max(e/3-65,200)}},{type:it.Compute,sortable:!1,compute:function(e){return e.email||"Unset"},field:"email",headerName:"Email",width:function(e){return Math.max(e/3-65,200)}}],ts=function(e){var t=e.payload,n=Ku(),r=ft(),a=nn({withSearch:!0,withLoader:!0,slots:{FilterListSlot:rn},noInitialFilters:!0,fetchDebounce:la,reloadSubject:Io.userViewService.reloadSubject,selectionMode:vt.Single,onSubmit:function(e){return r.next(e),!0},filterLabel:"Выбрать пользователя",filters:Qu,columns:es,handler:n,payload:t}),i=a.pickData,o=a.render,l=a.open;return{pickData:i,render:o,resultSubject:r,open:l}},ns=jo()({container:{alignItems:"center",backgroundColor:"#F7F7F7",border:"1px solid #ECECEC",boxShadow:"0 4px 16px 0px rgba(0,0,0,0.2)",display:"flex",gap:8,justifyContent:"stretch",minHeight:"72px",padding:"10px 24px",borderRadius:"0 0 8px 8px"},textInput:{flex:1,"& textarea::-webkit-scrollbar":{display:"none"}},contained:{color:"#FFFFFF",backgroundColor:"#3578E5","&:hover":{backgroundColor:"#3578E5"}}}),rs=[{type:a.Choose,fieldBottomMargin:"3",fieldRightMargin:"0",choose:(Gu=r(t().mark((function e(n,r){var a,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pickData(n.user_id?[n.user_id]:[]),e.next=3,r.resultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=o(a,1),l=i[0],e.abrupt("return",l);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return Gu.apply(this,arguments)}),tr:(Ou=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.tryRead(n);case 2:return r=e.sent,e.abrupt("return",[null==r?void 0:r.last_name,null==r?void 0:r.first_name,null==r?void 0:r.middle_name].filter((function(e){return e})).join(" "));case 4:case"end":return e.stop()}}),e)}))),function(e){return Ou.apply(this,arguments)}),name:"user_id",title:"",placeholder:"Кому"},{type:a.Text,fieldBottomMargin:"0",fieldRightMargin:"0",placeholder:"Введите сообщение",inputRows:3,labelShrink:!0,name:"comment",title:""}],as=function(){var e=Rm(),t=Bi("id");if(e&&t){if(e.path.includes("apartment"))return"/apartment_view/".concat(t,"/service_comment");if(e.path.includes("bid"))return"/bid_view/".concat(t,"/service_comment")}return""},is=function(e){var n,a,i,l,u,s=e.addMessage,c=void 0===s?function(){return null}:s,d=e.addFile,p=void 0===d?function(){return null}:d,f=e.payload,y=ns().classes,h=o(he.useState(""),2),v=h[0],b=h[1],_=ts({payload:f}),k=_.pickData,g=_.render,x=_.resultSubject,w=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),S=w.handleLoadStart,z=w.handleLoadEnd,F=w.loading,T=_t({title:"Уведомить пользователя",fields:rs,payload:{pickData:k,resultSubject:x}});return ce("div",{className:y.container,children:[ce(an,{className:y.textInput,readOnly:F,value:v,onChange:function(e){var t=e.target;return b(t.value)},placeholder:"Введите комментарий",multiline:!0,maxRows:5}),ce(on,{condition:(u=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:return n=e.sent,e.abrupt("return",n.hasUserServiceCommentMentionPermission);case 4:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),children:ce(tn,{disabled:F,onClick:(l=r(t().mark((function e(){var n,r,a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T().toPromise();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:if(n.user_id&&n.comment){e.next=8;break}return Io.alertService.notify("Укажите получателя и сообщение"),e.abrupt("return");case 8:return r=n.user_id,a=n.comment,e.next=11,Io.userViewService.read(r);case 11:return i=e.sent,o=i.first_name,l=['<blank-link href="/user_view/'.concat(r,'">@').concat(o,"</blank-link>"),a].join("\n"),e.next=16,Io.notifyViewService.create({title:"Вас упомянули в служебном комментарии",user_id:r,url:as()});case 16:return e.next=18,c(l);case 18:b("");case 19:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),onLoadStart:S,onLoadEnd:z,children:ce(ln,{})})}),ce(on,{condition:(i=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:return n=e.sent,e.abrupt("return",n.hasUserServiceCommentAddingFilePermission);case 4:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)}),children:ce(tn,{disabled:F,onClick:(a=r(t().mark((function e(){var n,r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,At();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:r=m(n),e.prev=6,r.s();case 8:if((a=r.n()).done){e.next=17;break}return i=a.value,e.next=12,Io.appwriteService.uploadFile(i);case 12:return o=e.sent,e.next=15,p(v,o);case 15:e.next=8;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),r.e(e.t0);case 22:return e.prev=22,r.f(),e.finish(22);case 25:if(!v){e.next=28;break}return e.next=28,c(v);case 28:b("");case 29:case"end":return e.stop()}}),e,null,[[6,19,22,25]])}))),function(){return a.apply(this,arguments)}),onLoadStart:S,onLoadEnd:z,children:ce(un,{})})}),ce(ze,{disabled:F,className:y.contained,onClick:(n=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,c(v);case 4:b("");case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),onLoadStart:S,onLoadEnd:z,variant:"contained",size:"large",children:ce(Tt,{children:ce(sn,{})})}),g()]})},os=jo()((function(e,t,n){return{newMessage:{backgroundColor:"#3578E5",borderRadius:"8px",color:"#FFFFFF",display:"flex",fontFamily:"Roboto, sans-serif",padding:12,paddingRight:0,width:"65%","& pre":{margin:0}},newFile:{backgroundColor:"#3578E5",overflow:"hidden",borderRadius:"8px",color:"#FFFFFF",display:"flex",fontFamily:"Roboto, sans-serif",width:"65%"},newMessageContainer:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",width:"100%",paddingBottom:"12px"},receivedMessage:{backgroundColor:"#FFFFFF",borderRadius:"8px",display:"flex",padding:12,paddingRight:0,fontFamily:"Roboto, sans-serif",width:"65%"},recievedFile:{backgroundColor:"#FFFFFF",overflow:"hidden",borderRadius:"8px",display:"flex",fontFamily:"Roboto, sans-serif",width:"65%"},receivedMessageContainer:{display:"flex",flex:"0 0 auto",justifyContent:"flex-start",flexDirection:"row-reverse",width:"100%",paddingBottom:"12px","& pre":{margin:0}},receivedMessageSender:{paddingRight:10,paddingTop:5},stretch:{flex:1},copy:{width:"100%",alignItems:"flex-start !important"}}})),ls=function(e){var n=e.sessionData,a=os().classes,i=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),o=i.handleLoadStart,l=i.handleLoadEnd,u=Pe(r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.fileId){e.next=8;break}return e.next=3,Io.appwriteService.getFileURL(n.fileId);case 3:return r=e.sent,e.next=6,Io.appwriteService.readFileName(n.fileId);case 6:a=e.sent,We(r,a);case 8:case"end":return e.stop()}}),e)}))),{onLoadStart:o,onLoadEnd:l}).execute;return ce("div",{children:n.userId===Io.appwriteService.currentUser.$id?ce("div",{className:a.newMessageContainer,children:n.fileId?ce(Ye,{disablePadding:!0,className:a.newFile,onClick:function(){return u()},children:ce(Ce,{children:[ce(Ze,{children:ce(Je,{children:ce(cn,{})})}),ce(Ie,{primary:n.fileName||"Файл"})]})}):ce("div",{className:a.newMessage,children:ce(ot,{onCopyClick:function(){return Io.alertService.notify("Сообщение скопировано в буфер обмена")},className:a.copy,sx:{"& svg":{color:"white"}},content:Qe.sanitize(n.message),children:ce("pre",{children:ce(Qe,{config:Jo,handler:function(){return n.message}})})})})}):ce("div",{className:a.receivedMessageContainer,children:[ce("div",{className:a.stretch}),n.fileId?ce(Ye,{disablePadding:!0,className:a.recievedFile,onClick:function(){return u()},children:ce(Ce,{children:[ce(Ze,{children:ce(Je,{children:ce(cn,{})})}),ce(Ie,{primary:n.fileName||"Файл"})]})}):ce("div",{className:a.receivedMessage,children:ce(ot,{onCopyClick:function(){return Io.alertService.notify("Сообщение скопировано в буфер обмена")},className:a.copy,content:Qe.sanitize(n.message),children:ce("pre",{children:ce(Qe,{config:Jo,handler:function(){return n.message}})})})}),ce("div",{className:a.receivedMessageSender,children:ce(dn,{title:n.displayName,children:ce(Je,{src:n.avatar,style:{height:28,width:28}})})})]})})},us=jo()({container:{backgroundColor:"#F0F0F0",borderRadius:"8px",overflow:"hidden",display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",height:"100%",width:"100%"},content:{padding:"8px",flex:1}}),ss=function(e){var t=e.className,n=e.style,r=e.messages,a=e.payload,i=e.onText,o=e.onFile,l=us(),u=l.classes,s=l.cx,c=he.useMemo((function(){return null!=r&&r.length?r[(null==r?void 0:r.length)-1]:null}),[r]),d=he.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Io.appwriteService.currentUser.$id;return!(!e&&(null==c?void 0:c.userId)!==t)&&"auto"}),[c]),p=he.useCallback((function(e,t){return ce(ls,{sessionData:t},"".concat(t.id,"-").concat(e))}),[]);return ce("div",{className:s(u.container,t),style:n,children:[ce("div",{className:u.content,children:ce(pn,{data:r,followOutput:d,initialTopMostItemIndex:null==r?void 0:r.length,itemContent:p,computeItemKey:function(e){var t=r[e];return(null==t?void 0:t.id)||w()}})}),ce(is,{payload:a,addMessage:i,addFile:o})]})},cs="real-estate__headerRoot",ds=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",label:"Просмотр объекта"}],ps=[{id:"list",element:function(e){var t=e.payload;return ce(bt,{history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},routes:gl,payload:t})},isActive:function(e){return Uo(["/apartment","/apartment_rent","/apartment_sell","/apartment_archive"],e)},isAvailable:function(){return!1}},{id:"create",element:function(){var e=ye(),n=e.elementRef,a=e.size,l=o(he.useState((function(){return{activeStep:0,contact_id:null,fio:"",telefon:""}})),2),u=l[0],s=l[1],d=o(he.useState([]),2),p=d[0],m=d[1],f=o(he.useState(!1),2),y=f[0],h=f[1],v=o(he.useState(!1),2),b=v[0],_=v[1],k=he.useMemo((function(){return new Date(Date.now()+1e4)}),[u.activeStep]);he.useEffect((function(){_(!1)}),[u.activeStep]);var g=function(e){return s((function(t){return i(i({},t),{},{activeStep:e})}))},x=u.activeStep,w=Po().classes,S=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),z=S.handleLoadStart,F=S.handleLoadEnd,T=S.loading,A=S.unblock,C=function(){var e=r(t().mark((function e(){var n,r,a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=u.contact_id,r=u.fio,a=u.telefon,n){e.next=7;break}return e.next=5,Io.contactViewService.create({fio:r,telefon:a,"data-sozdaniya_klienta":je.currentDate()});case 5:i=e.sent,n=i.$id;case 7:return e.next=9,Io.apartmentViewService.create({contact_id:n});case 9:o=e.sent,l=o.id,A(),Io.routerService.push("/apartment_edit/".concat(l)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Io.alertService.notify(go(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=r(t().mark((function e(){var n,r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),u.fio||u.telefon){e.next=3;break}return e.abrupt("return");case 3:if(0!==x){e.next=11;break}return e.next=6,Io.contactRequestService.findDuplicates(u);case 6:n=e.sent,r=n.rows,a=n.total,m(r),g(0===a?2:1);case 11:if(1===x&&g(2),2!==x){e.next=15;break}return e.next=15,C();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=!1;return 1===x&&(e=e||!b),e=(e=e||T)||3===x};return ce(Fe,{children:[ce(be,{items:Ro}),ce(_e,{className:w.root,children:[ce(ke,{className:w.header,activeStep:x,children:[ce(ge,{completed:x>0,children:ce(xe,{children:"Первичные данные"})},0),ce(ge,{completed:x>1,children:ce(xe,{children:"Поиск дубликатов"})},1),ce(ge,{completed:x>2,children:ce(xe,{children:"Создание объекта"})},2)]}),ce("div",{className:w.adjust}),ce(we,{ref:n,className:w.content,children:0===x?ce(Te,{sx:{pl:1,pr:1,pt:2,pb:3},handler:u,onChange:s,dirty:y,fields:qo}):1===x?ce(De,{sx:{height:a.height},component:Ae,minRowHeight:54,children:p.map((function(e,t){var n=e.fio,r=e.telefon,a=e.$id,o=e.tip_klienta;return ce(Ce,{className:Ve(c({},w.listItemBackground,t%2==1)),onClick:function(){s((function(e){return i(i({},e),{},{contact_id:a,activeStep:2})}))},dense:!0,children:[ce(Le,{children:ce(Me,{edge:"start",checked:u.contact_id===a,sx:{marginLeft:"0 !important"},disableRipple:!0})}),ce(Ie,{primary:n,secondary:o}),ce(me,{children:r})]},t)}))}):2===x?ce(Te,{sx:{pl:1,pr:1,pt:2,pb:3},handler:u,dirty:y,fields:qo}):null}),ce(Se,{sx:{pl:1,pr:1,pb:1},justifyContent:"space-between",flexDirection:"row",children:[ce(ze,{disabled:T||0===x,fallback:Io.errorService.handleGlobalError,onClick:function(){s((function(e){return i(i({},e),{},{contact_id:null})})),0===p.length?g(0):g(x-1)},sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:"Назад"}),ce(ze,1===x?{disabled:L(),fallback:Io.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:ce(Be,{expireAt:k,onExpire:function(){return _(!0)},children:"Не вижу дубликат"})}:2===x?{disabled:L(),fallback:Io.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:"Создать объект"}:{disabled:L(),fallback:Io.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:"Далее"})]})]})]})},isActive:function(e){return Uo(["/apartment/create"],e)},isAvailable:function(){return!1}},{id:"object",element:function(e){var t=e.beginSave,n=e.onChange,r=e.payload,a=e.data,i=e.formState,o=Yt(a);return ce(Ee,{children:[ce(be,{items:mu,payload:i,onAction:function(e){"list-action"===e&&Io.routerService.push("/apartment"),"save-action"===e&&t()}}),ce(Eo,{}),ce(Oo,{payload:r,mode:r.menuMode,children:[ce(Te,{fields:uu,changeSubject:o,features:r.permissions,payload:r,onChange:n,handler:function(){return a}}),ce(Oe,{}),ce(Ge,{})]})]})},isActive:function(e){return Uo(["/apartment_edit/:id","/apartment_edit/:id/object"],e)}},{id:"documents",element:function(e){var n,a,i,o=e.onChange,l=e.payload,u=e.beginSave,s=e.formState,c=e.data,d=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),p=d.handleLoadStart,m=d.handleLoadEnd,f=d.loading;return ce(Ee,{children:[ce(be,{items:Go,payload:s,onAction:function(e){"list-action"===e&&Io.routerService.push("/apartment"),"save-action"===e&&u()}}),ce(Eo,{}),ce(Oo,{payload:l,mode:l.menuMode,children:[ce(_e,{sx:{p:1},children:ce(He,{disabled:f,accept:"*",multiple:!0,items:c,tr:(i=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.tryReadFileName(n);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=n;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),fallback:Io.errorService.handleGlobalError,onClick:(a=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getFileURL(n);case 2:return r=e.sent,e.next=5,Io.appwriteService.readFileName(n);case 5:a=e.sent,We(r,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),onUpload:function(e){return Io.appwriteService.uploadFile(e)},onChange:(n=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(n);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onLoadStart:p,onLoadEnd:m})}),ce(Oe,{}),ce(Ge,{})]})]})},isActive:function(e){return Uo(["/apartment_edit/:id/documents"],e)}},{id:"owner_contact",element:function(e){var t=e.data,n=e.payload,r=e.formState,a=e.onChange,i=e.beginSave,o=Yt(t);return ce(Ee,{children:[ce(be,{items:ju,onAction:function(e){"list-action"===e&&Io.routerService.push("/apartment"),"save-action"===e&&i()},payload:r}),ce(Eo,{}),ce(Oo,{payload:n,mode:n.menuMode,children:[ce(Te,{handler:function(){return t},onChange:a,features:n.permissions,changeSubject:o,fields:Bu}),ce(Oe,{}),ce(Ge,{})]})]})},isActive:function(e){return Uo(["/apartment_edit/:id/owner_contact"],e)}},{id:"object",element:function(e){var n,a,i=e.params.id,o=e.formState,l=e.payload,u=e.data,s=Jt({fields:uu,payload:l,outlinePaper:!0,handler:(a=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.apartmentViewService.tryRead(i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},onSubmit:(n=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,e.prev=1,!n){e.next=5;break}return e.next=5,Io.apartmentViewService.update(i,n);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),r=!1,a=go(e.t0),Io.alertService.notify(a),e.abrupt("return",!1);case 13:return e.prev=13,e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,null,[[1,7,13,16]])}))),function(e){return n.apply(this,arguments)}),submitLabel:"Сохранить"}),c=s.pickData,d=s.render,p=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"list-action"===n&&Io.routerService.push("/apartment"),"edit-action"===n&&c();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=Yt(u);return ce(Ee,{children:[ce(be,{payload:o,items:xu,onAction:p}),ce(Eo,{}),ce(Zo,{payload:l,mode:l.menuMode,children:[ce(Te,{dirty:!0,readonly:!0,changeSubject:m,features:l.permissions,payload:l,fields:gu,handler:function(){return u}}),ce(Oe,{}),ce(Ge,{})]}),d()]})},isActive:function(e){return Uo(["/apartment_view/:id","/apartment_view/:id/object"],e)}},{id:"owner_contact",element:function(e){var n,a,i=e.params.id,o=e.payload,l=e.formState,u=e.data,s=Yt(u),c=Jt({fields:Bu,payload:o,outlinePaper:!0,handler:(a=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xu(i);case 2:return n=e.sent,e.next=5,Io.contactViewService.tryRead(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},onSubmit:(n=r(t().mark((function e(n){var r,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,e.prev=1,!n){e.next=8;break}return e.next=5,Xu(i);case 5:return a=e.sent,e.next=8,Io.contactViewService.update(a,n);case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(1),r=!1,o=go(e.t0),Io.alertService.notify(o),e.abrupt("return",!1);case 16:return e.prev=16,e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[1,10,16,19]])}))),function(e){return n.apply(this,arguments)}),submitLabel:"Сохранить"}),d=c.pickData,p=c.render,m=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"list-action"===n&&Io.routerService.push("/apartment"),"edit-action"===n&&d();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:[ce(be,{items:Zu,payload:l,onAction:m}),ce(Eo,{}),ce(Zo,{payload:o,mode:o.menuMode,children:[ce(Te,{changeSubject:s,readonly:!0,handler:function(){return u},features:o.permissions,fields:Wu,payload:o}),ce(Oe,{}),ce(Ge,{})]}),p()]})},isActive:function(e){return Uo(["/apartment_view/:id/owner_contact"],e)}},{id:"documents",element:function(e){var n,a,i,o=e.params.id,l=e.data,u=e.payload,s=e.formState,c=Xo({data:l,onSubmit:(n=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.apartmentViewService.update(o,{apartment_files:n});case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}),d=c.render,p=c.pickFiles;return ce(Ee,{children:[ce(be,{items:Ko,payload:s,onAction:function(e){"list-action"===e&&Io.routerService.push("/apartment"),"edit-action"===e&&p()}}),ce(Eo,{}),ce(Zo,{payload:u,mode:u.menuMode,children:[ce(_e,{sx:{p:1},children:ce(He,{disabled:!0,accept:"*",multiple:!0,items:l,tr:(i=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.tryReadFileName(n);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=n;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),fallback:Io.errorService.handleGlobalError,onClick:(a=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getFileURL(n);case 2:return r=e.sent,e.next=5,Io.appwriteService.readFileName(n);case 5:a=e.sent,We(r,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),onUpload:function(e){return Io.appwriteService.uploadFile(e)}})}),ce(Oe,{}),ce(Ge,{})]}),d()]})},isActive:function(e){return Uo(["/apartment_view/:id/documents"],e)}},{id:"tasks",element:nl,isActive:function(e){return Uo(["/apartment_view/:id/tasks"],e)}},{id:"history",element:nl,isActive:function(e){return Uo(["/apartment_view/:id/history"],e)}},{id:"service_comment",element:function(e){var n=e.payload,a=e.formState,i=o(he.useState([]),2),l=i[0],u=i[1],s=ye({target:document.body,selector:"main",compute:function(e){var t,r=e.height,a=e.width;if(n.menuMode===P.Tabs){var i=document.querySelector(".".concat(et));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(t=document.querySelector(".".concat(cs)))||void 0===t?void 0:t.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,c=Pe(r(t().mark((function e(){var n,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bi("id"),e.next=3,Io.serviceCommentViewService.findAllByApartmentId(n);case 3:return a=e.sent,e.t0=u,e.next=7,Promise.all(a.map(function(){var e=r(t().mark((function e(n){var r,a,i,o,l,u,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.$id,a=n.user_id,i=n.file_id,o=n.comment,l=n.$createdAt,e.next=3,Io.userViewService.tryRead(a);case 3:if(u=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(!u.avatar){e.next=12;break}return e.next=9,Io.appwriteService.getImageURL(u.avatar);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0="";case 13:if(s=e.t0,!i){e.next=20;break}return e.next=17,Io.appwriteService.tryReadFileName(i);case 17:e.t1=e.sent,e.next=21;break;case 20:e.t1="";case 21:return c=e.t1,e.abrupt("return",{id:r,message:o,fileId:i,userId:a,displayName:[u.last_name,u.first_name,u.middle_name,f(l).format("DD.MM.YYYY / HH:mm")].join(" "),fileName:c,avatar:s});case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter((function(e){return!!e})).reverse());case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),{fallback:Io.errorService.handleGlobalError,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),d=c.execute;he.useEffect((function(){d()}),[]),he.useEffect((function(){return Io.serviceCommentViewService.createSubject.subscribe((function(e){var t=Bi("id");e.apartment_id===t&&d()}))}),[]);var p=function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Io.appwriteService.currentUser.$id,a=Bi("id"),e.next=4,Io.serviceCommentViewService.create({user_id:r,comment:n,apartment_id:a,bid_id:null,contact_id:null,file_id:null});case 4:return e.next=6,d();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=r(t().mark((function e(n,r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Io.appwriteService.currentUser.$id,i=Bi("id"),e.next=4,Io.serviceCommentViewService.create({user_id:a,comment:n,apartment_id:i,bid_id:null,contact_id:null,file_id:r});case 4:return e.next=6,d();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return ce(Ee,{children:[ce("div",{className:cs,children:[ce(be,{payload:a,items:ds,onAction:function(e){"list-action"===e&&Io.routerService.replace("/apartment")}}),ce(Eo,{})]}),ce(Zo,{payload:n,mode:n.menuMode,children:ce(ss,{payload:n,style:{height:s.height},messages:l,onText:p,onFile:m})})]})},isActive:function(e){return Uo(["/apartment_view/:id/service_comment"],e)}}],ms=function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==n){e.next=2;break}return e.abrupt("return",{"data-sozdaniya_klienta":je.currentDate()});case 2:return e.next=4,Io.apartmentViewService.read(n);case 4:return r=e.sent,a=r.contact_id,e.next=8,Io.contactViewService.tryRead(a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fs=function(e){var n,a=e.id,i=void 0===a?"create":a,l=function(){var e=r(t().mark((function e(n,r){var a,o,l,u,s,c,d,p,m,f,y,h;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.afterSave,o=!0,e.prev=2,l=U.get(n,"object")||{},u=U.get(n,"owner_contact")||{},s=U.get(n,"documents")||[],c=U.get(n,"object.contact_id"),U.set(n,"object.apartment_files",s),!c){e.next=14;break}return e.next=11,Io.contactViewService.tryRead(c);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=!1;case 15:if(d=e.t0,!c||!d){e.next=21;break}return e.next=19,Io.contactViewService.update(c,u);case 19:e.next=26;break;case 21:return e.next=23,Io.contactViewService.create(u);case 23:p=e.sent,m=p.id,c=m;case 26:if(U.set(n,"object.contact_id",c),"create"!==i){e.next=37;break}return e.next=30,Io.apartmentViewService.create(l);case 30:return f=e.sent,y=f.id,e.next=34,a();case 34:Io.routerService.push("/apartment_edit/".concat(y)),e.next=39;break;case 37:return e.next=39,Io.apartmentViewService.update(i,l);case 39:Io.alertService.notify("Изменения сохранены"),e.next=47;break;case 42:e.prev=42,e.t1=e.catch(2),o=!1,h=go(e.t1),Io.alertService.notify(h);case 47:return e.prev=47,e.abrupt("return",o);case 50:case"end":return e.stop()}}),e,null,[[2,42,47,50]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ms(i);case 2:return e.t0=e.sent,e.next=5,Io.apartmentViewService.tryRead(i);case 5:return e.t1=e.sent,e.next=8,Io.settingsViewService.getMasterDetailMode();case 8:return e.t2=e.sent,e.next=11,Io.permissionService.getPermissions();case 11:return e.t3=e.sent,e.next=14,Io.featureService.getAccessLevel();case 14:return e.t4=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3,e.t4]);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=ft();return he.useEffect((function(){return Io.contactViewService.updateSubject.subscribe(function(){var e=r(t().mark((function e(n){var r,a,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,2),a=r[0],l=r[1],e.next=3,Io.apartmentViewService.tryRead(i);case 3:if(u=e.sent,a===(null==u?void 0:u.contact_id)){e.next=6;break}return e.abrupt("return");case 6:s.next(["owner_contact",l]);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),he.useEffect((function(){return Io.apartmentViewService.updateSubject.subscribe((function(e){var t=o(e,2),n=t[0],r=t[1];i===n&&(s.next(["object",r]),s.next(["documents",(null==r?void 0:r.apartment_files)||[]]))}))}),[]),ce(mn,{state:u,fallback:Io.errorService.handleGlobalError,children:(n=r(t().mark((function e(n){var r,a,u,c,d,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,5),a=r[0],u=r[1],c=r[2],d=r[3],p=r[4],e.abrupt("return",ce(bt,{changeSubject:s,history:Io.routerService,waitForChangesDelay:ua,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},routes:ps,params:{id:i},initialData:{owner_contact:a,object:u,documents:(null==u?void 0:u.apartment_files)||[]},payload:function(){return{menuMode:c,permissions:d,accessLevel:p}},onChange:console.log,onSubmit:l}));case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})},ys=[{type:tt.Add,isDisabled:function(e,t){return!t.permissions.hasBidCreatePermission},label:"Создать"},{type:tt.Menu,options:[{action:"add-action",isDisabled:function(e,t){return!t.permissions.hasBidCreatePermission}},{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],hs=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая недвижимость)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Земля/Участок)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Квартиры)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Дома)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая квартира)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческий дом)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"}]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая Земля/Участок)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}]}]}],vs=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая недвижимость)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Терраса","Угловой","Комната охраны","Вдоль дороги","Сарай","Огород","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||nt(e.podkategoriya_obekta,"Земля/Участок"))&&!nt(e.kategoriya_obekta,"Коммерческая")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Земля/Участок)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческий дом)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Комната охраны","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Вдоль дороги","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],bs=[{type:a.Fragment,isVisible:function(e){return(!nt(e.podkategoriya_obekta,"Земля/Участок")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Дома")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Квартиры")||!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.kategoriya_obekta,"Коммерческая")))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая недвижимость)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_obekta",title:"Состояние объекта",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Combo,columns:"4",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"voda",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya",title:"Канализация",itemList:["Да","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kommercziya",title:"Лифт",itemList:["Есть","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:a.Fragment,isVisible:function(e){if(nt(e.podkategoriya_obekta,"Квартиры")&&nt(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Квартиры)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Combo,columns:"4",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Items,columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"},{type:a.Combo,columns:"4",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:a.Items,columns:"4",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},{type:a.Text,columns:"4",outlined:!1,name:"kod_domofona",title:"Код домофона"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:a.Items,columns:"4",outlined:!1,name:"energonositel_obekta",title:"Энергоноситель объекта",itemList:["Электрофицирован","Газифицирован"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"podezd_nomer",title:"Подъезд №"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]}]}},{type:a.Fragment,isVisible:function(e){if(nt(e.podkategoriya_obekta,"Дома")&&nt(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Дома)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"},{type:a.Items,columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:a.Items,columns:"4",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:a.Items,columns:"4",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Items,columns:"4",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]}]}},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")&&nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Земля/Участок)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(c({},"naznachenie-obekta_zemlya",t))}})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Items,columns:"4",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"},{type:a.Items,columns:"4",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.podkategoriya_obekta,"Квартиры")||!nt(e.kategoriya_obekta,"Коммерческая"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая квартира)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Combo,columns:"4",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Items,columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Complete,columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"},{type:a.Combo,columns:"4",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:a.Items,columns:"4",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Text,columns:"4",outlined:!1,name:"kod_domofona",title:"Код домофона"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:a.Items,columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"podezd_nomer",title:"Подъезд №"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.podkategoriya_obekta,"Дома")||!nt(e.kategoriya_obekta,"Коммерческая"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческий дом)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Combo,columns:"4",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"},{type:a.Items,columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Items,columns:"4",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Items,columns:"4",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"},{type:a.Items,columns:"4",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"},{type:a.Items,columns:"4",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.podkategoriya_obekta,"Земля/Участок")||!nt(e.kategoriya_obekta,"Коммерческая"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая Земля/Участок)"})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(c({},"naznachenie-obekta_zemlya",t))}})}},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"},{type:a.Items,columns:"4",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"},{type:a.Combo,columns:"4",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,columns:"4",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"},{type:a.Items,columns:"4",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:a.Items,columns:"4",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"},{type:a.Items,columns:"4",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Text,columns:"4",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}}],_s=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Квартиры)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Дома)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Комната охраны","Вдоль дороги","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая квартира)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж","Угловой","Вдоль дороги"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая Земля/Участок)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],ks=[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:a.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:a.Items,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:a.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:a.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:a.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return nt(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:a.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:a.Combo,columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:a.Complete,isVisible:function(e){return!!nt(e.podkategoriya_obekta,"Квартиры")&&!nt(e.kategoriya_obekta,"Коммерческая")},columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:a.Combo,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:a.Items,isVisible:function(e){var t=!1;return t=(t=(t=t||nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:a.Combo,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]}].concat(bs,[{type:a.Group,columns:"12",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:a.Paper,columns:"6",fieldRightMargin:"1",fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Расположение объекта"})}},{type:a.Complete,outlined:!1,name:"strana",title:"Страна",tip:(Yu=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Узбекистан"]);case 1:case"end":return e.stop()}}),e)}))),function(){return Yu.apply(this,arguments)})},{type:a.Complete,outlined:!1,name:"gorod",title:"Город",tip:["Ташкент"]},{type:a.Complete,outlined:!1,name:"oblast",title:"Область",tip:($u=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Ташкентская область"]);case 1:case"end":return e.stop()}}),e)}))),function(){return $u.apply(this,arguments)})},{type:a.Complete,outlined:!1,name:"rajon",title:"Район",tip:["Алмазарский район","Бектемирский район","Мирабадский район","Мирзо-Улугбекский район","Сергелийский район","Учтепинский район","Чиланзарский район","Шайхантахурский район","Юнусабадский район","Яккасарайский район","Янгихаётский район","Яшнабадский район"]},{type:a.Complete,tip:Io.dictService.getMahallya,outlined:!1,name:"mahallya",title:"Махалля"},{type:a.Complete,tip:Io.dictService.getUlicza,outlined:!1,name:"ulicza",title:"Улица"},{type:a.Text,outlined:!1,name:"orientir",title:"Ориентир"},{type:a.Combo,freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:a.Fragment,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Text,columns:"6",outlined:!1,name:"nomer_doma",title:"№ дома"},{type:a.Text,columns:"6",outlined:!1,name:"nomer_kvartiry",title:"№ квартиры"}]},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta)&&!nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Text,outlined:!1,name:"nomer_doma",title:"№ дома"}]},{type:a.Component,element:ru}]}},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:a.Group,style:{height:"100%"},columns:"6",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:a.Component,style:{height:"calc(100% - 212px)"},fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData;return ce(eu,{withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:a.Text,inputRows:3,outlined:!1,name:"opisanie",title:"Описание"}]}]}}]}],_s,vs,hs);window.bid_filters=ks;var gs,xs,ws,Ss,zs,Fs,Ts,As,Cs,Vs=[{type:it.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ce(ot,{content:t})},width:function(){return 100}},{type:it.Text,sortable:!0,field:"zagolovok",headerName:"Заголовок",width:function(){return 200}},{type:it.Compute,isVisible:function(e){return e.payload.permissions.hasFioPermission},sortable:!1,compute:(zs=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:return a=e.sent,e.abrupt("return",a?a.fio:"Unset");case 5:case"end":return e.stop()}}),e)}))),function(e){return zs.apply(this,arguments)}),headerName:"Ф.И.О. Контакта",width:function(){return 200}},{type:it.Compute,isVisible:function(e){return e.payload.permissions.hasContactNumberPermission},sortable:!1,compute:(Ss=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:return a=e.sent,e.abrupt("return",a?a.telefon:"Unset");case 5:case"end":return e.stop()}}),e)}))),function(e){return Ss.apply(this,arguments)}),headerName:"Номер телефона",width:function(){return 200}},{type:it.Compute,field:"kategoriya_obekta",sortable:!0,compute:function(e){return e.kategoriya_obekta||"Unset"},headerName:"Категория",width:function(){return 200}},{type:it.Compute,field:"podkategoriya_obekta",sortable:!0,compute:function(e){return e.podkategoriya_obekta||"Unset"},headerName:"Подкатегория",width:function(){return 200}},{type:it.Compute,sortable:!0,field:"prodazha_arenda",headerName:"Варианты сделки",element:function(e){var t=e.prodazha,n=e.arenda,r=[].concat(p(t||[]),p(n||[]));return ce(we,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:[!r.length&&"Unset",r.map((function(e){return ce(Kt,{label:e})}))]})},width:function(){return 300}},{type:it.Compute,field:"czena_prodazha",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(ws=r(t().mark((function e(n){var r,a,i,o,l,u,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.prod_startovaya_czena_ot,a=n.prod_startovaya_czena_do,i=n.prod_startovaya_czena_valyuta,o=n.prod_startovaya_czena_for,l=n.prod_kom_startovaya_czena_ot,u=n.prod_kom_startovaya_czena_do,s=n.prod_kom_startovaya_czena_valyuta,c=n.prod_kom_startovaya_czena_for,!r||!a){e.next=3;break}return e.abrupt("return","От ".concat(r," До ").concat(a," ").concat("uzs"===i?"UZS":"USD"," (").concat((null==o?void 0:o.join(""))||"Итог",")"));case 3:if(!l||!u){e.next=5;break}return e.abrupt("return","От ".concat(l," До ").concat(u," ").concat("uzs"===s?"UZS":"USD"," (").concat((null==c?void 0:c.join(""))||"Итог",")"));case 5:return e.abrupt("return","Unset");case 6:case"end":return e.stop()}}),e)}))),function(e){return ws.apply(this,arguments)}),headerName:"Цена (Продажа)",width:function(){return 300}},{type:it.Compute,field:"czena_arenda",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(xs=r(t().mark((function e(n){var r,a,i,o,l,u,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rent_startovaya_czena_ot,a=n.rent_startovaya_czena_do,i=n.rent_startovaya_czena_valyuta,o=n.rent_startovaya_czena_for,l=n.rent_kom_startovaya_czena_ot,u=n.rent_kom_startovaya_czena_do,s=n.rent_kom_startovaya_czena_valyuta,c=n.rent_kom_startovaya_czena_for,!r||!a){e.next=3;break}return e.abrupt("return","От ".concat(r," До ").concat(a," ").concat("uzs"===i?"UZS":"USD"," (").concat((null==o?void 0:o.join(""))||"Итог",")"));case 3:if(!l||!u){e.next=5;break}return e.abrupt("return","От ".concat(l," До ").concat(u," ").concat("uzs"===s?"UZS":"USD"," (").concat((null==c?void 0:c.join(""))||"Итог",")"));case 5:return e.abrupt("return","Unset");case 6:case"end":return e.stop()}}),e)}))),function(e){return xs.apply(this,arguments)}),headerName:"Цена (Аренда)",width:function(){return 300}},{type:it.Compute,sortable:!1,field:"status",headerName:"Статус",compute:(gs=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,e.next=3,Io.dealViewService.readStatusByBidId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return gs.apply(this,arguments)}),width:function(){return 150}},{type:it.Compute,headerName:"Дата создания",compute:function(e){var t=e.$createdAt;return f(t).format("DD/MM/YYYY")},sortable:!0,field:"$createdAt",width:function(){return 200}},{type:it.Compute,headerName:"Дата обновления",compute:function(e){var t=e.$updatedAt;return f(t).format("DD/MM/YYYY")},sortable:!0,field:"$updatedAt",width:function(){return 200}},{type:it.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],Ls=[{label:"Редактировать",isDisabled:function(e,t){return!t.permissions.hasBidUpdatePermission},action:"edit-action",icon:ut},{label:"В архиве",action:"toggle-archive",icon:st,isVisible:function(e){return!e.system_is_archive}},{label:"В архиве",action:"toggle-archive",icon:ct,isVisible:function(e){return!!e.system_is_archive}},{label:"Создать копию",isVisible:function(e){return 5===e.accessLevel},action:"copy-action",icon:dt},{label:"Удалить",action:"remove-action",isVisible:function(e){return 5===e.accessLevel},icon:pt}],Ms=function(){return mt(Io.bidViewService.paginate,{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError})},Is=function(){return window.innerHeight-70},Ds=function(){return window.innerHeight-70},Bs=function(){return window.innerHeight-70},js=function(){return window.innerHeight-70},qs=[{id:"common",element:function(e){var n=e.payload,a=ft(Io.bidViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=Ms(),u=function(){var e=r(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io.layoutService.setAppbarLoader(!0),e.prev=1,"edit-action"===n&&Io.routerService.push("/bid_edit/".concat(r.id)),"remove-action"!==n){e.next=7;break}return e.next=6,Io.bidViewService.remove(r.id);case 6:a.next();case 7:if("copy-action"!==n){e.next=14;break}return e.next=10,Io.bidViewService.read(r.id);case 10:return i=e.sent,e.next=13,Io.bidViewService.create(i);case 13:a.next();case 14:if("toggle-archive"!==n){e.next=18;break}return e.next=17,Io.bidViewService.toggleArchive(r.id);case 17:a.next();case 18:return e.prev=18,Io.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasBidViewPermission&&Io.routerService.push("/bid_view/".concat(n.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,reloadSubject:a,title:"Заявки",filterLabel:"Фильтры",heightRequest:Ds,rowActions:Ls,actions:ys,filters:ks,columns:Vs,handler:l,onRowAction:u,onRowClick:s,onAction:function(e){"add-action"===e&&Io.routerService.push("/bid/create")},selectionMode:vt.Multiple,payload:n},o))})},isActive:function(e){return Uo(["/bid"],e)},isAvailable:function(){return!1}},{id:"rent",element:function(e){var n=e.payload,a=ft(Io.bidViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=Ms(),u=function(){var e=r(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io.layoutService.setAppbarLoader(!0),e.prev=1,"edit-action"===n&&Io.routerService.push("/bid_edit/".concat(r.id)),"remove-action"!==n){e.next=7;break}return e.next=6,Io.bidViewService.remove(r.id);case 6:a.next();case 7:if("copy-action"!==n){e.next=14;break}return e.next=10,Io.bidViewService.read(r.id);case 10:return i=e.sent,e.next=13,Io.bidViewService.create(i);case 13:a.next();case 14:if("toggle-archive"!==n){e.next=18;break}return e.next=17,Io.bidViewService.toggleArchive(r.id);case 17:a.next();case 18:return e.prev=18,Io.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasBidViewPermission&&Io.routerService.push("/bid_view/".concat(n.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,reloadSubject:a,title:"Заявки",filterLabel:"Фильтры",heightRequest:Bs,rowActions:Ls,actions:ys,filters:ks,columns:Vs,handler:l,onRowAction:u,onRowClick:s,onAction:function(e){"add-action"===e&&Io.routerService.push("/bid/create")},selectionMode:vt.Multiple,payload:i(i({},n),{},{_rent:!0})},o))})},isActive:function(e){return Uo(["/bid_rent"],e)},isAvailable:function(){return!1}},{id:"sell",element:function(e){var n=e.payload,a=ft(Io.bidViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=Ms(),u=function(){var e=r(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io.layoutService.setAppbarLoader(!0),e.prev=1,"edit-action"===n&&Io.routerService.push("/bid_edit/".concat(r.id)),"remove-action"!==n){e.next=7;break}return e.next=6,Io.bidViewService.remove(r.id);case 6:a.next();case 7:if("copy-action"!==n){e.next=14;break}return e.next=10,Io.bidViewService.read(r.id);case 10:return i=e.sent,e.next=13,Io.bidViewService.create(i);case 13:a.next();case 14:if("toggle-archive"!==n){e.next=18;break}return e.next=17,Io.bidViewService.toggleArchive(r.id);case 17:a.next();case 18:return e.prev=18,Io.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasBidViewPermission&&Io.routerService.push("/bid_view/".concat(n.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,reloadSubject:a,title:"Заявки",filterLabel:"Фильтры",heightRequest:js,rowActions:Ls,actions:ys,filters:ks,columns:Vs,handler:l,onRowAction:u,onRowClick:s,onAction:function(e){"add-action"===e&&Io.routerService.push("/bid/create")},selectionMode:vt.Multiple,payload:i(i({},n),{},{_sell:!0})},o))})},isActive:function(e){return Uo(["/bid_sell"],e)},isAvailable:function(){return!1}},{id:"archive",element:function(e){var n=e.payload,a=ft(Io.bidViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=Ms(),u=function(){var e=r(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io.layoutService.setAppbarLoader(!0),e.prev=1,"edit-action"===n&&Io.routerService.push("/bid_edit/".concat(r.id)),"remove-action"!==n){e.next=7;break}return e.next=6,Io.bidViewService.remove(r.id);case 6:a.next();case 7:if("copy-action"!==n){e.next=14;break}return e.next=10,Io.bidViewService.read(r.id);case 10:return i=e.sent,e.next=13,Io.bidViewService.create(i);case 13:a.next();case 14:if("toggle-archive"!==n){e.next=18;break}return e.next=17,Io.bidViewService.toggleArchive(r.id);case 17:a.next();case 18:return e.prev=18,Io.layoutService.setAppbarLoader(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[1,,18,21]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasBidViewPermission&&Io.routerService.push("/bid_view/".concat(n.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,reloadSubject:a,title:"Заявки",filterLabel:"Фильтры",heightRequest:Is,rowActions:Ls,actions:ys,filters:ks,columns:Vs,handler:l,onRowAction:u,onRowClick:s,onAction:function(e){"add-action"===e&&Io.routerService.push("/bid/create")},selectionMode:vt.Multiple,payload:i(i({},n),{},{_archive:!0})},o))})},isActive:function(e){return Uo(["/bid_archive"],e)},isAvailable:function(){return!1}}],Rs=[{id:"contact",label:"Контакт",isActive:function(){return Uo(["/bid_edit/:id/contact"])}},{id:"parameter",label:"Параметры заявки",isActive:function(){return Uo(["/bid_edit/:id","/bid_edit/:id/parameter"])}},{id:"tasks",label:"Задачи",isDisabled:function(){return!0},isActive:function(){return Uo(["/bid_edit/:id/tasks"])}},{id:"service_comment",label:"Служебный комментарий",isDisabled:function(){return!0},isActive:function(){return Uo(["/bid_edit/:id/service_comment"])}},{id:"history",label:"История",isDisabled:function(){return!0},isActive:function(){return Uo(["/bid_edit/:id/history"])}},{id:"documents",label:"Документы",isActive:function(){return Uo(["/bid_edit/:id/documents"])}},{id:"commission_and_status",label:"Комиссия и статус",isDisabled:function(){return!0},isActive:function(){return Uo(["/bid_edit/:id/commission_and_status"])}}],Ps=function(e,t){if(!t){var n=Bi("id","create");"contact"===e&&Io.routerService.replace("/bid_edit/".concat(n,"/contact")),"parameter"===e&&Io.routerService.replace("/bid_edit/".concat(n,"/parameter")),"tasks"===e&&Io.routerService.replace("/bid_edit/".concat(n,"/tasks")),"service_comment"===e&&Io.routerService.replace("/bid_edit/".concat(n,"/service_comment")),"history"===e&&Io.routerService.replace("/bid_edit/".concat(n,"/history")),"documents"===e&&Io.routerService.replace("/bid_edit/".concat(n,"/documents")),"commission_and_status"===e&&Io.routerService.replace("/bid_edit/".concat(n,"/commission_and_status"))}},Es=function(e){var t=e.payload,n=e.children,r=e.mode,a=void 0===r?P.Paper:r,i=he.useMemo((function(){return"tabs"===a?P.Tabs:P.Paper}),[a]);return ce(Ue,{withFixedPos:!0,payload:t,fixedPosHeaderAdjust:a===P.Paper?85:64,mode:i,options:Rs,onActiveOptionChange:Ps,children:n})},Ns=[{type:de.Link,action:"list-action",label:"Заявки"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование контакта"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание контакта"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],Us=[{id:"contact",label:"Контакт",isActive:function(){return Uo(["/bid_view/:id/contact"])}},{id:"parameter",label:"Параметры заявки",isActive:function(){return Uo(["/bid_view/:id","/bid_view/:id/parameter"])}},{id:"tasks",label:"Задачи",isActive:function(){return Uo(["/bid_view/:id/tasks"])}},{id:"service_comment",isVisible:function(e){return e.permissions.hasMasterDetailPermission},label:"Служебный комментарий",isActive:function(){return Uo(["/bid_view/:id/service_comment"])}},{id:"history",label:"История",isActive:function(){return Uo(["/bid_view/:id/history"])}},{id:"documents",label:"Документы",isActive:function(){return Uo(["/bid_view/:id/documents"])}},{id:"commission_and_status",label:"Комиссия и статус",isDisabled:function(){return!0},isActive:function(){return Uo(["/bid_view/:id/commission_and_status"])}}],Hs=function(e,t){if(!t){var n=Bi("id","create");"contact"===e&&Io.routerService.replace("/bid_view/".concat(n,"/contact")),"parameter"===e&&Io.routerService.replace("/bid_view/".concat(n,"/parameter")),"tasks"===e&&Io.routerService.replace("/bid_view/".concat(n,"/tasks")),"service_comment"===e&&Io.routerService.replace("/bid_view/".concat(n,"/service_comment")),"history"===e&&Io.routerService.replace("/bid_view/".concat(n,"/history")),"documents"===e&&Io.routerService.replace("/bid_view/".concat(n,"/documents")),"commission_and_status"===e&&Io.routerService.replace("/bid_view/".concat(n,"/commission_and_status"))}},Ws=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?P.Paper:r,i=he.useMemo((function(){return"tabs"===a?P.Tabs:P.Paper}),[a]);return ce(Ue,{payload:n,withFixedPos:!0,fixedPosHeaderAdjust:a===P.Paper?85:64,mode:i,options:Us,onActiveOptionChange:Hs,children:t})},Os=[{type:de.Link,action:"list-action",label:"Заявки"},{type:de.Link,action:"list-action",label:"Просмотр Контакта"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasBidUpdatePermission},action:"edit-action",label:"Редактировать"}],Gs=function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.bidViewService.read(n);case 2:return r=e.sent,a=r.contact_id,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$s=[{type:a.Fragment,isVisible:function(e){return 0===e.activeStep},fields:[{type:a.Component,element:function(){return ce(me,{variant:"h6",fontWeight:"bold",mb:2,children:"Данные контакта"})}},{type:a.Text,outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:a.Text,outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]},{type:a.Fragment,isVisible:function(e){return 2===e.activeStep},fields:[{type:a.Component,element:function(){return ce(me,{variant:"h6",fontWeight:"bold",mb:1,children:"Предпросмотр"})}},{type:a.Component,isVisible:function(e){return!e.contact_id},element:function(){return ce(fe,{variant:"outlined",color:"warning",sx:{mb:2},children:"Создавая новую заявку, убедитесь, что нет дубликата контакта"})}},{type:a.Component,isVisible:function(e){return!!e.contact_id},element:function(){return ce(fe,{variant:"outlined",color:"info",sx:{mb:2},children:"Убедитесь, что это контактные данные клиента"})}},{type:a.Text,isVisible:function(e){return!!e.contact_id},compute:(Ts=r(t().mark((function e(n){var r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.fio,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return Ts.apply(this,arguments)}),disabled:!0,outlined:!0,title:"Ф.И.О"},{type:a.Text,isVisible:function(e){return!!e.contact_id},compute:(Fs=r(t().mark((function e(n){var r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.telefon,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return Fs.apply(this,arguments)}),fieldBottomMargin:"0",disabled:!0,outlined:!0,title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000"},{type:a.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:a.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]}],Ys=[{type:de.Link,action:"list-action",label:"Список заявок"},{type:de.Link,action:"list-action",label:"Создание заявки"}],Zs=jo()((function(e){return{root:{position:"relative",overflow:"hidden"},header:{position:"absolute",top:0,left:0,height:65,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),background:"whitesmoke",width:"100%"},content:{minHeight:300},adjust:{paddingBottom:65},listItemBackground:{background:pe(e.palette.primary.main,.05)}}})),Xs=[{type:de.Link,action:"list-action",label:"Заявки"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"!==e.id},label:"Редактирование документа"},{type:de.Link,action:"list-action",isVisible:function(e){return"create"===e.id},label:"Создание документа"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],Ks=[{type:de.Link,action:"list-action",label:"Заявки"},{type:de.Link,action:"list-action",label:"Просмотр документа"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasBidUpdatePermission},action:"edit-action",label:"Редактировать"}],Js="real-estate__headerRoot",Qs=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",label:"Просмотр объекта"}],ec=[{type:a.Complete,fieldRightMargin:"0",outlined:!1,name:"strana",title:"Страна",tip:(Cs=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Узбекистан"]);case 1:case"end":return e.stop()}}),e)}))),function(){return Cs.apply(this,arguments)})},{type:a.Complete,fieldRightMargin:"0",outlined:!1,name:"gorod",title:"Город",tip:["Ташкент"]},{type:a.Complete,fieldRightMargin:"0",outlined:!1,name:"oblast",title:"Область",tip:(As=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["Ташкентская область"]);case 1:case"end":return e.stop()}}),e)}))),function(){return As.apply(this,arguments)})},{type:a.Complete,fieldRightMargin:"0",outlined:!1,name:"rajon",title:"Район",tip:["Алмазарский район","Бектемирский район","Мирабадский район","Мирзо-Улугбекский район","Сергелийский район","Учтепинский район","Чиланзарский район","Шайхантахурский район","Юнусабадский район","Яккасарайский район","Янгихаётский район","Яшнабадский район"]},{type:a.Complete,fieldRightMargin:"0",tip:Io.dictService.getMahallya,outlined:!1,name:"mahallya",title:"Махалля"},{type:a.Complete,fieldRightMargin:"0",tip:Io.dictService.getUlicza,outlined:!1,name:"ulicza",title:"Улица"},{type:a.Text,fieldRightMargin:"0",outlined:!1,name:"orientir",title:"Ориентир"},{type:a.Combo,fieldRightMargin:"0",freeSolo:!0,outlined:!1,name:"metro",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:a.Fragment,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Text,columns:"6",outlined:!1,name:"nomer_doma",title:"№ дома"},{type:a.Text,fieldRightMargin:"0",columns:"6",outlined:!1,name:"nomer_kvartiry",title:"№ квартиры"}]},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=(t=t||null!==e.kategoriya_obekta)||null!==e.podkategoriya_obekta)&&!nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Text,fieldRightMargin:"0",outlined:!1,name:"nomer_doma",title:"№ дома"}]},{type:a.Component,element:ru}];window.address_fields=ec;var tc=[{type:a.Items,labelShrink:!0,placeholder:"Выберите несколько",freeSolo:!0,outlined:!1,name:"metro_list",title:"Метро",itemList:["А. Ходжаев","Абдулла Кодирий","Алишер Навоий","Амир Темур хиёбони","Беруний","Бобур","Бодомзор","Буюк Ипак йули","Гофур Гулом","Дружба народов","Дустлик","Жанубий","Космонавтлар","Машинасозлар","Миллий бог","Мингурик","Минор","Мирзо Улугбек","Мустакиллик майдони","Новза","Ойбек","Олмазор","Отчопар","Пахтакор","Пушкинская","Сергели","Тинчлик","Тошкент","Тукимачи","Туркистон","Турсунзода","Узбекистон","Усмон Носыр","Файзулла Ходжаев","Хамид Олимжон","Чилонзор","Чорсу","Чош-тепа","Шахристан","Эхтиром","Юнус Ражабий","Юнусабад"]},{type:a.Items,labelShrink:!0,freeSolo:!0,placeholder:"Выберите несколько",fieldRightMargin:"0",outlined:!1,name:"rajon_list",title:"Район",itemList:["Алмазарский район","Бектемирский район","Мирабадский район","Мирзо-Улугбекский район","Сергелийский район","Учтепинский район","Чиланзарский район","Шайхантахурский район","Юнусабадский район","Яккасарайский район","Янгихаётский район","Яшнабадский район"]},{type:a.Items,labelShrink:!0,freeSolo:!0,placeholder:"Выберите несколько",fieldRightMargin:"0",itemList:Io.dictService.getMahallya,outlined:!1,name:"mahallya_list",title:"Махалля"}];window.area_fields=tc;var nc=54,rc=jo()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",overflow:"hidden",height:775},container:{overflow:"hidden",padding:e.spacing(1),flex:1},appBarRoot:{background:e.palette.primary.main,maxHeight:nc,height:nc,boxShadow:"unset",color:"#000"},tabsRoot:{minHeight:nc,height:nc,marginLeft:"0 !important",marginRight:"0 !important"},tabRoot:{minHeight:nc,height:nc,color:"#fff"},tabRootTransparent:{minHeight:nc,height:nc},tabSelected:{color:"#fff !important"},indicator:{height:6,background:"#0288d1"},indicatorTransparent:{height:6,background:e.palette.primary.main}}})),ac={},ic=function(e){var t=e.title,n=e.name,r=e.sx,i=e.features;return[{type:a.Group,features:i,fields:[{type:a.Component,sx:r,element:function(){return ce(me,{variant:"caption",sx:{opacity:.8},children:t})}},{type:a.Box,sx:{display:"grid",gridTemplateColumns:"1fr 1fr 125px 125px",mt:-1},fields:[{type:a.Text,sx:{"& .MuiIconButton-root":{pointerEvents:"none"}},isInvalid:function(e){return e["".concat(n,"_ot")]&&e["".concat(n,"_do")]&&parseInt(e["".concat(n,"_ot")])>parseInt(e["".concat(n,"_do")])?"От должно быть меньше До":null},fieldBottomMargin:"0",outlined:!1,name:"".concat(n,"_ot"),title:"",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",defaultValue:"",leadingIcon:function(){return ce(we,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ce(me,{textTransform:"lowercase",variant:"caption",children:"От"})})}},{type:a.Text,sx:{"& .MuiIconButton-root":{pointerEvents:"none"}},isInvalid:function(e){return e["".concat(n,"_ot")]&&e["".concat(n,"_do")]&&parseInt(e["".concat(n,"_ot")])>parseInt(e["".concat(n,"_do")])?"От должно быть меньше До":null},fieldBottomMargin:"0",outlined:!1,name:"".concat(n,"_do"),title:"",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",defaultValue:"",leadingIcon:function(){return ce(we,{sx:{height:20,width:20,display:"flex",alignItems:"center",justifyContent:"center"},children:ce(me,{textTransform:"lowercase",variant:"caption",children:"До"})})}},{type:a.Combo,noDeselect:!0,fieldBottomMargin:"0",title:"",placeholder:"USD",itemList:["usd","uzs"],tr:function(e){return"uzs"===e?"SUM":"USD"},defaultValue:"usd",outlined:!1,name:"".concat(n,"_valyuta")},{type:a.Combo,noDeselect:!0,title:"",fieldBottomMargin:"1",name:"".concat(n,"_for"),itemList:["М2","Итог"],tr:function(e){return"М2"===e?"м²":e},placeholder:"Итог",defaultValue:"Итог"}]}]}]},oc=function(e){var t=e.title,n=e.sx,r=e.name,i=r.value,l=void 0===i?"rent_kom_komissiya_agenstva":i,u=r.percent,s=void 0===u?"rent_kom_komissiya_agenstva_unit":u;return[{type:a.Text,hidden:!0,name:l,defaultValue:""},{type:a.Text,hidden:!0,name:s,defaultValue:""},{type:a.Component,sx:n,fieldBottomMargin:"1",fieldRightMargin:"1",columns:"6",element:function(e){var n=e._fieldData,r=e.onChange,a=o(he.useState(n[l]||""),2),i=a[0],u=a[1],d="1"===n[s]?"1":"%",p=U.debounce((function(e){r(c({},l,e))}),300);return he.useEffect((function(){return function(){p.flush()}}),[]),ce(wt,{label:t,defaultValue:n[l]||"",onChange:function(e){var t=e.target,n=isNaN(t.value)?i:t.value;t.value=n,p(n),u(n)},onBlur:function(){return p.flush()},variant:"standard",fullWidth:!0,InputProps:{startAdornment:ce(St,{sx:{userSelect:"none",cursor:"pointer"},onClick:function(){"1"===d&&r(c({},s,"%")),"%"===d&&r(c({},s,"1"))},position:"start",children:["%"===d&&ce(Nt,{}),"1"===d&&ce(Ut,{})]})}})}}]},lc=[{type:a.Fragment,isVisible:function(e){var t=e.kategoriya_obekta;return nt(t,"Жилая","Новостройка")},fields:[{type:a.Component,fieldBottomMargin:"0",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Стоимость объекта"})}}].concat(p(ic({title:"Цена собственника",features:["hasOwnerPricePermission"],name:"rent_czena"})),p(ic({title:"Стартовая цена",name:"rent_startovaya_czena"})),[{type:a.Fragment,features:["hasCommissionPermission"],fields:[{type:a.Checkbox,isDisabled:function(e,t){return t.readonly},fieldBottomMargin:"1",name:"rent_torg",title:"Торг"}].concat(p(oc({title:"Комиссия агенства",sx:{marginTop:"3px"},name:{percent:"rent_komissiya_agenstva_unit",value:"rent_komissiya_agenstva"}})),p(oc({title:"Комиссия менеджера",sx:{marginTop:"3px"},name:{percent:"rent_komissiya_menedzhera_unit",value:"rent_komissiya_menedzhera"}})))}])},{type:a.Fragment,isVisible:function(e){var t=e.kategoriya_obekta;return nt(t,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"0",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Стоимость объекта ком."})}}].concat(p(ic({title:"Цена собственника",features:["hasOwnerPricePermission"],name:"rent_kom_czena_sobstvennika"})),p(ic({title:"Стартовая цена",name:"rent_kom_startovaya_czena"})),[{type:a.Fragment,features:["hasCommissionPermission"],fields:[{type:a.Checkbox,isVisible:function(e,t){return!t.readonly},fieldBottomMargin:"0",name:"rent_kom_torg",title:"Торг"}].concat(p(oc({title:"Комиссия агенства",sx:{marginTop:"3px"},name:{value:"rent_kom_komissiya_agenstva",percent:"rent_kom_komissiya_agenstva_unit"}})),p(oc({title:"Комиссия менеджера",sx:{marginTop:"3px"},name:{value:"rent_kom_komissiya_menedzhera",percent:"rent_kom_komissiya_menedzhera_unit"}})))}])}];window.price_range_rent_fields=lc;var uc=[{type:a.Fragment,isVisible:function(e){var t=e.kategoriya_obekta;return nt(t,"Жилая","Новостройка")},fields:[{type:a.Component,fieldBottomMargin:"0",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Стоимость объекта"})}}].concat(p(ic({title:"Цена собственника",features:["hasOwnerPricePermission"],name:"prod_czena"})),p(ic({title:"Стартовая цена",name:"prod_startovaya_czena"})),[{type:a.Fragment,features:["hasCommissionPermission"],fields:[{type:a.Checkbox,isDisabled:function(e,t){return t.readonly},fieldBottomMargin:"0",name:"prod_torg",title:"Торг"}].concat(p(oc({title:"Комиссия агенства",sx:{marginTop:"3px"},name:{percent:"prod_komissiya_agenstva_unit",value:"prod_komissiya_agenstva"}})),p(oc({title:"Комиссия менеджера",sx:{marginTop:"3px"},name:{percent:"prod_komissiya_menedzhera_unit",value:"prod_komissiya_menedzhera"}})))}])},{type:a.Fragment,isVisible:function(e){var t=e.kategoriya_obekta;return nt(t,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"0",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Стоимость объекта ком."})}}].concat(p(ic({title:"Цена собственника",features:["hasOwnerPricePermission"],name:"prod_kom_czena_sobstvennika"})),p(ic({title:"Стартовая цена",name:"prod_kom_startovaya_czena"})),[{type:a.Fragment,features:["hasCommissionPermission"],fields:[{type:a.Checkbox,isDisabled:function(e,t){return t.readonly},fieldBottomMargin:"0",name:"prod_kom_torg",title:"Торг"}].concat(p(oc({sx:{marginTop:"3px"},title:"Комиссия агенства",name:{value:"prod_kom_komissiya_agenstva",percent:"prod_kom_komissiya_agenstva_unit"}})),p(oc({sx:{marginTop:"3px"},title:"Комиссия менеджера",name:{value:"prod_kom_komissiya_menedzhera",percent:"prod_kom_komissiya_menedzhera_unit"}})))}])}];window.price_range_sell_fields=uc;var sc=54,cc=jo()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",overflow:"hidden",pointerEvents:"all"},container:{overflowX:"hidden",overflowY:"scroll",paddingTop:0,paddingBottom:0,paddingLeft:e.spacing(1),paddingRight:e.spacing(1),flex:1},appBarRoot:{background:e.palette.primary.main,maxHeight:sc,height:sc,boxShadow:"unset",color:"#000"},tabsRoot:{minHeight:sc,height:sc,marginLeft:"0 !important",marginRight:"0 !important"},tabRoot:{minHeight:sc,height:sc,color:"#fff"},tabRootTransparent:{minHeight:sc,height:sc},tabSelected:{color:"#fff !important"},indicator:{height:6,background:"#0288d1"},indicatorTransparent:{height:6,background:e.palette.primary.main}}})),dc={},pc=function(e){var t=e.sx,n=e.features,r=e.withTransparentHeader,a=void 0!==r&&r,l=e.withRentTab,u=void 0!==l&&l,s=e.withSellTab,c=void 0!==s&&s,d=e.readonly,p=void 0!==d&&d,m=e.fieldData,f=void 0===m?dc:m,y=e.onChange,h=cc().classes,v=o(he.useState("rent"),2),b=v[0],_=v[1];return he.useEffect((function(){c?_("sell"):u&&_("rent")}),[u,c]),ce(_e,{className:h.root,sx:i(i({},t),{},{height:"100%"}),children:ce(Ht,{value:b,children:[a&&ce(we,{sx:{borderBottom:1,borderColor:"divider"},children:ce(Wt,{variant:"fullWidth",classes:{root:h.tabsRoot,indicator:h.indicatorTransparent},onChange:function(e,t){return _(t)},children:[c&&ce(Ot,{classes:{root:h.tabRootTransparent},label:"Продажа",value:"sell"}),u&&ce(Ot,{classes:{root:h.tabRootTransparent},label:"Аренда",value:"rent"})]})}),!a&&ce(Gt,{classes:{root:h.appBarRoot},position:"static",sx:{borderBottom:1,borderColor:"divider"},children:ce(Wt,{variant:"fullWidth",classes:{root:h.tabsRoot,indicator:h.indicator},onChange:function(e,t){return _(t)},children:[c&&ce(Ot,{classes:{root:h.tabRoot,selected:h.tabSelected},label:"Продажа",value:"sell"}),u&&ce(Ot,{classes:{root:h.tabRoot,selected:h.tabSelected},label:"Аренда",value:"rent"})]})}),c&&ce($t,{className:h.container,value:"sell",children:ce(Te,{readonly:p,features:n,payload:function(){return{readonly:p}},handler:f,fields:uc,onChange:y})}),u&&ce($t,{className:h.container,value:"rent",children:ce(Te,{readonly:p,features:n,payload:function(){return{readonly:p}},handler:f,fields:lc,onChange:y})})]})})},mc=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая недвижимость)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Земля/Участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Квартиры)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Дома)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая квартира)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческий дом)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади (Коммерческая земля/участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]}],fc=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая недвижимость)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Терраса","Угловой","Комната охраны","Вдоль дороги","Сарай","Огород","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая квартира)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж","Угловой","Вдоль дороги"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческий дом)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Комната охраны","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка","Разгрузочный пандус","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Вдоль дороги","Решетки на окнах","Пожарная сигнализация","Видеонаблюдение","Сигнализация"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Коммерческая земля/участок)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],yc=[{type:a.Fragment,isVisible:function(e){return(!nt(e.podkategoriya_obekta,"Земля/Участок")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Дома")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Квартиры")||!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.kategoriya_obekta,"Коммерческая")))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая недвижимость)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_obekta",title:"Состояние объекта",itemList:["Новой постройки","Недостроенный","Под снос","Коробка","Пустая земля/участок"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_stroeniya",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"mebel",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},{type:a.Items,columns:"4",outlined:!1,name:"voda",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"lift_kommercziya",title:"Лифт",itemList:["Есть","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema_otopleniya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,columns:"4",outlined:!1,name:"elektrichestvo",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya",title:"Канализация",itemList:["Да","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mestopolozhenie_obekta",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Items,columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}}]}},{type:a.Fragment,isVisible:function(e){if(nt(e.podkategoriya_obekta,"Квартиры")&&nt(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Квартиры)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]}]}},{type:a.Fragment,isVisible:function(e){if(nt(e.podkategoriya_obekta,"Дома")&&nt(e.kategoriya_obekta,"Коммерческая"))return!1;var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Дома)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},{type:a.Items,outlined:!1,columns:"4",name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]}]}},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")&&nt(e.podkategoriya_obekta,"Земля/Участок")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Земля/Участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Component,sx:{mb:2,pr:1},columns:"4",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(c({},"naznachenie-obekta_zemlya",t))}})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Items,columns:"4",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Квартиры"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая квартира)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_remonta-kvartiry",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip-stroeniya_kvartiry",title:"Тип строения",itemList:["Кирпичный","Монолитный","Блочный","Панельный","Деревянный","Газоблочный","Бетонно-керамзитный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon_kvartira",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Малосемейная","Общежитие","Пентхаус","Дуплекс","Комната"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"lift_kvartira",title:"Лифт",itemList:["Пассажирский","Грузовой","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:a.Complete,columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel_kvartira",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka_kvartira",title:"Парковка",itemList:["Наземная","Собственная","Подземная","В аренду","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mebel_kvartira",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_kvartiry",title:"Система отопления",itemList:["Центральное","2х контурный котел","Теплый пол"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"vid_iz_okna",title:"Вид из окна",itemList:["Во двор","На улицу","На трассу"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"gaz",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,columns:"4",outlined:!1,name:"sistema_kondiczionirovaniya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Дома"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческий дом)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_doma",title:"Состояние дома",itemList:["Новой постройки","Недостроенный","Под снос","Коробка"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mestopolozhenie-obekta_dom",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},{type:a.Component,sx:{pr:1,mb:2},columns:"4",name:"naznachenie_obekta",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Офис",value:"Офис"},{label:"Салон",value:"Салон"},{label:"Магазин/Бутик",value:"Магазин/Бутик"},{label:"Мед. центр",value:"Мед. центр"},{label:"Учебный центр",value:"Учебный центр"},{label:"Помещение свободного назначения",value:"Помещение свободного назначения"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Школа",value:"Школа"},{label:"Детский сад",value:"Детский сад"},{label:"Рестораны/Кафе/Бары",value:"Рестораны/Кафе/Бары"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Территория промышленного назначения",value:"Территория промышленного назначения",child:[{label:"Завод",value:"Завод"},{label:"Фабрика",value:"Фабрика"},{label:"Склад",value:"Склад"},{label:"Бокс",value:"Бокс"},{label:"Цеха",value:"Цеха"}]},{label:"Складское помещение",value:"Складское помещение",child:[{label:"Холодное",value:"Холодное"},{label:"С отоплением",value:"С отоплением"},{label:"Фармацевтический склад",value:"Фармацевтический склад"}]},{label:"Отдельностоящее здание",value:"Отдельностоящее здание"},{label:"Часть здания",value:"Часть здания"}],value:e.naznachenie_obekta,onChange:function(t){return e.onChange(c({},"naznachenie_obekta",t))}})}},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie_remonta",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip-stroeniya_doma",title:"Тип строения",itemList:["Кирпичный","Монолитный","Монолитно-кирпичный","Панельный","Деревянный","Газоблочный","Блочный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"raspolozhenie_doma",title:"Расположение дома",itemList:["По середине","В начале двора","В конце двора"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"ploshhad_doma",title:"Площадь дома М²"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_planirovki",title:"Тип планировки",itemList:["Смежные","Раздельные","Смежно-раздельная","Студия","Евростудия","Малогаборитная","Смешанный"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"bassejn",title:"Бассейн",itemList:["Летний","Зимний","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sanuzel_doma",title:"Санузел",itemList:["Совмещенный","Раздельный","2 и более","На улице"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"voda_dom",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение","На границе"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"lift_dom",title:"Лифт",itemList:["Есть","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_dom",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"mebel_dom",title:"Мебель",itemList:["Да","Нет","Частично","Мебель + Техника"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"gaz_dom",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"vysota_potolkov",title:"Высота потолков"}),{type:a.Combo,sx:{mt:2},columns:"4",outlined:!1,name:"elektrichestvo_dom",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"vid_iz_okna_dom",title:"Вид из окна",itemList:["В огород","На улицу","На трассу"]},{type:a.Items,columns:"4",outlined:!1,name:"garazh",title:"Гараж",itemList:["Подземный","Закрытый","Под навесом","Уличный"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_dom",title:"Канализация",itemList:["Да","Нет"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"balkon_doma",title:"Балкон",itemList:["Лоджия","Навесной","Балкон открытый","2x6","2 и более","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_dom",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]}]}},{type:a.Fragment,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Земля/Участок"))},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация объекта (Коммерческая земля/участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Component,sx:{mt:2,mb:2,pr:1},columns:"4",name:"naznachenie-obekta-zemlya_uchastok",element:function(e){return ce(rt,{variant:"standard",label:"Назначение объекта",items:[{label:"Сельхоз использование",value:"Сельхоз использование"},{label:"ИЖС",value:"ИЖС"},{label:"Высотная застройка",value:"Высотная застройка"},{label:"Промышленное назначение",value:"Промышленное назначение"},{label:"ТЦ",value:"ТЦ"},{label:"Гостиница/Хостел",value:"Гостиница/Хостел"},{label:"Зона отдыха",value:"Зона отдыха"},{label:"Склады",value:"Склады"},{label:"Инвестпроект",value:"Инвестпроект"},{label:"Строительство образовательных учреждений",value:"Строительство образовательных учреждений"},{label:"АЗС",value:"АЗС"},{label:"Мойка",value:"Мойка"}],value:e["naznachenie-obekta_zemlya"],onChange:function(t){return e.onChange(c({},"naznachenie-obekta_zemlya",t))}})}},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"obshhaya_ploshhad",title:"Общая площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazh",title:"Этаж"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"tip_zemli_uchastka",title:"Тип земли/участка",itemList:["Делимый","Неделимый"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"etazhnost",title:"Этажность"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie-obekta_zemlya",title:"Состояние объекта",itemList:["Пустая земля/участок","Недостроенная","Под снос"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sostoyanie-remonta_zemlya",title:"Состояние ремонта",itemList:["Дизайнерский","Евро","Отличное","Косметический","Без ремонта","Предчистовая отделка","Коробка","Требуется ремонт"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"parkovka_zemlya",title:"Парковка",itemList:["Наземная","Собственная","Подземная","Платная","Нет"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"voda_zemlya",title:"Вода",itemList:["В доме","Скважена","Колодец на участке","Возможное проведение","Центральное водоснабжение"]},{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"mestopolozhenie-obekta_zemlya",title:"Местоположение объекта",itemList:["В городе","В пригороде","В сельской местности","Вдоль трассы","Возле водоема/реки","В предгорьях","В дачном массиве","На закрытой территории"]},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"sistema-otopleniya_zemlya",title:"Система отопления",itemList:["Центральное","На газе","Электро","Смешанный","Без отопления","На твердом топливе","На жидком топливе"]},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",name:"god_postrojki",title:"Год постройки"}),{type:a.Items,sx:{mt:2},columns:"4",outlined:!1,name:"elektrichestvo_zemlya",title:"Электричество",itemList:["Есть","Есть возможность подключения","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"podezdnye_puti",title:"Подъездные пути",itemList:["Асфальтированная дорога","Грунтовая дорога","Нет"]},{type:a.Items,columns:"4",outlined:!1,name:"sistema-kondiczionirovaniya_zemlya",title:"Система кондиционирования",itemList:["Чиллеры","Напольные","Настенные"]},{type:a.Items,columns:"4",outlined:!1,name:"gaz_zemlya",title:"Газ",itemList:["Магистральный","Автономный","Есть возможность подключения","Нет"]},{type:a.Combo,columns:"4",outlined:!1,name:"kanalizacziya_zemlya",title:"Канализация",itemList:["Да","Нет"]}]}}],hc=[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Квартиры")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Квартиры)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Холодильник","Стиральная машина","Телевизор","Интернет","Мусоропровод","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Торец","Собственное обслуживающее ТСЖ","Консьерж"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Барбекю зона","Спортивная площадка","Охрана","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.podkategoriya_obekta,"Дома")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Дома)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Телефон","Телевизор","Интернет","Газовая плита","Электроплита","Духовой шкаф","Вытяжка","Кондиционер","Пылесос","Утюг","Умный дом","Цоколь","Подвал","Гардеробная","Терраса","Угловой","Комната охраны","Вдоль дороги","Гостевой домик","Барбекю зона","2 дома во дворе","Сарай","Огород","Полисадник","Дополнительная пристройка"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка"]}]}]}},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||nt(e.podkategoriya_obekta,"Земля/Участок"))&&!nt(e.kategoriya_obekta,"Коммерческая")},child:{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Group,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте (Земля/Участок)"})}},{type:a.Items,columns:"6",outlined:!1,name:"vnutri_est",title:"Внутри есть:",itemList:["Интернет","Забор","Катлаван","Сарай","Огород","Самострой","Угловой","Пожарная сигнализация","Видеонаблюдение","Сигнализация","Разгрузочный пандус"]},{type:a.Items,columns:"6",outlined:!1,name:"ryadom_est",title:"Рядом есть:",itemList:["Закрытый двор","Шлагбаум","Детская площадка","Охрана","Спортивная площадка","Парковая зона","Школа","Детский сад","Колледж","Университет","Рынок","Кафе/Рестораны","ТЦ","Супермаркет","Магазин","Аптека","Больница","Автобусная остановка","Ж/Д ветка"]}]}]}}],vc=[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:a.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:a.Fragment,isVisible:function(e){return nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Combo,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:a.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:a.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:a.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return nt(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок","Здания","Базы"]}},{type:a.Items,isVisible:function(e){if(nt(e.kategoriya_obekta,"Коммерческая")){if(nt(e.podkategoriya_obekta,"Дома"))return!1;if(nt(e.podkategoriya_obekta,"Земля/Участок"))return!1}return!0},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:a.Combo,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Дома"))||!nt(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:a.Combo,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:a.Items,isVisible:function(e){return!(!nt(e.kategoriya_obekta,"Коммерческая")||!nt(e.podkategoriya_obekta,"Земля/Участок"))},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]},{type:a.Fragment,isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Combo,outlined:!1,columns:"4",name:"kategoriya_obekta",title:"Категория объекта",itemList:["Коммерческая","Жилая","Новостройка"]},{type:a.Items,outlined:!1,columns:"4",name:"prodazha",title:"Продажа",itemList:["Прямая продажа","Рассрочка","Через банк","Обмен"]},{type:a.Items,outlined:!1,columns:"4",name:"arenda",title:"Аренда",itemList:["Долгосрочная","Ежемесячная","Посуточная"]},{type:a.Combo,outlined:!1,columns:"4",name:"podkategoriya_obekta",title:"Подкатегория объекта",isVisible:function(e){return!nt(e.kategoriya_obekta,"Коммерческая")},itemList:function(){return["Квартиры","Дома","Земля/Участок"]}},{type:a.Combo,columns:"4",outlined:!1,name:"istochnik",title:"Источник",itemList:["По звонку","Личные связи","Самостоятельный поиск","Риелтор","С сайта","Прибытие в офис","OLX","Facebook","Instagram","Telegram","Эксклюзив","Другое"]},{type:a.Complete,isVisible:function(e){return!!nt(e.podkategoriya_obekta,"Квартиры")&&!nt(e.kategoriya_obekta,"Коммерческая")},columns:"4",outlined:!1,name:"nazvanie_zhk",title:"Название ЖК",tip:["Вторичное жилье",'ЖК "Greenwich"','ЖК "OzMahal"','ЖК "Elysium"','ЖК "Binkat"','ЖК "Brooklyn"','ЖК "Assalom Havo"','ЖК "Istanbul City"']},{type:a.Combo,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Дома")},columns:"4",outlined:!1,name:"vid_obekta",title:"Вид объекта",itemList:["Дом","Коттедж","Таунхаус","ЖАКТ","Часть дома","Дача"]},{type:a.Items,isVisible:function(e){var t=!1;return t=(t=(t=t||nt(e.kategoriya_obekta,"Коммерческая"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"raspolozhenie_obekta",title:"Расположение объекта",itemList:["В бизнес-центре","В административном здании","В многоквартирном доме","В частном доме","В торговом центре","На торговом рынке","В промзоне","На рынке"]},{type:a.Items,isVisible:function(e){var t=!1;return t=t||nt(e.podkategoriya_obekta,"Земля/Участок")},columns:"4",outlined:!1,name:"vid_liczenzii",title:"Вид лицензии",itemList:["Коммерческая","Жилая"]}]}]}].concat(yc,[{type:a.Group,columns:"12",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:a.Component,columns:"6",fieldRightMargin:"1",fieldBottomMargin:"1",element:function(e){var t=e.sx,n=e.withTransparentHeader,r=void 0!==n&&n,a=e.readonly,l=void 0!==a&&a,u=e._fieldData,s=void 0===u?ac:u,c=e.onChange,d=rc().classes,p=o(he.useState("address"),2),m=p[0],f=p[1];return ce(_e,{className:d.root,sx:i(i({},t),{},{height:"100%"}),children:ce(Ht,{value:m,children:[r&&ce(we,{sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:ce(Wt,{variant:"fullWidth",classes:{root:d.tabsRoot,indicator:d.indicatorTransparent},onChange:function(e,t){return f(t)},children:[ce(Ot,{classes:{root:d.tabRootTransparent},label:"Адрес",value:"address"}),ce(Ot,{classes:{root:d.tabRootTransparent},label:"Территория",value:"area"})]})}),!r&&ce(Gt,{classes:{root:d.appBarRoot},position:"static",sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all"},children:ce(Wt,{variant:"fullWidth",classes:{root:d.tabsRoot,indicator:d.indicator},onChange:function(e,t){return f(t)},children:[ce(Ot,{classes:{root:d.tabRoot,selected:d.tabSelected},label:"Адрес",value:"address"}),ce(Ot,{classes:{root:d.tabRoot,selected:d.tabSelected},label:"Территория",value:"area"})]})}),ce($t,{className:d.container,value:"address",children:ce(Te,{readonly:l,sx:{marginRight:-8},payload:function(){return{readonly:l}},handler:s,fields:ec,onChange:c})}),ce($t,{className:d.container,value:"area",children:ce(Te,{readonly:l,payload:function(){return{readonly:l}},handler:s,fields:tc,onChange:c})})]})})}}},{type:a.Fragment,isVisible:function(e){var t=!1;return t=(t=t||null!==e.podkategoriya_obekta)||null!==e.kategoriya_obekta},child:{type:a.Group,style:{height:"100%"},columns:"6",fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:a.Component,style:{height:"calc(100% - 212px)"},fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData;return ce(pc,{withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:a.Text,inputRows:3,outlined:!1,name:"opisanie",title:"Описание"}]}]}}]}],hc,fc,mc);window.bid_fields=vc;var bc,_c,kc,gc,xc=[{type:de.Link,action:"list-action",label:"Заявки"},{type:de.Link,action:"list-action",label:"Создание заявки"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],wc=at.createLoader(28),Sc=[{type:it.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ce(ot,{content:String(t)})},width:function(){return 100}},{type:it.Compute,sortable:!1,headerName:"Фото",width:function(){return 150},element:function(e){var n,a=e.apartment_images;return ce(we,{style:{height:64,width:128,display:"flex",alignItems:"center",background:"#ccc",justifyContent:"center"},children:ce(Xe,{Loader:wc,children:(n=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=a?a[0]:null)){e.next=7;break}return e.next=4,Io.appwriteService.getImageURL(n);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0="";case 8:return r=e.t0,e.abrupt("return",ce(Ee,{children:r?ce("img",{crossOrigin:"anonymous",loading:"lazy",alt:"apartment",src:r,style:{objectFit:"cover",height:"100%",width:"100%"}}):ce(lt,{sx:{color:"white",fontSize:28}})}));case 10:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})})})}},{type:it.Text,sortable:!0,field:"zagolovok",headerName:"Заголовок",width:function(){return 200}},{type:it.Text,sortable:!0,field:"kolichestvo_komnat",headerName:"Комнат",width:function(){return 100}},{type:it.Text,sortable:!0,field:"etazh",headerName:"Этаж",width:function(){return 100}},{type:it.Text,sortable:!0,field:"etazhnost",headerName:"Этажность",width:function(){return 100}},{type:it.Compute,sortable:!0,field:"ploshhad",compute:function(e){return[e.obshhaya_ploshhad,e.ploshhad_doma].filter((function(e){return!!e})).join(", ")},headerName:"Площадь М²",width:function(){return 200}},{type:it.Compute,sortable:!0,field:"adres",compute:function(e){return[e.strana,e.gorod,e.oblast,e.rajon,e.mahallya,e.ulicza,e.orientir].filter((function(e){return!!e})).join(", ")},headerName:"Адрес",width:function(){return 250}},{type:it.Compute,field:"kategoriya_obekta",sortable:!0,compute:function(e){var t;return(null===(t=e.kategoriya_obekta)||void 0===t?void 0:t.join(", "))||"Unset"},headerName:"Категория",width:function(){return 200}},{type:it.Compute,isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},field:"czena_prodazha",sortable:!0,compute:(_c=r(t().mark((function e(n){var r,a,i,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.prod_startovaya_czena,a=n.prod_startovaya_czena_valyuta,i=n.prod_startovaya_czena_for,o=n.prod_kom_startovaya_czena,l=n.prod_kom_startovaya_czena_valyuta,u=n.prod_kom_startovaya_czena_for,!r){e.next=3;break}return e.abrupt("return","".concat(r," ").concat("uzs"===a?"UZS":"USD"," (").concat((null==i?void 0:i.join(""))||"Итог",")"));case 3:if(!o){e.next=5;break}return e.abrupt("return","".concat(o," ").concat("uzs"===l?"UZS":"USD"," (").concat((null==u?void 0:u.join(""))||"Итог",")"));case 5:return e.abrupt("return","Unset");case 6:case"end":return e.stop()}}),e)}))),function(e){return _c.apply(this,arguments)}),headerName:"Цена (Продажа)",width:function(){return 200}},{type:it.Compute,field:"czena_arenda",isVisible:function(e){return e.payload.permissions.hasOwnerPricePermission},sortable:!0,compute:(bc=r(t().mark((function e(n){var r,a,i,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.rent_startovaya_czena,a=n.rent_startovaya_czena_valyuta,i=n.rent_startovaya_czena_for,o=n.rent_kom_startovaya_czena,l=n.rent_kom_startovaya_czena_valyuta,u=n.rent_kom_startovaya_czena_for,!r){e.next=3;break}return e.abrupt("return","".concat(r," ").concat("uzs"===a?"UZS":"USD"," (").concat((null==i?void 0:i.join(""))||"Итог",")"));case 3:if(!o){e.next=5;break}return e.abrupt("return","".concat(o," ").concat("uzs"===l?"UZS":"USD"," (").concat((null==u?void 0:u.join(""))||"Итог",")"));case 5:return e.abrupt("return","Unset");case 6:case"end":return e.stop()}}),e)}))),function(e){return bc.apply(this,arguments)}),headerName:"Цена (Аренда)",width:function(){return 200}},{type:it.Compute,sortable:!0,field:"istochnik",compute:function(e){return e.istochnik||"Unset"},headerName:"Источник",width:function(){return 150}},{type:it.Compute,sortable:!1,field:"status",headerName:"Статус",element:function(e){var t=e.status;return ce(me,"active"===t?{color:"green",fontWeight:"bold",children:"Active"}:"inactive"===t?{color:"red",fontWeight:"bold",children:"Inactive"}:{children:"Unset"})},width:function(){return 150}},{type:it.Compute,field:"$createdAt",headerName:"Дата создания",compute:function(e){var t=e.$createdAt;return f(t).format("DD/MM/YYYY")},sortable:!0,width:function(){return 200}},{type:it.Compute,field:"$updatedAt",sortable:!0,headerName:"Дата обновления",compute:function(e){var t=e.$updatedAt;return f(t).format("DD/MM/YYYY")},width:function(){return 200}}],zc=function(e){var t=e.fieldData,n=e.payload,r=Yt(t),a=he.useMemo((function(){return fu(t)}),[t]);return ce(we,{sx:{pointerEvents:"all",height:"max(60vh, 350px)",mb:5},children:ce(ht,{withLoader:!0,withInitialLoader:!0,reloadSubject:r,handler:function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return(t=Io.apartmentViewService).paginate.apply(t,[i(i({},a),{},{_accessLevel:5,_mode:"audit"})].concat(r))},isRowDisabled:function(e){return e.system_access_level>n.accessLevel},columns:Sc,payload:n})})},Fc=[{type:a.Group,style:{minWidth:540},fields:[{type:a.Combo,title:"Тип сделки",name:"deal_type",map:function(e,t){var n=t.prod_czena_ot,r=t.prod_startovaya_czena_ot,a=void 0===r?n:r,i=t.prod_czena_do,o=t.prod_startovaya_czena_do,l=void 0===o?i:o,u=t.prod_kom_czena_ot,s=t.prod_kom_startovaya_czena_ot,c=void 0===s?u:s,d=t.prod_kom_czena_do,p=t.prod_kom_startovaya_czena_do,m=void 0===p?d:p,f=t.rent_czena_ot,y=t.rent_startovaya_czena_ot,h=void 0===y?f:y,v=t.rent_czena_do,b=t.rent_startovaya_czena_do,_=void 0===b?v:b,k=t.rent_kom_czena_ot,g=t.rent_kom_startovaya_czena_ot,x=void 0===g?k:g,w=t.rent_kom_czena_do,S=t.rent_kom_startovaya_czena_do,z=void 0===S?w:S,F=t.prod_czena_valyuta,T=void 0===F?"usd":F,A=t.rent_czena_valyuta,C=void 0===A?"usd":A;return e.deal_type&&"Продажа"===e.deal_type[0]&&(U.set(e,"price_ot",a||c),U.set(e,"price_do",l||m),U.set(e,"unit",[T||"usd"])),e.deal_type&&"Аренда"===e.deal_type[0]&&(U.set(e,"price_ot",h||x),U.set(e,"price_do",_||z),U.set(e,"unit",[C||"usd"])),e},itemList:function(){return[].concat(ki)}},{type:a.Box,isVisible:function(e){var t=e.deal_type,n=e.price_type;return!!t&&"range"===n},style:{display:"grid",gridTemplateColumns:"1fr 1fr 125px"},fields:[{type:a.Text,outlined:!1,placeholder:"Не указано",labelShrink:!0,name:"price_ot",title:"Цена От (Итог)"},{type:a.Text,outlined:!1,placeholder:"Не указано",labelShrink:!0,name:"price_do",title:"Цена До (Итог)"},{type:a.Combo,noDeselect:!0,fieldBottomMargin:"0",title:"Валюта",placeholder:"USD",itemList:["usd","uzs"],tr:function(e){return"uzs"===e?"SUM":"USD"},defaultValue:"usd",outlined:!1,name:"unit"}]},{type:a.Text,fieldBottomMargin:"1",placeholder:"Введите комментарий",inputRows:3,labelShrink:!0,name:"comment",title:"Комментарий"},{type:a.Radio,fieldBottomMargin:"0",name:"price_type",radioValue:"unset",defaultValue:"unset",title:"Цена не указана"},{type:a.Radio,fieldBottomMargin:"0",name:"price_type",radioValue:"range",title:"Промежуток"}]}],Tc=[{type:a.Text,fieldBottomMargin:"1",placeholder:"Введите комментарий",inputRows:3,labelShrink:!0,name:"comment",title:"Комментарий"},{type:a.Radio,fieldBottomMargin:"0",title:"Закрытая сделка",name:"status",radioValue:"Закрытая сделка",defaultValue:"Закрытая сделка"},{type:a.Radio,fieldBottomMargin:"0",title:"Сделка сорвана",name:"status",radioValue:"Сделка сорвана"}],Ac=[{action:"deal-end-action",isDisabled:function(e){return!e.activeItem},label:"Завершить сделку"}],Cc=[{type:a.Paper,features:["hasResponsiblePermission"],fieldBottomMargin:"1",fieldRightMargin:"1",columns:"12",fields:[{type:a.Component,element:function(e){var n=e.id,a=e._fieldData,i=o(he.useState(null),2),l=i[0],u=i[1],s=Pe(r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Io.appwriteService.currentUser.$id,e.next=3,Io.dealHistoryRequestService.readDealStateByBid(n,r);case 3:a=e.sent,u(a);case 5:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError}),c=s.loading,d=s.execute,p=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),m=p.handleLoadStart,f=p.handleLoadEnd,y=_t({title:"Завершение сделки",fields:Tc,payload:a}),h=_t({title:"Начало сделки",fields:Fc,payload:a});he.useEffect((function(){return Io.dealHistoryViewService.createSubject.subscribe((function(e){e.bid_id===n&&d()}))}),[]),he.useEffect((function(){d()}),[]);var v,b,_,k=function(){var e=r(t().mark((function e(r){var a,i,o,l,u,s=arguments;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>1&&void 0!==s[1]?s[1]:[],i=s.length>2&&void 0!==s[2]?s[2]:"usd",o=s.length>3&&void 0!==s[3]?s[3]:"",l=!0,m(),e.prev=5,u=Io.appwriteService.currentUser.$id,e.next=9,Io.dealHistoryRequestService.commitBidDealBegin(n,u,r,a,i,o);case 9:return e.next=11,d();case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),Io.alertService.notify(go(e.t0)),l=!1;case 17:return e.prev=17,f(l),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[5,13,17,20]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){h().then(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:if(r=n.deal_type?n.deal_type[0]:""){e.next=5;break}return e.abrupt("return");case 5:a=[],i="","range"===n.price_type&&(a=[n.price_ot,n.price_do].filter((function(e){return e})),i=n.unit?n.unit[0]:"usd"),k(r,a,i,n.comment);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},x=function(){var e=r(t().mark((function e(){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,m(),e.prev=2,a=Io.appwriteService.currentUser.$id,e.next=6,Io.dealHistoryRequestService.commitBidDealReassign(n,a);case 6:return e.next=8,d();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),r=!1;case 13:return e.prev=13,f(r),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=r(t().mark((function e(r,a){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!0,m(),e.prev=2,e.next=5,Io.dealRequestService.commitBidDealEnd(n,r,a);case 5:return e.next=7,d();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i=!1;case 12:return e.prev=12,f(i),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(t,n){return e.apply(this,arguments)}}(),S=function(e){"deal-end-action"===e&&y().then((function(e){e&&w(e.status,e.comment)}))};return ce(Se,{style:{pointerEvents:"all"},direction:"column",gap:"16px",children:[ce(Se,{direction:"row",alignItems:"center",justifyContent:"space-between",children:[ce(Xe,{loading:c,Loader:function(){return ce(Se,{direction:"row",gap:"16px",alignItems:"center",children:[ce(Ke,{variant:"circular",width:40,height:40}),ce(Se,{children:[ce(Ke,{sx:{mb:1},variant:"rectangular",width:210,height:20}),ce(Ke,{variant:"rectangular",width:210,height:20})]})]})},payload:l,children:(_=r(t().mark((function e(n){var r,a,i,o,l,u,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&n.activeItem){e.next=2;break}return e.abrupt("return",ce(me,{variant:"body1",children:"Ответственный не назначен"}));case 2:return e.next=4,Io.userViewService.read(n.activeItem.user_id);case 4:if(r=e.sent,a=r.first_name,i=void 0===a?"Не указано":a,o=r.user_role,l=r.avatar,!(u=void 0===l?null:l)){e.next=16;break}return e.next=13,Io.appwriteService.getImageURL(u);case 13:e.t0=e.sent,e.next=17;break;case 16:e.t0="";case 17:return s=e.t0,e.next=20,Io.dictService.getUserRoles();case 20:return c=e.sent,e.abrupt("return",ce(Se,{direction:"row",gap:"16px",alignItems:"center",children:[ce(Je,{alt:i,src:s}),ce(Se,{direction:"column",children:[ce(me,{variant:"body1",children:i}),ce(me,{variant:"caption",style:{fontSize:"14px"},children:null!=o&&o.length?U.get(c,o[0])||o[0]:"Не указано"})]})]}));case 22:case"end":return e.stop()}}),e)}))),function(e){return _.apply(this,arguments)})}),ce(Se,{direction:"row",gap:1,alignItems:"center",children:[ce(Xe,{loading:c,Loader:function(){return ce(Ke,{variant:"rectangular",sx:{borderRadius:"4px"},width:100,height:35})},payload:l,children:function(e){if(null!=e&&e.activeItem){var t=Io.appwriteService.currentUser.$id,n=e.activeItem.user_id===t;return ce(ze,{disabled:n,onClick:x,variant:"contained",children:n?"Назначен":"Забрать"})}return ce(ze,{onClick:g,variant:"contained",children:"Взять"})}}),ce(Xe,{loading:c,Loader:function(){return ce(Ke,{variant:"circular",width:40,height:40})},payload:l,children:(b=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ce(It,{transparent:!0,options:Ac,payload:n,onAction:S}));case 1:case"end":return e.stop()}}),e)}))),function(e){return b.apply(this,arguments)})})]})]}),ce(Xe,{loading:c,Loader:function(){return ce(Xt,{max:Number.POSITIVE_INFINITY,style:{marginRight:"auto"},children:[ce(Ke,{variant:"circular",width:28,height:28}),ce(Ke,{variant:"circular",width:28,height:28}),ce(Ke,{variant:"circular",width:28,height:28})]})},payload:l,children:(v=r(t().mark((function e(n){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=n&&null!==(a=n.reassign)&&void 0!==a&&a.length){e.next=2;break}return e.abrupt("return",null);case 2:return e.next=4,Promise.all(n.reassign.filter((function(e,t,n){return n.findIndex((function(t){return t.user_id===e.user_id}))==t})).map(function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.user_id,e.next=3,Io.userViewService.tryRead(r);case 3:if(a=e.sent,i="",null==a||!a.avatar){e.next=9;break}return e.next=8,Io.appwriteService.getImageURL(a.avatar);case 8:i=e.sent;case 9:return e.abrupt("return",ce(Je,{style:{height:"28px",width:"28px"},alt:null==a?void 0:a.email,src:i}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:return i=e.sent,e.abrupt("return",ce(Xt,{max:Number.POSITIVE_INFINITY,style:{marginRight:"auto"},children:i}));case 6:case"end":return e.stop()}}),e)}))),function(e){return v.apply(this,arguments)})})]})}}]},{type:a.Group,columns:"12",fieldRightMargin:"0",fieldBottomMargin:"0",isVisible:function(e){return ku.apply(void 0,[e].concat(["kategoriya_obekta","podkategoriya_obekta","arenda","prodazha","istochnik"]))},fields:[{type:a.Paper,columns:"6",fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Основная информация"})}},{type:a.Text,outlined:!1,name:"zagolovok",title:"Заголовок",placeholder:"Введите текст"},{type:a.Text,outlined:!1,compute:function(e){return e.kategoriya_obekta||"Не задано"},title:"Категория объекта"},{type:a.Text,isVisible:function(e){return!!nt(e.kategoriya_obekta,"Жилая")||!!nt(e.kategoriya_obekta,"Коммерческая")},outlined:!1,compute:function(e){return e.podkategoriya_obekta||"Не задано"},title:"Подкатегория объекта"},{type:a.Text,outlined:!1,compute:function(e){var t=e.arenda,n=e.prodazha;return n&&t?"Продажа, Аренда":n?"Продажа":t?"Аренда":"Не задано"},title:"Тип сделки"},{type:a.Text,inputRows:3,outlined:!1,compute:function(e,t){var n=e.strana,r=e.gorod,a=e.oblast,i=e.rajon,o=e.mahallya,l=e.ulicza,u=e.metro,s=e.nomer_doma,c=e.nomer_kvartiry,d=t.permissions,p=[n,r,a,i,o,l?l.toLowerCase().includes("улица")?l:"улица ".concat(l):null,s&&d.hasBidHouseNumberPermission?"дом ".concat(s):null,c&&d.hasBidHouseNumberPermission?"кв ".concat(c):null,u?"метро ".concat(u):null].filter((function(e){return e}));return p.length?p.flatMap((function(e){return e})).join(", "):"Не указан"},title:"Адрес"},{type:a.Text,outlined:!1,compute:function(e){return e.orientir||"Не задано"},title:"Ориентир"},{type:a.Text,outlined:!1,compute:function(e){return e.istochnik||"Не задано"},title:"Источник"},{type:a.Component,fieldBottomMargin:"2",element:function(e){var n,a=e.contact_id;return ce(Xe,{payload:a,Loader:function(){return ce(wt,{fullWidth:!0,variant:"standard",label:"Тип клиента",InputProps:{readOnly:!0},value:"Загрузка"})},children:(n=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.contactViewService.tryRead(a);case 2:return n=e.sent,r=(null==n?void 0:n.tip_klienta)||"Не задано",e.abrupt("return",ce(wt,{fullWidth:!0,variant:"standard",label:"Тип клиента",InputProps:{readOnly:!0},value:r}));case 5:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})})}}]},{type:a.Component,style:{height:"100%"},columns:"6",fieldRightMargin:"1",fieldBottomMargin:"1",isVisible:function(e){var t=!1;return t=(t=t||null!==e.arenda)||null!==e.prodazha},element:function(e){var t=e.onChange,n=e._fieldData,r=e.features;return ce(pc,{withTransparentHeader:!0,features:r,readonly:!0,withRentTab:null!==n.arenda,withSellTab:null!==n.prodazha,onChange:t,fieldData:n})}}]},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&nt(e.podkategoriya_obekta,"Квартиры"))&&nt(e.kategoriya_obekta,"Жилая"))&&!nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая Квартира)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return ku(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_planirovki")},title:"Тип планировки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"zhilaya_ploshhad_ot","zhilaya_ploshhad_do")},name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_spalen_ot","kolichestvo_spalen_do")},name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"spalnya_sanuzel_ot","spalnya_sanuzel_do")},name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(p(t||[]),p(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(p(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&nt(e.podkategoriya_obekta,"Дома"))&&nt(e.kategoriya_obekta,"Жилая"))&&!nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилой дом)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_doma")},title:"Состояние дома"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return ku(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_doma_ot","ploshhad_doma_do")},name:"ploshhad_doma",title:"Площадь дома М²"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_planirovki")},title:"Тип планировки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.bassejn].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"bassejn")},title:"Бассейн"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_spalen_ot","kolichestvo_spalen_do")},name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"spalnya_sanuzel_ot","spalnya_sanuzel_do")},name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(p(t||[]),p(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(p(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.garazh].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"garazh")},title:"Гараж"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.raspolozhenie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"raspolozhenie_doma")},title:"Расположение дома"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"}]},{type:a.Fragment,isVisible:function(e){return(!nt(e.podkategoriya_obekta,"Земля/Участок")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Дома")||!nt(e.kategoriya_obekta,"Коммерческая"))&&((!nt(e.podkategoriya_obekta,"Квартиры")||!nt(e.kategoriya_obekta,"Коммерческая"))&&nt(e.kategoriya_obekta,"Коммерческая")))},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая недвижимость)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"poleznaya_ploshhad_ot","poleznaya_ploshhad_do")},name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return ku(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.vid_liczenzii].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"vid_liczenzii")},title:"Вид лицензии"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=t&&nt(e.podkategoriya_obekta,"Земля/Участок"))&&nt(e.kategoriya_obekta,"Жилая"))&&!nt(e.kategoriya_obekta,"Коммерческая")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Жилая земля/участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_zemli_uchastka].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_zemli_uchastka")},title:"Тип земли/участка"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"poleznaya_ploshhad_ot","poleznaya_ploshhad_do")},name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"rasstoyanie_do_goroda_ot","rasstoyanie_do_goroda_do")},name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.podezdnye_puti].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"podezdnye_puti")},title:"Подъездные пути"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return ku(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.podkategoriya_obekta,"Квартиры"))&&J(K(nt(e.kategoriya_obekta,"Коммерческая"),nt(e.kategoriya_obekta,"Жилая")),K(nt(e.kategoriya_obekta,"Коммерческая"),!nt(e.kategoriya_obekta,"Жилая")))},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая квартира)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_planirovki")},title:"Тип планировки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return ku(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:a.Text,columns:"4",outlined:!1,isVisible:function(e){return ku(e,"nazvanie_zhk")},name:"nazvanie_zhk",title:"Название ЖК"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"zhilaya_ploshhad_ot","zhilaya_ploshhad_do")},name:"zhilaya_ploshhad",title:"Жилая площадь М²"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_spalen_ot","kolichestvo_spalen_do")},name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(p(t||[]),p(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(p(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"spalnya_sanuzel_ot","spalnya_sanuzel_do")},name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.podkategoriya_obekta,"Дома"))&&J(K(nt(e.kategoriya_obekta,"Коммерческая"),nt(e.kategoriya_obekta,"Жилая")),K(nt(e.kategoriya_obekta,"Коммерческая"),!nt(e.kategoriya_obekta,"Жилая")))},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческий дом)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_doma")},title:"Состояние дома"},{type:a.Items,columns:"4",freeSolo:!0,outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.raspolozhenie_obekta].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"raspolozhenie_obekta")},title:"Расположение объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_stroeniya,e["tip-stroeniya_kvartiry"],e["tip-stroeniya_doma"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_stroeniya","tip-stroeniya_kvartiry","tip-stroeniya_doma")},title:"Тип строения"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.raspolozhenie_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"raspolozhenie_doma")},title:"Расположение дома"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_doma_ot","ploshhad_doma_do")},name:"ploshhad_doma",title:"Площадь дома М²"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_planirovki].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_planirovki")},title:"Тип планировки"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.bassejn].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"bassejn")},title:"Бассейн"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sanuzel,e.sanuzel_kvartira,e.sanuzel_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sanuzel","sanuzel_kvartira","sanuzel_doma")},title:"Санузел"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_spalen_ot","kolichestvo_spalen_do")},name:"kolichestvo_spalen",title:"Количество спален"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.lift_kommercziya,e.lift_kvartira,e.lift_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"lift_kommercziya","lift_kvartira","lift_dom")},title:"Лифт"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"spalnya_sanuzel_ot","spalnya_sanuzel_do")},name:"spalnya_sanuzel",title:"Комната + санузел"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.mebel,e.mebel_kvartira,e.mebel_dom].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"mebel","mebel_kvartira","mebel_dom")},title:"Мебель"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return ku(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"vysota_potolkov_ot","vysota_potolkov_do")},name:"vysota_potolkov",title:"Высота потолков"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){var t=e.vid_iz_okna,n=e.vid_iz_okna_dom;return[].concat(p(t||[]),p(n||[])).reduce((function(e,t){return e.includes(t)?e:[].concat(p(e),[t])}),[]).filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"vid_iz_okna","vid_iz_okna_dom")},title:"Вид из окна"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.garazh].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"garazh")},title:"Гараж"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.balkon,e.balkon_kvartira,e.balkon_doma].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"balkon","balkon_kvartira","balkon_doma")},title:"Балкон"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"}]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&nt(e.podkategoriya_obekta,"Земля/Участок"))&&J(K(nt(e.kategoriya_obekta,"Коммерческая"),nt(e.kategoriya_obekta,"Жилая")),K(nt(e.kategoriya_obekta,"Коммерческая"),!nt(e.kategoriya_obekta,"Жилая")))},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Информация об объекте (Коммерческая земля/участок)"})}},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_komnat_ot","kolichestvo_komnat_do")},name:"kolichestvo_komnat",title:"Количество комнат"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.naznachenie_obekta,e["naznachenie-obekta-zemlya_uchastok"],e["naznachenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"naznachenie_obekta","naznachenie-obekta-zemlya_uchastok","naznachenie-obekta_zemlya")},title:"Назначение объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"obshhaya_ploshhad_ot","obshhaya_ploshhad_do")},name:"obshhaya_ploshhad",title:"Общая площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazh_ot","etazh_do")},name:"etazh",title:"Этаж"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.tip_zemli_uchastka].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"tip_zemli_uchastka")},title:"Тип земли/участка"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"poleznaya_ploshhad_ot","poleznaya_ploshhad_do")},name:"poleznaya_ploshhad",title:"Полезная площадь М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"etazhnost_ot","etazhnost_do")},name:"etazhnost",title:"Этажность"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_obekta,e["sostoyanie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"sostoyanie_obekta","sostoyanie-obekta_zemlya")},title:"Состояние объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"mashina_mesto_ot","mashina_mesto_do")},name:"mashina_mesto",title:"Машина-место"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"kolichestvo_sotok_ot","kolichestvo_sotok_do")},name:"kolichestvo_sotok",title:"Количество соток"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sostoyanie_remonta,e["sostoyanie_remonta-kvartiry"],e["sostoyanie-remonta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sostoyanie_remonta","sostoyanie_remonta-kvartiry","sostoyanie-remonta_zemlya")},title:"Состояние ремонта"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.parkovka,e.parkovka_kvartira,e.parkovka_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"parkovka","parkovka_kvartira","parkovka_zemlya")},title:"Парковка"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"rasstoyanie_do_metro_ot","rasstoyanie_do_metro_do")},name:"rasstoyanie_do_metro",title:"Расстояние до метро (м)"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.voda,e.voda_dom,e.voda_zemlya].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"voda","voda_dom","voda_zemlya")},title:"Вода"},{type:a.Items,columns:"4",freeSolo:!0,outlined:!1,compute:function(e){return[e.mestopolozhenie_obekta,e["mestopolozhenie-obekta_dom"],e["mestopolozhenie-obekta_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"mestopolozhenie_obekta","mestopolozhenie-obekta_dom","mestopolozhenie-obekta_zemlya")},title:"Местоположение объекта"},al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"rasstoyanie_do_goroda_ot","rasstoyanie_do_goroda_do")},name:"rasstoyanie_do_goroda",title:"Расстояние до города (м)"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.sistema_otopleniya,e["sistema-otopleniya_kvartiry"],e["sistema-otopleniya_dom"],e["sistema-otopleniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_otopleniya","sistema-otopleniya_kvartiry","sistema-otopleniya_dom","sistema-otopleniya_zemlya")},title:"Система отопления"},al({columns:"4",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"0000",isVisible:function(e){return ku(e,"god_postrojki_ot","god_postrojki_do")},name:"god_postrojki",title:"Год постройки"}),{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.elektrichestvo,e.elektrichestvo_dom,e.elektrichestvo_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"elektrichestvo","elektrichestvo_dom","elektrichestvo_zemlya")},title:"Электричество"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.podezdnye_puti].filter((function(e){return e})).flatMap((function(e){return e}))},isVisible:function(e){return ku(e,"podezdnye_puti")},title:"Подъездные пути"},{type:a.Items,columns:"4",freeSolo:!0,outlined:!1,compute:function(e){return[e.sistema_kondiczionirovaniya,e["sistema-kondiczionirovaniya_dom"],e["sistema-kondiczionirovaniya_zemlya"]].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"sistema_kondiczionirovaniya","sistema-kondiczionirovaniya_dom","sistema-kondiczionirovaniya_zemlya")},title:"Система кондиционирования"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.gaz,e.gaz_dom,e.gaz_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"gaz","gaz_dom","gaz_zemlya")},title:"Газ"},{type:a.Items,freeSolo:!0,columns:"4",outlined:!1,compute:function(e){return[e.kanalizacziya,e.kanalizacziya_dom,e.kanalizacziya_zemlya].filter((function(e){return e})).flatMap((function(e){return e})).filter((function(e,t,n){return n.indexOf(e)===t}))},isVisible:function(e){return ku(e,"kanalizacziya","kanalizacziya_dom","kanalizacziya_zemlya")},title:"Канализация"}]}]},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительные данные об объекте"})}},{type:a.Component,fieldBottomMargin:"1",columns:"6",element:function(){return ce(me,{children:"Внутри есть:"})}},{type:a.Component,fieldBottomMargin:"1",columns:"6",element:function(){return ce(me,{children:"Рядом есть:"})}},{type:a.Component,columns:"6",isVisible:function(e){var t=e.vnutri_est;return!(null==t||!t.length)},element:function(e){var t=e.vnutri_est;return ce("div",{children:ce(we,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:null==t?void 0:t.map((function(e,t){return ce(Kt,{label:e},t)}))})})}},{type:a.Component,columns:"6",isVisible:function(e){var t=e.ryadom_est;return!(null==t||!t.length)},element:function(e){var t=e.ryadom_est;return ce("div",{children:ce(we,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:null==t?void 0:t.map((function(e,t){return ce(Kt,{label:e},t)}))})})}}]},{type:a.Paper,isVisible:function(e){return ku(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do","ploshhad_spalni_ot","ploshhad_spalni_do","ploshhad_holla_ot","ploshhad_holla_do","ploshhad_kuhni_ot","ploshhad_kuhni_do","ploshhad_sanuzla_ot","ploshhad_sanuzla_do","ploshhad_balkona_ot","ploshhad_balkona_do","ploshhad_terrasy_ot","ploshhad_terrasy_do","ploshhad_komnaty_ohrany_ot","ploshhad_komnaty_ohrany_do","ploshhad_gostevogo_doma_ot","ploshhad_gostevogo_doma_do","ploshhad_dopolnitelnoj_pristrojki_ot","ploshhad_dopolnitelnoj_pristrojki_do")},fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,sx:{mb:2},element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Дополнительная информация по площади"})}},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&J(nt(e.kategoriya_obekta,"Коммерческая"),nt(e.kategoriya_obekta,"Жилая")))&&nt(e.podkategoriya_obekta,"Квартиры")},fields:[al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do")},name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_spalni_ot","ploshhad_spalni_do")},name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_holla_ot","ploshhad_holla_do")},name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_kuhni_ot","ploshhad_kuhni_do")},name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_sanuzla_ot","ploshhad_sanuzla_do")},name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_balkona_ot","ploshhad_balkona_do")},name:"ploshhad_balkona",title:"Площадь балкона М²"})]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&J(nt(e.kategoriya_obekta,"Коммерческая"),nt(e.kategoriya_obekta,"Жилая")))&&nt(e.podkategoriya_obekta,"Дома")},fields:[al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do")},name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_spalni_ot","ploshhad_spalni_do")},name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_holla_ot","ploshhad_holla_do")},name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_kuhni_ot","ploshhad_kuhni_do")},name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_sanuzla_ot","ploshhad_sanuzla_do")},name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_balkona_ot","ploshhad_balkona_do")},name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_terrasy_ot","ploshhad_terrasy_do")},name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_komnaty_ohrany_ot","ploshhad_komnaty_ohrany_do")},name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_gostevogo_doma_ot","ploshhad_gostevogo_doma_do")},name:"ploshhad_gostevogo_doma",title:"Площадь гостевого дома М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_dopolnitelnoj_pristrojki_ot","ploshhad_dopolnitelnoj_pristrojki_do")},name:"ploshhad_dopolnitelnoj_pristrojki",title:"Площадь дополнительной пристройки М²"})]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=t&&J(nt(e.kategoriya_obekta,"Коммерческая"),nt(e.kategoriya_obekta,"Жилая")))&&nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do")},name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_spalni_ot","ploshhad_spalni_do")},name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_holla_ot","ploshhad_holla_do")},name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_kuhni_ot","ploshhad_kuhni_do")},name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_sanuzla_ot","ploshhad_sanuzla_do")},name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_balkona_ot","ploshhad_balkona_do")},name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_terrasy_ot","ploshhad_terrasy_do")},name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_komnaty_ohrany_ot","ploshhad_komnaty_ohrany_do")},name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]},{type:a.Fragment,isVisible:function(e){var t=!0;return t=(t=(t=(t=t&&J(nt(e.kategoriya_obekta,"Коммерческая")))&&!nt(e.podkategoriya_obekta,"Квартиры"))&&!nt(e.podkategoriya_obekta,"Дома"))&&!nt(e.podkategoriya_obekta,"Земля/Участок")},fields:[al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_gostinnoj_ot","ploshhad_gostinnoj_do")},name:"ploshhad_gostinnoj",title:"Площадь гостинной М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_spalni_ot","ploshhad_spalni_do")},name:"ploshhad_spalni",title:"Площадь комнаты М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_holla_ot","ploshhad_holla_do")},name:"ploshhad_holla",title:"Площадь холла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_kuhni_ot","ploshhad_kuhni_do")},name:"ploshhad_kuhni",title:"Площадь кухни М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_sanuzla_ot","ploshhad_sanuzla_do")},name:"ploshhad_sanuzla",title:"Площадь санузла М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_balkona_ot","ploshhad_balkona_do")},name:"ploshhad_balkona",title:"Площадь балкона М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_terrasy_ot","ploshhad_terrasy_do")},name:"ploshhad_terrasy",title:"Площадь террасы М²"}),al({columns:"4",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000",isVisible:function(e){return ku(e,"ploshhad_komnaty_ohrany_ot","ploshhad_komnaty_ohrany_do")},name:"ploshhad_komnaty_ohrany",title:"Площадь комнаты охраны М²"})]}]},{type:a.Paper,features:["hasDescriptionPermission"],fieldBottomMargin:"1",fieldRightMargin:"1",fields:[{type:a.Component,sx:{mb:2},element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Описание объекта"})}},{type:a.Text,sx:{pointerEvents:"all"},inputRows:8,outlined:!1,name:"opisanie",title:"Описание"}]},{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",child:{type:a.Component,element:function(){return ce(me,{fontWeight:"bold",variant:"h6",children:"Подходящие объекты"})}}},{type:a.Component,fieldBottomMargin:"1",fieldRightMargin:"1",element:function(e){var t=e._fieldData,n=e.payload,r=e.features;return ce(zc,{payload:n,features:r,fieldData:t})}}],Vc=[{type:de.Link,action:"list-action",label:"Заявки"},{type:de.Link,action:"list-action",label:"Просмотр заявки"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasBidUpdatePermission},action:"edit-action",label:"Редактировать"}],Lc="real-estate__headerRoot",Mc=[{type:de.Link,action:"list-action",label:"База объектов"},{type:de.Link,action:"list-action",label:"Просмотр объекта"}],Ic=he.forwardRef((function(e,n){var a,i,o=e.item,l=e.loading,u=e.className,s=e.style;return ce("div",{className:u,style:s,ref:n,children:ce(_e,{sx:{position:"relative",overflow:"hidden"},children:[ce(Ye,{children:[ce(Ze,{children:ce(Xe,{loading:l,payload:o,Loader:function(){return ce(Ke,{variant:"circular",width:40,height:40})},children:(i=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.user_id,e.next=3,Io.userViewService.tryRead(r);case 3:if(null==(a=e.sent)||!a.avatar){e.next=10;break}return e.next=7,Io.appwriteService.getImageURL(a.avatar);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=void 0;case 11:return i=e.t0,e.abrupt("return",ce(Je,{alt:null==a?void 0:a.email,src:i,sx:{height:40,mr:2,width:40}}));case 13:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)})})}),ce(Xe,{loading:l,payload:o,Loader:function(){return ce(Se,{flex:1,children:[ce(Ke,{sx:{mb:1},variant:"rectangular",width:210,height:22}),ce(Ke,{variant:"rectangular",width:170,height:22})]})},children:(a=r(t().mark((function e(n){var a,i,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.user_id,e.next=3,Io.userViewService.tryRead(a);case 3:return i=e.sent,o=[null==i?void 0:i.first_name,null==i?void 0:i.last_name,null==i?void 0:i.middle_name].filter((function(e){return e})).join(" "),l=function(){var e=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i||null===(n=i.user_role)||void 0===n||!n.length){e.next=5;break}return e.next=3,Io.roleViewService.tryRead(i.user_role[0]);case 3:return r=e.sent,e.abrupt("return",(null==r?void 0:r.title)||"");case 5:return e.abrupt("return","");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=8,l();case 8:return u=e.sent,e.abrupt("return",ce(Ie,{primary:o,secondary:u}));case 10:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})}),ce(me,{children:f(o.$createdAt).format("HH:mm DD/MM/YYYY")})]}),!!o.comment&&ce(we,{component:"pre",sx:{ml:1,mr:1,mb:1},children:ce(Qe,{config:Jo,handler:function(){return o.comment}})}),ce(we,{sx:{position:"absolute",top:0,left:0,bottom:0,width:6,zIndex:1,background:"skyblue"}})]})})})),Dc="real-estate__headerRoot",Bc=[{type:de.Link,action:"list-action",label:"Список контактов"},{type:de.Link,action:"list-action",label:"История контакта"}],jc=[{id:"list",element:function(e){var t=e.payload;return ce(bt,{history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},routes:qs,payload:t})},isActive:function(e){return Uo(["/bid","/bid_rent","/bid_sell","/bid_archive"],e)},isAvailable:function(){return!1}},{id:"create",element:function(){var e=ye(),n=e.elementRef,a=e.size,l=o(he.useState((function(){return{activeStep:0,contact_id:null,fio:"",telefon:""}})),2),u=l[0],s=l[1],d=o(he.useState([]),2),p=d[0],m=d[1],f=o(he.useState(!1),2),y=f[0],h=f[1],v=o(he.useState(!1),2),b=v[0],_=v[1],k=he.useMemo((function(){return new Date(Date.now()+1e4)}),[u.activeStep]);he.useEffect((function(){_(!1)}),[u.activeStep]);var g=function(e){return s((function(t){return i(i({},t),{},{activeStep:e})}))},x=u.activeStep,w=Zs().classes,S=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),z=S.handleLoadStart,F=S.handleLoadEnd,T=S.loading,A=S.unblock,C=function(){var e=r(t().mark((function e(){var n,r,a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=u.contact_id,r=u.fio,a=u.telefon,n){e.next=7;break}return e.next=5,Io.contactViewService.create({fio:r,telefon:a,"data-sozdaniya_klienta":je.currentDate()});case 5:i=e.sent,n=i.$id;case 7:return e.next=9,Io.bidViewService.create({contact_id:n});case 9:o=e.sent,l=o.id,A(),Io.routerService.push("/bid_edit/".concat(l)),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),Io.alertService.notify(go(e.t0));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=r(t().mark((function e(){var n,r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),u.fio||u.telefon){e.next=3;break}return e.abrupt("return");case 3:if(0!==x){e.next=11;break}return e.next=6,Io.contactRequestService.findDuplicates(u);case 6:n=e.sent,r=n.rows,a=n.total,m(r),g(0===a?2:1);case 11:if(1===x&&g(2),2!==x){e.next=15;break}return e.next=15,C();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=!1;return 1===x&&(e=e||!b),e=(e=e||T)||3===x};return ce(Fe,{children:[ce(be,{items:Ys}),ce(_e,{className:w.root,children:[ce(ke,{className:w.header,activeStep:x,children:[ce(ge,{completed:x>0,children:ce(xe,{children:"Первичные данные"})},0),ce(ge,{completed:x>1,children:ce(xe,{children:"Поиск дубликатов"})},1),ce(ge,{completed:x>2,children:ce(xe,{children:"Создание заявки"})},2)]}),ce("div",{className:w.adjust}),ce(we,{ref:n,className:w.content,children:0===x?ce(Te,{sx:{pl:1,pr:1,pt:2,pb:3},handler:u,onChange:s,dirty:y,fields:$s}):1===x?ce(De,{sx:{height:a.height},component:Ae,minRowHeight:54,children:p.map((function(e,t){var n=e.fio,r=e.telefon,a=e.$id,o=e.tip_klienta;return ce(Ce,{className:Ve(c({},w.listItemBackground,t%2==1)),onClick:function(){s((function(e){return i(i({},e),{},{contact_id:a,activeStep:2})}))},dense:!0,children:[ce(Le,{children:ce(Me,{edge:"start",checked:u.contact_id===a,sx:{marginLeft:"0 !important"},disableRipple:!0})}),ce(Ie,{primary:n,secondary:o}),ce(me,{children:r})]},t)}))}):2===x?ce(Te,{sx:{pl:1,pr:1,pt:2,pb:3},handler:u,dirty:y,fields:$s}):null}),ce(Se,{sx:{pl:1,pr:1,pb:1},justifyContent:"space-between",flexDirection:"row",children:[ce(ze,{disabled:T||0===x,fallback:Io.errorService.handleGlobalError,onClick:function(){s((function(e){return i(i({},e),{},{contact_id:null})})),0===p.length?g(0):g(x-1)},sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:"Назад"}),ce(ze,1===x?{disabled:L(),fallback:Io.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:ce(Be,{expireAt:k,onExpire:function(){return _(!0)},children:"Не вижу дубликат"})}:2===x?{disabled:L(),fallback:Io.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:"Создать заявку"}:{disabled:L(),fallback:Io.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:"Далее"})]})]})]})},isActive:function(e){return Uo(["/bid/create"],e)},isAvailable:function(){return!1}},{id:"contact",element:function(e){var t=e.formState,n=e.payload,r=e.data,a=e.beginSave,i=e.onChange,o=Yt(r);return ce(Ee,{children:[ce(be,{items:Ns,onAction:function(e){"save-action"===e&&a()},payload:t}),ce(Eo,{}),ce(Es,{payload:n,mode:n.menuMode,children:[ce(Te,{changeSubject:o,features:n.permissions,handler:function(){return r},fields:Bu,onChange:i}),ce(Oe,{}),ce(Ge,{})]})]})},isActive:function(e){return Uo(["/bid_edit/:id/contact"],e)}},{id:"parameter",element:function(e){var t=e.payload,n=e.formState,r=e.beginSave,a=e.data,i=e.onChange,o=Yt(a);return ce(Ee,{children:[ce(be,{items:xc,onAction:function(e){"save-action"===e&&r()},payload:n}),ce(Eo,{}),ce(Es,{payload:t,mode:t.menuMode,children:[ce(Te,{changeSubject:o,features:t.permissions,fields:vc,handler:function(){return a},onChange:i}),ce(Oe,{}),ce(Ge,{})]})]})},isActive:function(e){return Uo(["/bid_edit/:id","/bid_edit/:id/parameter"],e)}},{id:"documents",element:function(e){var n,a,i,o=e.data,l=e.onChange,u=e.payload,s=e.beginSave,c=e.formState,d=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),p=d.handleLoadStart,m=d.handleLoadEnd,f=d.loading;return ce(Ee,{children:[ce(be,{items:Xs,payload:c,onAction:function(e){"list-action"===e&&Io.routerService.replace("/apartment"),"save-action"===e&&s()}}),ce(Eo,{}),ce(Es,{payload:u,mode:u.menuMode,children:[ce(_e,{sx:{p:1},children:ce(He,{disabled:f,accept:"*",multiple:!0,items:o,tr:(i=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.tryReadFileName(n);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=n;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),fallback:Io.errorService.handleGlobalError,onClick:(a=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getFileURL(n);case 2:return r=e.sent,e.next=5,Io.appwriteService.readFileName(n);case 5:a=e.sent,We(r,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),onUpload:function(e){return Io.appwriteService.uploadFile(e)},onChange:(n=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(n);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onLoadStart:p,onLoadEnd:m})}),ce(Oe,{}),ce(Ge,{})]})]})},isActive:function(e){return Uo(["/bid_edit/:id/documents"],e)}},{id:"contact",element:function(e){var n,a,i=e.params.id,o=e.formState,l=e.payload,u=e.data,s=e.beginSave,c=e.onChange,d=Jt({fields:Bu,payload:l,outlinePaper:!0,handler:(a=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gs(i);case 2:return n=e.sent,e.next=5,Io.contactViewService.tryRead(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},onSubmit:(n=r(t().mark((function e(n){var r,a,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,e.prev=1,!n){e.next=8;break}return e.next=5,Gs(i);case 5:return a=e.sent,e.next=8,Io.contactViewService.update(a,n);case 8:e.next=16;break;case 10:return e.prev=10,e.t0=e.catch(1),r=!1,o=go(e.t0),Io.alertService.notify(o),e.abrupt("return",!1);case 16:return e.prev=16,e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,null,[[1,10,16,19]])}))),function(e){return n.apply(this,arguments)}),submitLabel:"Сохранить"}),p=d.pickData,m=d.render,f=Yt(u);return ce(Ee,{children:[ce(be,{items:Os,onAction:function(e){"save-action"===e&&s(),"edit-action"===e&&p()},payload:o}),ce(Eo,{}),ce(Ws,{payload:l,mode:l.menuMode,children:[ce(Te,{readonly:!0,handler:function(){return u},fields:Wu,features:l.permissions,changeSubject:f,payload:l,onChange:c}),ce(Oe,{}),ce(Ge,{})]}),m()]})},isActive:function(e){return Uo(["/bid_view/:id/contact"],e)}},{id:"parameter",element:function(e){var n,a,i=e.params.id,o=void 0===i?"create":i,l=e.payload,u=e.formState,s=(e.beginSave,e.data),c=e.onChange,d=Jt({fields:vc,payload:l,outlinePaper:!0,handler:(a=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.bidViewService.tryRead(o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},onSubmit:(n=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,e.prev=1,!n){e.next=5;break}return e.next=5,Io.bidViewService.update(o,n);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),r=!1,a=go(e.t0),Io.alertService.notify(a),e.abrupt("return",!1);case 13:return e.prev=13,e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,null,[[1,7,13,16]])}))),function(e){return n.apply(this,arguments)}),submitLabel:"Сохранить"}),p=d.pickData,m=d.render,f=Yt(s);return ce(Ee,{children:[ce(be,{items:Vc,onAction:function(e){"list-action"===e&&Io.routerService.push("/bid"),"edit-action"===e&&p()},payload:u}),ce(Eo,{}),ce(Ws,{payload:l,mode:l.menuMode,children:[ce(Te,{readonly:!0,changeSubject:f,features:l.permissions,fields:Cc,handler:function(){return s},payload:l,onChange:c}),ce(Oe,{}),ce(Ge,{})]}),m()]})},isActive:function(e){return Uo(["/bid_view/:id","/bid_view/:id/parameter"],e)}},{id:"history",element:function(e){var n=e.payload,a=o(he.useState([]),2),i=a[0],l=a[1],u=ye({target:document.body,selector:"main",compute:function(e){var t,r=e.height,a=e.width;if(n.menuMode===P.Tabs){var i=document.querySelector(".".concat(et));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(t=document.querySelector(".".concat(Js)))||void 0===t?void 0:t.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=Pe(function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return r=Bi("id"),e.next=4,Io.dealHistoryViewService.findAllByBidId(r);case 4:a=e.sent,l(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Io.errorService.handleGlobalError,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),c=s.loading,d=s.execute;return ce(Ee,{children:[ce("div",{className:Js,children:[ce(be,{className:"",items:Qs,onAction:function(e){"list-action"===e&&Io.routerService.replace("/bid")}}),ce(Eo,{})]}),ce(Ws,{payload:n,mode:n.menuMode,children:ce(De,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){d(e)},children:ce(Se,{spacing:1,children:i.map((function(e){return ce(Qo,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return Uo(["/bid_view/:id/history"],e)}},{id:"tasks",element:function(e){var n=e.payload,a=o(he.useState([]),2),i=a[0],l=a[1],u=ye({target:document.body,selector:"main",compute:function(e){var t,r=e.height,a=e.width;if(n.menuMode===P.Tabs){var i=document.querySelector(".".concat(et));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(t=document.querySelector(".".concat(Dc)))||void 0===t?void 0:t.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=Pe(function(){var e=r(t().mark((function e(n){var r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return r=Bi("id")||"unknown",e.next=4,Io.bidViewService.read(r);case 4:return a=e.sent,i=a.contact_id,e.next=8,Io.taskHistoryViewService.findAllByContactId(i);case 8:o=e.sent,l(o);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Io.errorService.handleGlobalError,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),c=s.loading,d=s.execute;return ce(Ee,{children:[ce("div",{className:Dc,children:[ce(be,{className:"",items:Bc,onAction:function(e){"list-action"===e&&Io.routerService.replace("/apartment")}}),ce(Eo,{})]}),ce(Ws,{payload:n,mode:n.menuMode,children:ce(De,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){d(e)},children:ce(Se,{spacing:1,children:i.map((function(e){return ce(Ic,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return Uo(["/bid_view/:id/tasks"],e)}},{id:"documents",element:function(e){var n,a,i,o=e.params.id,l=e.data,u=e.payload,s=e.formState,c=Xo({data:l,onSubmit:(n=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.bidViewService.update(o,{bid_files:n});case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}),d=c.render,p=c.pickFiles;return ce(Ee,{children:[ce(be,{items:Ks,payload:s,onAction:function(e){"list-action"===e&&Io.routerService.replace("/apartment"),"edit-action"===e&&p()}}),ce(Eo,{}),ce(Ws,{payload:u,mode:u.menuMode,children:[ce(_e,{sx:{p:1},children:ce(He,{disabled:!0,accept:"*",multiple:!0,items:l,tr:(i=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.tryReadFileName(n);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=n;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),fallback:Io.errorService.handleGlobalError,onClick:(a=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getFileURL(n);case 2:return r=e.sent,e.next=5,Io.appwriteService.readFileName(n);case 5:a=e.sent,We(r,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),onUpload:function(e){return Io.appwriteService.uploadFile(e)}})}),ce(Oe,{}),ce(Ge,{})]}),d()]})},isActive:function(e){return Uo(["/bid_view/:id/documents"],e)}},{id:"service_comment",element:function(e){var n=e.formState,a=e.payload,i=o(he.useState([]),2),l=i[0],u=i[1],s=ye({target:document.body,selector:"main",compute:function(e){var t,n=e.height,r=e.width;if(a.menuMode===P.Tabs){var i=document.querySelector(".".concat(et));n-=(null==i?void 0:i.offsetHeight)||0}return n-=(null===(t=document.querySelector(".".concat(Lc)))||void 0===t?void 0:t.offsetHeight)||0,n-=50,{width:r,height:n=Math.min(window.innerHeight-50,n)}}}).size,c=Pe(r(t().mark((function e(){var n,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bi("id"),e.next=3,Io.serviceCommentViewService.findByBidId(n);case 3:return a=e.sent,e.t0=u,e.next=7,Promise.all(a.map(function(){var e=r(t().mark((function e(n){var r,a,i,o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.$id,a=n.user_id,i=n.file_id,o=n.comment,l=n.$createdAt,e.next=3,Io.userViewService.tryRead(a);case 3:if(u=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:if(!i){e.next=12;break}return e.next=9,Io.appwriteService.tryReadFileName(i);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0="";case 13:return s=e.t0,e.abrupt("return",{id:r,message:o,fileId:i,userId:a,displayName:[u.last_name,u.first_name,u.middle_name,f(l).format("DD.MM.YYYY / HH:mm")].join(" "),fileName:s,avatar:u.avatar||""});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).filter((function(e){return!!e})).reverse());case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)}))),{fallback:Io.errorService.handleGlobalError,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),d=c.execute;he.useEffect((function(){d()}),[]),he.useEffect((function(){return Io.serviceCommentViewService.createSubject.subscribe((function(e){var t=Bi("id");e.bid_id===t&&d()}))}),[]);var p=function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Io.appwriteService.currentUser.$id,a=Bi("id"),e.next=4,Io.serviceCommentViewService.create({user_id:r,comment:n,bid_id:a,apartment_id:null,contact_id:null,file_id:null});case 4:return e.next=6,d();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=r(t().mark((function e(n,r){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Io.appwriteService.currentUser.$id,i=Bi("id"),e.next=4,Io.serviceCommentViewService.create({user_id:a,comment:n,apartment_id:i,bid_id:null,contact_id:null,file_id:r});case 4:return e.next=6,d();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return ce(Ee,{children:[ce("div",{className:Lc,children:[ce(be,{payload:n,items:Mc,onAction:function(e){"list-action"===e&&Io.routerService.replace("/apartment")}}),ce(Eo,{})]}),ce(Ws,{payload:a,mode:a.menuMode,children:ce(ss,{payload:a,style:{height:s.height},messages:l,onText:p,onFile:m})})]})},isActive:function(e){return Uo(["/bid_view/:id/service_comment"],e)}}],qc=function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==n){e.next=2;break}return e.abrupt("return",{"data-sozdaniya_klienta":je.currentDate()});case 2:return e.next=4,Io.bidViewService.read(n);case 4:return r=e.sent,a=r.contact_id,e.next=8,Io.contactViewService.tryRead(a);case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rc=function(e){var n,a=e.id,i=void 0===a?"create":a,l=function(){var e=r(t().mark((function e(n,r){var a,o,l,u,s,c,d,p,m,f,y,h;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.afterSave,o=!0,e.prev=2,l=U.get(n,"parameter")||{},u=U.get(n,"contact")||{},s=U.get(n,"documents")||[],c=U.get(n,"parameter.contact_id"),U.set(n,"parameter.bid_files",s),!c){e.next=14;break}return e.next=11,Io.contactViewService.tryRead(c);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=!1;case 15:if(d=e.t0,!c||!d){e.next=21;break}return e.next=19,Io.contactViewService.update(c,u);case 19:e.next=26;break;case 21:return e.next=23,Io.contactViewService.create(u);case 23:p=e.sent,m=p.id,c=m;case 26:if(U.set(n,"parameter.contact_id",c),"create"!==i){e.next=37;break}return e.next=30,Io.bidViewService.create(l);case 30:return f=e.sent,y=f.id,e.next=34,a();case 34:Io.routerService.push("/bid_edit/".concat(y)),e.next=39;break;case 37:return e.next=39,Io.bidViewService.update(i,l);case 39:Io.alertService.notify("Изменения сохранены"),e.next=47;break;case 42:e.prev=42,e.t1=e.catch(2),o=!1,h=go(e.t1),Io.alertService.notify(h);case 47:return e.prev=47,e.abrupt("return",o);case 50:case"end":return e.stop()}}),e,null,[[2,42,47,50]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qc(i);case 2:return e.t0=e.sent,e.next=5,Io.bidViewService.tryRead(i);case 5:return e.t1=e.sent,e.next=8,Io.settingsViewService.getMasterDetailMode();case 8:return e.t2=e.sent,e.next=11,Io.permissionService.getPermissions();case 11:return e.t3=e.sent,e.next=14,Io.featureService.getAccessLevel();case 14:return e.t4=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3,e.t4]);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=ft();return he.useEffect((function(){return Io.contactViewService.updateSubject.subscribe(function(){var e=r(t().mark((function e(n){var r,a,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,2),a=r[0],l=r[1],e.next=3,Io.bidViewService.read(i);case 3:u=e.sent,a===(null==u?void 0:u.contact_id)&&s.next(["contact",l]);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),he.useEffect((function(){return Io.bidViewService.updateSubject.subscribe((function(e){var t=o(e,2),n=t[0],r=t[1];i===n&&(s.next(["parameter",r]),s.next(["documents",(null==r?void 0:r.bid_files)||[]]))}))}),[]),ce(mn,{state:u,fallback:Io.errorService.handleGlobalError,children:(n=r(t().mark((function e(n){var r,a,u,c,d,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,5),a=r[0],u=r[1],c=r[2],d=r[3],p=r[4],e.abrupt("return",ce(bt,{history:Io.routerService,waitForChangesDelay:ua,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},routes:jc,params:{id:i},initialData:{contact:a,parameter:u,documents:(null==u?void 0:u.bid_files)||[]},payload:function(){return{menuMode:c,permissions:d,accessLevel:p}},changeSubject:s,onChange:console.log,onSubmit:l}));case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})},Pc=[{id:"contact",label:"Контакт",isActive:function(){return Uo(["/contact_edit/:id/contact"])}},{id:"tasks",isDisabled:function(){return!0},label:"Задачи",isActive:function(){return Uo(["/contact_edit/:id/tasks"])}},{id:"history",isDisabled:function(){return!0},label:"История",isActive:function(){return Uo(["/contact_edit/:id/history"])}}],Ec=function(e,t){if(!t){var n=Bi("id","create");"contact"===e&&Io.routerService.replace("/contact_edit/".concat(n,"/contact")),"tasks"===e&&Io.routerService.replace("/contact_edit/".concat(n,"/tasks")),"history"===e&&Io.routerService.replace("/contact_edit/".concat(n,"/history"))}},Nc=function(e){var t=e.payload,n=e.children,r=e.mode,a=void 0===r?P.Paper:r,i=he.useMemo((function(){return"tabs"===a?P.Tabs:P.Paper}),[a]);return ce(Ue,{withFixedPos:!0,fixedPosHeaderAdjust:a===P.Paper?85:64,mode:i,options:Pc,payload:t,onActiveOptionChange:Ec,children:n})},Uc=[{type:de.Link,action:"list-action",label:"Список контактов"},{type:de.Link,action:"user-list-action",label:"Данные контакта"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],Hc=[{id:"contact",label:"Контакт",isActive:function(){return Uo(["/contact_view/:id","/contact_view/:id/contact"])}},{id:"tasks",label:"Задачи",isActive:function(){return Uo(["/contact_view/:id/tasks"])}},{id:"history",label:"История",isActive:function(){return Uo(["/contact_view/:id/history"])}}],Wc=function(e,t){if(!t){var n=Bi("id","create");"contact"===e&&Io.routerService.replace("/contact_view/".concat(n,"/contact")),"tasks"===e&&Io.routerService.replace("/contact_view/".concat(n,"/tasks")),"history"===e&&Io.routerService.replace("/contact_view/".concat(n,"/history"))}},Oc=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?P.Paper:r,i=he.useMemo((function(){return"tabs"===a?P.Tabs:P.Paper}),[a]);return ce(Ue,{withFixedPos:!0,payload:n,fixedPosHeaderAdjust:a===P.Paper?85:64,mode:i,options:Hc,onActiveOptionChange:Wc,children:t})},Gc=[{type:de.Link,action:"list-action",label:"Список контактов"},{type:de.Link,action:"user-list-action",label:"Данные контакта"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasContactUpdatePermission},action:"edit-action",label:"Редактировать"}],$c=[{type:a.Fragment,isVisible:function(e){return 0===e.activeStep},fields:[{type:a.Component,element:function(){return ce(me,{variant:"h6",fontWeight:"bold",mb:2,children:"Данные контакта"})}},{type:a.Text,outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:a.Text,outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]},{type:a.Fragment,isVisible:function(e){return 2===e.activeStep},fields:[{type:a.Component,element:function(){return ce(me,{variant:"h6",fontWeight:"bold",mb:1,children:"Предпросмотр"})}},{type:a.Component,isVisible:function(e){return!e.contact_id},element:function(){return ce(fe,{variant:"outlined",color:"warning",sx:{mb:2},children:"Создавая новый контакт, убедитесь, что нет дубликата"})}},{type:a.Component,isVisible:function(e){return!!e.contact_id},element:function(){return ce(fe,{variant:"outlined",color:"info",sx:{mb:2},children:"Убедитесь, что это контактные данные клиента"})}},{type:a.Text,isVisible:function(e){return!!e.contact_id},compute:(gc=r(t().mark((function e(n){var r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.fio,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return gc.apply(this,arguments)}),disabled:!0,outlined:!0,title:"Ф.И.О"},{type:a.Text,isVisible:function(e){return!!e.contact_id},compute:(kc=r(t().mark((function e(n){var r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.contact_id,e.next=3,Io.contactViewService.tryRead(r);case 3:if(e.t0=e.sent,e.t0){e.next=6;break}e.t0={};case 6:return a=e.t0,i=a.telefon,o=void 0===i?"":i,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),function(e){return kc.apply(this,arguments)}),fieldBottomMargin:"0",disabled:!0,outlined:!0,title:"Телефон",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000"},{type:a.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Ф.И.О",isInvalid:function(e){return e.fio?null:"Обязательно к заполнению"},description:"Фамилия Имя Отчество контакта",name:"fio"},{type:a.Text,isVisible:function(e){return!e.contact_id},outlined:!0,title:"Телефон",isInvalid:function(e){return e.telefon?null:"Обязательно к заполнению"},description:"Телефон контакта",inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon"}]}],Yc=[{type:de.Link,action:"list-action",label:"Список контактов"},{type:de.Link,action:"list-action",label:"Создание контакта"}],Zc=jo()((function(e){return{root:{position:"relative",overflow:"hidden"},header:{position:"absolute",top:0,left:0,height:65,paddingLeft:e.spacing(2),paddingRight:e.spacing(2),background:"whitesmoke",width:"100%"},content:{minHeight:300},adjust:{paddingBottom:65},listItemBackground:{background:pe(e.palette.primary.main,.05)}}})),Xc="real-estate__headerRoot",Kc=[{type:de.Link,action:"list-action",label:"Список контактов"},{type:de.Link,action:"list-action",label:"История контакта"}];at.createLoader(24);var Jc=[{type:a.Fragment,isVisible:function(e){return!e.kontakt||!!nt(e.kontakt,"Физическое лицо")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",columns:"6",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:a.Combo,outlined:!1,name:"kontakt",title:"Контакт",itemList:["Физическое лицо","Юридическое лицо"]},{type:a.Text,outlined:!1,name:"fio",title:"Ф.И.О."},{type:a.Text,description:"Основной",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon",title:"Телефон"},{type:a.Combo,outlined:!1,name:"tip_klienta",title:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:a.Combo,outlined:!1,name:"status_klienta",title:"Статус клиента",itemList:["VIP-клиент","Клиент","Постоянный клиент","Специальный клиент","Черный список"]},{type:a.Combo,outlined:!1,name:"loyalnost_klienta",title:"Лояльность клиента",itemList:["Высокая","Средняя","Низкая"]},{type:a.Text,outlined:!1,name:"email",title:"Email"},{type:a.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Io.routerService.location.pathname.includes("bid_view"))&&!Io.routerService.location.pathname.includes("bid_edit")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:a.Text,outlined:!1,name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:a.Text,outlined:!1,name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",columns:"6",fields:[{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:a.Text,outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:a.Combo,outlined:!1,name:"pol",title:"Пол",itemList:["Мужской","Женский"]},{type:a.Text,outlined:!1,name:"pinfl",title:"ПИНФЛ"},{type:a.Text,outlined:!1,name:"inn",title:"ИНН"}]}]}]},{type:a.Fragment,isVisible:function(e){return!!nt(e.kontakt,"Юридическое лицо")},fields:[{type:a.Paper,fieldBottomMargin:"1",fieldRightMargin:"1",columns:"6",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Основная информация"})}},{type:a.Combo,outlined:!1,name:"kontakt",title:"Контакт",itemList:["Физическое лицо","Юридическое лицо"]},{type:a.Text,outlined:!1,name:"naimenovanie_organizaczii",title:"Наименование организации"},{type:a.Text,outlined:!1,name:"fio",title:"Ф.И.О."},{type:a.Text,description:"Основной",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"telefon",title:"Телефон"},{type:a.Combo,outlined:!1,name:"tip_klienta",title:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:a.Combo,outlined:!1,name:"status_klienta",title:"Статус клиента",itemList:["VIP-клиент","Клиент","Постоянный клиент","Специальный клиент","Черный список"]},{type:a.Combo,outlined:!1,name:"loyalnost_klienta",title:"Лояльность клиента",itemList:["Высокая","Средняя","Низкая"]},{type:a.Text,outlined:!1,name:"email",title:"Email"},{type:a.Fragment,isVisible:function(){var e=!0;return e=(e=e&&!Io.routerService.location.pathname.includes("bid_view"))&&!Io.routerService.location.pathname.includes("bid_edit")},fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"subtitle2",fontWeight:"bold",sx:{textDecoration:"underline",mt:2,mb:1},children:"Кадастр"})}},{type:a.Text,outlined:!1,name:"kadastrovyj-nomer_obekta",title:"Кадастровый номер объекта"},{type:a.Text,outlined:!1,name:"kadastrovyj-nomer_zemli",title:"Кадастровый номер земли"}]}]},{type:a.Group,fieldBottomMargin:"0",fieldRightMargin:"0",columns:"6",fields:[{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",sx:{textDecoration:"underline"},children:"Паспортные данные"})}},{type:a.Text,outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:a.Combo,outlined:!1,name:"pol",title:"Пол",itemList:["Мужской","Женский"]},{type:a.Text,outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:a.Text,outlined:!1,name:"pinfl",title:"ПИНФЛ"},{type:a.Text,outlined:!1,name:"inn",title:"ИНН"},{type:a.Combo,outlined:!1,name:"osnovanie-deyatelnosti-dannogo_licza",title:"Основание деятельности данного лица",itemList:["На основании устава","По доверенности"]}]}]}]}];window.contact_filters=Jc;var Qc,ed,td,nd,rd,ad,id,od,ld,ud,sd,cd,dd,pd,md,fd,yd,hd,vd=function(){return mt(Io.contactViewService.paginate,{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError})},bd=[{type:it.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ce(ot,{content:t})},width:function(){return 100}},{type:it.Compute,sortable:!0,field:"fio",compute:function(e){return e.fio||"Unset"},headerName:"Ф.И.О. Клиента",width:function(){return 200}},{type:it.Compute,sortable:!0,field:"tip_klienta",compute:function(e){return e.tip_klienta||"Unset"},headerName:"Тип клиента",width:function(){return 200}},{type:it.Compute,sortable:!0,field:"status_klienta",compute:function(e){return e.status_klienta||"Unset"},headerName:"Статус клиента",width:function(){return 200}},{type:it.Compute,sortable:!1,field:"status",headerName:"Статус сделки",compute:(Qc=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,e.next=3,Io.dealViewService.readStatusByContactId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return Qc.apply(this,arguments)}),width:function(){return 150}},{type:it.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],_d=[{type:tt.Add,isDisabled:function(e,t){return!t.permissions.hasContactCreatePermission},label:"Создать"},{type:tt.Menu,options:[{action:"add-action",isDisabled:function(e,t){return!t.permissions.hasContactCreatePermission}},{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],kd=[{label:"Создать копию",action:"copy-action",icon:dt},{label:"Удалить",action:"remove-action",icon:pt}],gd=function(){return window.innerHeight-70},xd="real-estate__headerRoot",wd=[{type:de.Link,action:"list-action",label:"Список контактов"},{type:de.Link,action:"list-action",label:"Задачи контакта"}],Sd=function(e){return function(){return ce(at,{handler:(n=r(t().mark((function n(){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Io.appwriteService.isAuthorized){t.next=3;break}return Io.routerService.push("/login_page"),t.abrupt("return");case 3:return t.next=5,e();case 5:case"end":return t.stop()}}),n)}))),function(){return n.apply(this,arguments)}),height:"calc(100vh - 80px)"});var n}},zd=[{id:"list",element:function(e){var n=e.payload,a=ft(Io.contactViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=vd(),u=function(){var e=r(t().mark((function e(n,r){var i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Io.layoutService.setAppbarLoader(!0),e.prev=1,"remove-action"!==n){e.next=6;break}return e.next=5,Io.contactViewService.remove(r.id);case 5:a.next();case 6:if("copy-action"!==n){e.next=13;break}return e.next=9,Io.contactViewService.read(r.id);case 9:return i=e.sent,e.next=12,Io.contactViewService.create(i);case 12:a.next();case 13:return e.prev=13,Io.layoutService.setAppbarLoader(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,,13,16]])})));return function(t,n){return e.apply(this,arguments)}}(),s=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasContactViewPermission&&Io.routerService.push("/contact_view/".concat(n.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,reloadSubject:a,title:"Контакты",filterLabel:"Фильтры",heightRequest:gd,rowActions:kd,actions:_d,columns:bd,handler:l,filters:Jc,onRowAction:u,onRowClick:s,onAction:function(e){"add-action"===e&&Io.routerService.push("/contact/create")},selectionMode:vt.Multiple,payload:n},o))})},isActive:function(e){return Uo(["/contact"],e)},isAvailable:function(){return!1}},{id:"create",element:function(){var e=ye(),n=e.elementRef,a=e.size,l=o(he.useState((function(){return{activeStep:0,contact_id:null,fio:"",telefon:""}})),2),u=l[0],s=l[1],d=o(he.useState([]),2),p=d[0],m=d[1],f=o(he.useState(!1),2),y=f[0],h=f[1],v=o(he.useState(!1),2),b=v[0],_=v[1],k=he.useMemo((function(){return new Date(Date.now()+1e4)}),[u.activeStep]);he.useEffect((function(){_(!1)}),[u.activeStep]);var g=function(e){return s((function(t){return i(i({},t),{},{activeStep:e})}))},x=u.activeStep,w=Zc().classes,S=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),z=S.handleLoadStart,F=S.handleLoadEnd,T=S.loading,A=S.unblock,C=function(){var e=r(t().mark((function e(){var n,r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=u.contact_id,r=u.fio,a=u.telefon,n){e.next=7;break}return e.next=5,Io.contactViewService.create({fio:r,telefon:a,"data-sozdaniya_klienta":je.currentDate()});case 5:i=e.sent,n=i.$id;case 7:A(),Io.routerService.push("/contact_edit/".concat(n)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Io.alertService.notify(go(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=r(t().mark((function e(){var n,r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),u.fio||u.telefon){e.next=3;break}return e.abrupt("return");case 3:if(0!==x){e.next=11;break}return e.next=6,Io.contactRequestService.findDuplicates(u);case 6:n=e.sent,r=n.rows,a=n.total,m(r),g(0===a?2:1);case 11:if(1===x&&g(2),2!==x){e.next=15;break}return e.next=15,C();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=!1;return 1===x&&(e=e||!b),e=(e=e||T)||3===x};return ce(Fe,{children:[ce(be,{items:Yc}),ce(_e,{className:w.root,children:[ce(ke,{className:w.header,activeStep:x,children:[ce(ge,{completed:x>0,children:ce(xe,{children:"Первичные данные"})},0),ce(ge,{completed:x>1,children:ce(xe,{children:"Поиск дубликатов"})},1),ce(ge,{completed:x>2,children:ce(xe,{children:"Создание контакта"})},2)]}),ce("div",{className:w.adjust}),ce(we,{ref:n,className:w.content,children:0===x?ce(Te,{sx:{pl:1,pr:1,pt:2,pb:3},handler:u,onChange:s,dirty:y,fields:$c}):1===x?ce(De,{sx:{height:a.height},component:Ae,minRowHeight:54,children:p.map((function(e,t){var n=e.fio,r=e.telefon,a=e.$id,o=e.tip_klienta;return ce(Ce,{className:Ve(c({},w.listItemBackground,t%2==1)),onClick:function(){s((function(e){return i(i({},e),{},{contact_id:a,activeStep:2})}))},dense:!0,children:[ce(Le,{children:ce(Me,{edge:"start",checked:u.contact_id===a,sx:{marginLeft:"0 !important"},disableRipple:!0})}),ce(Ie,{primary:n,secondary:o}),ce(me,{children:r})]},t)}))}):2===x?ce(Te,{sx:{pl:1,pr:1,pt:2,pb:3},handler:u,dirty:y,fields:$c}):null}),ce(Se,{sx:{pl:1,pr:1,pb:1},justifyContent:"space-between",flexDirection:"row",children:[ce(ze,{disabled:T||0===x,fallback:Io.errorService.handleGlobalError,onClick:function(){s((function(e){return i(i({},e),{},{contact_id:null})})),0===p.length?g(0):g(x-1)},sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:"Назад"}),ce(ze,1===x?{disabled:L(),fallback:Io.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:ce(Be,{expireAt:k,onExpire:function(){return _(!0)},children:"Не вижу дубликат"})}:2===x?{disabled:L(),fallback:Io.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:"Перейти"}:{disabled:L(),fallback:Io.errorService.handleGlobalError,onClick:V,sx:{mt:1},variant:"contained",onLoadStart:z,onLoadEnd:F,children:"Далее"})]})]})]})},isActive:function(e){return Uo(["/contact/create"],e)},isAvailable:function(){return!1}},{id:"contact",element:Sd((function(){var e=Bi("id");Io.routerService.push("/contact_edit/".concat(e,"/contact"))})),isActive:function(e){return Uo(["/contact_edit/:id"],e)}},{id:"contact",element:function(e){var t=e.params.id,n=void 0===t?"create":t,r=e.payload,a=e.formState,i=e.beginSave,o=e.data;return ce(Ee,{children:[ce(be,{items:Uc,onAction:function(e){"save-action"===e&&i()},payload:a}),ce(Eo,{}),ce(Nc,{mode:r.menuMode,payload:r,children:[ce(Te,{dirty:"create"===n,handler:function(){return o},fields:Bu,features:r.permissions}),ce(Ge,{})]})]})},isActive:function(e){return Uo(["/contact_edit/:id/contact"],e)}},{id:"contact",element:Sd((function(){var e=Bi("id");Io.routerService.push("/contact_view/".concat(e,"/contact"))})),isActive:function(e){return Uo(["/contact_view/:id"],e)}},{id:"contact",element:function(e){var n,a,i=e.params.id,o=void 0===i?"create":i,l=e.formState,u=e.payload,s=e.data,c=Yt(s),d=Jt({fields:Bu,payload:u,outlinePaper:!0,handler:(a=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.contactViewService.tryRead(o);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},onSubmit:(n=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,e.prev=1,!n){e.next=5;break}return e.next=5,Io.contactViewService.update(o,n);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),r=!1,a=go(e.t0),Io.alertService.notify(a),e.abrupt("return",!1);case 13:return e.prev=13,e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,null,[[1,7,13,16]])}))),function(e){return n.apply(this,arguments)}),submitLabel:"Сохранить"}),p=d.pickData,m=d.render;return ce(Ee,{children:[ce(be,{items:Gc,onAction:function(e){"edit-action"===e&&p()},payload:l}),ce(Eo,{}),ce(Oc,{mode:u.menuMode,payload:u,children:[ce(Te,{readonly:!0,dirty:"create"===o,handler:function(){return s},fields:Wu,features:u.permissions,changeSubject:c,payload:u}),ce(Ge,{}),m()]})]})},isActive:function(e){return Uo(["/contact_view/:id/contact"],e)}},{id:"tasks",element:function(e){var n=e.payload,a=o(he.useState([]),2),i=a[0],l=a[1],u=ye({target:document.body,selector:"main",compute:function(e){var t,r=e.height,a=e.width;if(n.menuMode===P.Tabs){var i=document.querySelector(".".concat(et));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(t=document.querySelector(".".concat(xd)))||void 0===t?void 0:t.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=Pe(function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return r=Bi("id")||"unknown",e.next=4,Io.taskHistoryViewService.findAllByContactId(r);case 4:a=e.sent,l(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Io.errorService.handleGlobalError,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),c=s.loading,d=s.execute;return ce(Ee,{children:[ce("div",{className:xd,children:[ce(be,{className:"",items:wd,onAction:function(e){"list-action"===e&&Io.routerService.replace("/apartment")}}),ce(Eo,{})]}),ce(Oc,{payload:n,mode:n.menuMode,children:ce(De,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){d(e)},children:ce(Se,{spacing:1,children:i.map((function(e){return ce(Ic,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return Uo(["/contact_view/:id/tasks"],e)}},{id:"history",element:function(e){var n=e.payload,a=o(he.useState([]),2),i=a[0],l=a[1],u=ye({target:document.body,selector:"main",compute:function(e){var t,r=e.height,a=e.width;if(n.menuMode===P.Tabs){var i=document.querySelector(".".concat(et));r-=(null==i?void 0:i.offsetHeight)||0}return r-=(null===(t=document.querySelector(".".concat(Xc)))||void 0===t?void 0:t.offsetHeight)||0,r-=50,{width:a,height:r=Math.min(window.innerHeight-50,r)}}}).size,s=Pe(function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return r=Bi("id"),e.next=4,Io.dealHistoryViewService.findAllByContactId(r);case 4:a=e.sent,l(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:Io.errorService.handleGlobalError,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),c=s.loading,d=s.execute;return ce(Ee,{children:[ce("div",{className:Xc,children:[ce(be,{className:"",items:Kc,onAction:function(e){"list-action"===e&&Io.routerService.replace("/apartment")}}),ce(Eo,{})]}),ce(Oc,{payload:n,mode:n.menuMode,children:ce(De,{sx:{height:u.height},minHeight:72,loading:c,onDataRequest:function(e){d(e)},children:ce(Se,{spacing:1,children:i.map((function(e){return ce(Qo,{loading:c,status:"info",item:e},e.$id)}))})})})]})},isActive:function(e){return Uo(["/contact_view/:id/history"],e)}}],Fd=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==n){e.next=2;break}return e.abrupt("return",{"data-sozdaniya_klienta":je.currentDate()});case 2:return e.next=4,Io.contactViewService.tryRead(n);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Td=function(e){var n,a=e.id,i=void 0===a?"create":a,l=function(){var e=r(t().mark((function e(n,r){var a,o,l,u,s,c;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.afterSave,o=!0,e.prev=2,l=U.get(n,"contact")||{},"create"!==i){e.next=14;break}return e.next=7,Io.contactViewService.create(l);case 7:return u=e.sent,s=u.id,e.next=11,a();case 11:Io.routerService.push("/contact_edit/".concat(s)),e.next=16;break;case 14:return e.next=16,Io.contactViewService.update(i,l);case 16:Io.alertService.notify("Изменения сохранены"),e.next=24;break;case 19:e.prev=19,e.t0=e.catch(2),o=!1,c=go(e.t0),Io.alertService.notify(c);case 24:return e.prev=24,e.abrupt("return",o);case 27:case"end":return e.stop()}}),e,null,[[2,19,24,27]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fd(i);case 2:return e.t0=e.sent,e.next=5,Io.settingsViewService.getMasterDetailMode();case 5:return e.t1=e.sent,e.next=8,Io.permissionService.getPermissions();case 8:return e.t2=e.sent,e.next=11,Io.featureService.getAccessLevel();case 11:return e.t3=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=ft();return he.useEffect((function(){return Io.contactViewService.updateSubject.subscribe((function(e){var t=o(e,2),n=t[0],r=t[1];i===n&&s.next(["contact",r])}))}),[]),ce(mn,{state:u,fallback:Io.errorService.handleGlobalError,children:(n=r(t().mark((function e(n){var r,a,u,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,4),a=r[0],u=r[1],c=r[2],d=r[3],e.abrupt("return",ce(bt,{changeSubject:s,history:Io.routerService,waitForChangesDelay:ua,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},routes:zd,params:{id:i},initialData:{contact:a},payload:function(){return{menuMode:u,permissions:c,accessLevel:d}},onChange:console.log,onSubmit:l}));case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})},Ad=jo()((function(e){return{container:{padding:"16px",height:"100%"},icoContainer:{display:"flex",alignContent:"center",justifyContent:"center",width:"100%",marginBottom:"12px"},ico:{color:e.palette.text.primary,width:"48px",height:"48px"},btn:{borderRadius:"100px",marginLeft:"10%",marginRight:"10%",maxWidth:"225px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"#000000DE",background:"#E0E0E0",fontWeight:"500",width:"100%","&:hover":{color:"white"}},content:{display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center",height:"100%"}}})),Cd=function(e){var t=e.text,n=e.iconNumber,r=e.onClick,a=Ad().classes,i=[ce(fn,{className:a.ico}),ce(yn,{className:a.ico}),ce(hn,{className:a.ico})];return ce("div",{className:a.container,children:ce(we,{className:a.content,children:[ce("div",{className:a.icoContainer,children:ce(tn,{onClick:function(){r&&r()},disableRipple:!0,children:n?i[n-1]:ce(vn,{})})}),ce(ze,{onClick:r,endIcon:ce(bn,{}),className:a.btn,variant:"contained",children:t})]})})},Vd=function(){var e=f.localeData(),t=e.weekdays(),n=e.weekdaysShort(),r=f.Ls[f.locale()].weekStart,a=void 0===r?0:r,i=n||t;return[].concat(p(i.slice(a,7)),p(i.slice(0,a))).map((function(e){return"".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1,3))}))},Ld=jo()((function(e){return{switchHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"5px 0 10px"},daysHeader:{display:"flex",justifyContent:"stretch",alignItems:"stretch",height:"35px"},monthName:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",button:{padding:"5px",color:e.palette.text.primary}},dayLabel:{flex:1,textAlign:"center",opacity:.5},dayLabelStart:{textAlign:"center"},dayLabelEnd:{textAlign:"center"},noBorder:{border:"0"}}})),Md=function(e){var t=e.currentMonth,n=e.onMonthChange,r=e.onHeaderMonthClick,a=e.onHeaderYearClick,i=Ld().classes;return ce("div",{children:[ce("div",{className:i.switchHeader,children:[ce(zt,{onClick:function(){return n(t.clone().subtract(1,"months"))},children:ce(_n,{})}),ce(me,{className:i.monthName,children:[ce(xt,{onClick:r,className:Ve(i.noBorder),children:t.format("MMMM")}),ce(xt,{onClick:a,className:Ve(i.noBorder),children:t.format("YYYY")})]}),ce(zt,{className:i.noBorder,onClick:function(){return n(t.clone().add(1,"months"))},children:ce(kn,{})})]}),ce("div",{className:i.daysHeader,children:Vd().map((function(e,t){var n;return ce(me,{className:Ve(i.dayLabel,(n={},c(n,i.dayLabelStart,0===t),c(n,i.dayLabelEnd,6===t),n)),children:e},t)}))})]})},Id=o(Vt(),2),Dd=Id[0],Bd=Id[1],jd=jo()((function(e){return{listItemAccient:{background:pe(e.palette.getContrastText(e.palette.background.paper),.018)}}})),qd=function(e){e.onChange;var n=e.day,a=jd().classes,l=o(Bd(),1)[0],u=o(he.useState([]),2),s=u[0],d=u[1],p=o(he.useState(null),2),m=p[0],y=p[1],h=s.length,v=Pe(r(t().mark((function e(){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d([]),l){e.next=3;break}return e.abrupt("return");case 3:return r=si(n),e.next=6,l.promise;case 6:a=e.sent,i=a.filter((function(e){return e.moment_stamp===r})),d(i);case 9:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError}).execute;he.useEffect((function(){v()}),[l]);return ce(Ee,{children:[ce(xt,{onClick:function(e){var t=e.currentTarget;return y(t)},sx:i({},n.isToday()&&{background:"#132e5511","&:hover":{background:"#132e5533"}}),children:ce(Tt,{sx:{flexDirection:"column",gap:"5px"},children:[n.format("DD"),!!h&&ce(gn,{sx:{mt:"-2.5px"},side:5,color:n.isBefore(f().add(-1,"days"))?"red":h>3?"orange":"green"})]})}),ce(xn,{open:!!m,anchorEl:m,onClose:function(){return y(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:0===s.length?ce(me,{sx:{p:2},children:"На этот день задач не назначено"}):ce(we,{sx:{height:356,width:356},children:ce(Ae,{disablePadding:!0,subheader:ce(wn,{component:me,sx:{fontWeight:"bold"},children:["Задачи на ",n.format("DD/MM/YYYY")]}),children:ce(De,{sx:{height:308,width:356},children:s.map((function(e,t){var n=e.id,r=e.title,i=e.contact_fio,o=e.to_user_fio,l=e.type,u=e.is_call,s=e.is_meet;return ce(Ce,{className:Ve(c({},a.listItemAccient,t%2==0)),onClick:function(){return Io.routerService.push("/task")},children:ce(Ie,{primary:"Внутренняя"===l?"Задача: ".concat(r):"Контакт: ".concat(i," ").concat([u&&"Звонок",s&&"Встреча"].filter((function(e){return e})).join(", ")),secondary:"Ответственный: ".concat(o)})},n)}))})})})})]})},Rd=jo()((function(e){return{container:{width:"100%",height:"100%",display:"flex",flexDirection:"column"},calendar:{flex:1,display:"grid",background:e.palette.background.paper,gridTemplateColumns:"repeat(7, 2fr)",gridRowGap:"2px"},inactiveDay:{opacity:.5,pointerEvents:"none"},day:{"& button":{border:"0",color:e.palette.text.primary}},cell:{display:"flex",alignItems:"center",justifyContent:"center","&:nth-of-type(7n)":{justifyContent:'"flex-end"'},"&:nth-of-type(7n + 1)":{justifyContent:'"flex-start"'}}}})),Pd=function(e){var t=e.onChange,n=e.onHeaderMonthClick,r=e.onHeaderYearClick,a=e.minDate,i=e.maxDate,l=e.date,u=o(he.useState(l.clone().startOf("month")),2),s=u[0],d=u[1],p=o(Bd(),2)[1];he.useEffect((function(){var e=si(s.clone().startOf("week")),t=si(s.clone().endOf("month").endOf("week"));p({fromStamp:e,toStamp:t,promise:Io.dashboardRequestService.getTasksByStamp(e,t)})}),[s]);var m=he.useCallback((function(e){var n=e.clone().endOf("week"),r=s.get("month");return function(e,t){for(var n=t.diff(e,"days")+1,r=[],a=0;a!==n;a++)r.push(e.clone().add(a,"days"));return r}(e,n).map((function(e){var n=l.isSame(e,"date"),o=e.get("month")!==r||i.isBefore(e)||a.isAfter(e);return ce("div",{className:Ve(y.day,y.cell,c({},y.inactiveDay,o)),children:ce(qd,{day:e,isActive:n,onChange:t})},e.toString())}))}),[s,l,i,a,t]),f=he.useCallback((function(){return function(e,t){for(var n=t.diff(e,"weeks")+1,r=[],a=0;a!==n;a++)r.push(e.clone().add(a,"weeks"));return r}(s.clone().startOf("week"),s.clone().endOf("month").endOf("week")).map((function(e){return ce(he.Fragment,{children:m(e)},"week-".concat(e.toString()))}))}),[s,m]),y=Rd().classes;return ce("div",{className:y.container,children:[ce(Md,{currentMonth:s,onMonthChange:function(e){return d(e)},onHeaderMonthClick:n,onHeaderYearClick:r}),ce("div",{className:y.calendar,children:f()})]})},Ed=jo()((function(e){return{container:{height:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},stretch:{flex:1},disabled:{pointerEvents:"none",opacity:.5},monthLabel:{textAlign:"center"},noBorder:{border:"0"},arrows:{padding:"5px",color:e.palette.text.secondary},header:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"5px"},content:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:"15px",button:{color:e.palette.text.primary}}}})),Nd=function(e){var t=e.date,n=e.minDate,r=e.maxDate,a=e.onChange;t.get("month");var i=o(he.useState(t.get("year")),2),l=i[0],u=i[1],s=function(){for(var e=[],t=f().startOf("year"),n=0;12!==n;n++)e.push(t.clone().add(n,"months"));return e}().map((function(e){return e.get("month")})),d=function(){var e=f.localeData(),t=e.months();return(e.monthsShort()||t).map((function(e){return"".concat(e.slice(0,1).toUpperCase()).concat(e.slice(1,3))}))}(),p=Ed().classes,m=he.useCallback((function(e){var i=t.clone().set("month",e);i=i.set("year",l),t&&r.isBefore(t)?a(r.clone()):t&&n.isAfter(t)?a(n.clone()):a(i)}),[l,t,r,n,a]);return ce("div",{className:p.container,children:[ce("div",{className:p.header,children:[ce(zt,{className:p.noBorder,onClick:function(){var e=l-1;e>=n.get("year")&&u(e)},children:ce(Sn,{className:p.arrows})}),ce(me,{className:Ve(p.monthLabel,p.stretch),children:l}),ce(zt,{className:p.noBorder,onClick:function(){var e=l+1;e<=r.get("year")&&u(e)},children:ce(zn,{className:p.arrows})})]}),ce("div",{className:p.content,children:s.map((function(e){var t=r.get("month")<e&&r.get("year")===l||n.get("month")>e&&n.get("year")===l;return ce(xt,{className:Ve(c({},p.disabled,t)),onClick:function(){return m(e)},children:d[e]},e)}))})]})},Ud=jo()((function(e){return{container:{height:"100%",width:"100%",display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column"},stretch:{flex:1},yearLabel:{textAlign:"center"},noBorder:{border:"0"},arrows:{padding:"5px",border:"0",color:e.palette.text.disabled},header:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"5px"},content:{flex:1,display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gridGap:"15px",button:{color:e.palette.text.primary}}}})),Hd=function(e){var t=e.date,n=e.minDate,r=e.maxDate,a=e.onChange,i=t.get("year"),l=he.useMemo((function(){return function(e,t){for(var n=t.diff(e,"years")+1,r=[],a=0;a!==n;a++)r.push(e.clone().add(a,"years"));return r}(n,r).map((function(e){return e.get("year")})).reduce((function(e,t){var n=o(e.slice().reverse(),1)[0];return n.push(t),12===n.length?[].concat(p(e),[[]]):e}),[[]])}),[n,r]),u=o(he.useState(l.findIndex((function(e){return e.includes(i)}))),2),s=u[0],c=u[1],d=he.useCallback((function(e){var i=t.clone().set("year",e);t&&r.isBefore(t)?a(r.clone()):t&&n.isAfter(t)?a(n.clone()):a(i)}),[t,r,n,a]),m=l[s]||[],f=Ud().classes;return ce("div",{className:f.container,children:[ce("div",{className:f.header,children:[ce(xt,{className:f.noBorder,variant:"text",onClick:function(){c(Math.max(s-1,0))},children:ce(Sn,{className:f.arrows})}),ce(me,{className:Ve(f.yearLabel,f.stretch),children:t.format("YYYY")}),ce(xt,{className:f.noBorder,variant:"text",onClick:function(){var e=s+1;e<l.length&&c(e)},children:ce(zn,{className:f.arrows})})]}),ce("div",{className:f.content,children:m.map((function(e){return ce(xt,{color:e===i?"primary":"secondary",onClick:function(){return d(e)},children:e},e)}))})]})},Wd=jo()((function(e){return{container:{width:"100%",height:"100%",padding:e.spacing(1)}}})),Od=function(e){var t=e.date,n=void 0===t?f():t,r=e.minDate,a=void 0===r?f("1900-01-01"):r,i=e.maxDate,l=void 0===i?f("2100-01-01"):i,u=e.onChange,s=o(he.useState((function(){return n.isBefore(a)?a:n})),2),c=s[0],d=s[1],p=o(he.useState(!1),2),m=p[0],y=p[1],h=o(he.useState(!1),2),v=h[0],b=h[1],_=function(){return y(!0)},k=function(){return b(!0)},g=c.startOf("day"),x=function(e){y(!1),d(e.clone().set("year",e.get("year")))},w=function(e){b(!1),d(e.clone().set("month",e.get("month")))},S=Wd().classes;return ce(_e,{className:S.container,children:m?ce(Hd,{date:g,onChange:x,minDate:a,maxDate:l}):v?ce(Nd,{date:g,onChange:w,minDate:a,maxDate:l}):ce(Dd,{initialState:null,children:ce(Pd,{date:g,onChange:u,minDate:a,maxDate:l,onHeaderMonthClick:k,onHeaderYearClick:_})})})},Gd=jo()((function(e){return{container:{padding:"24px",position:"relative"},text:{fontSize:"16px",p:{fontSize:"12px",margin:"0"}},heading:{display:"flex",gap:"12px",alignItems:"center",padding:"0 0 12px 0 ",marginBottom:"12px",borderBottom:"1px solid #0000001F",button:{color:e.palette.text.primary}},amount:{fontSize:"24px",textAlign:"right"},options:{position:"absolute",top:"4px",right:"4px"}}})),$d=[ce(Tn,{}),ce(An,{}),ce(Cn,{}),ce(Vn,{}),ce(Ln,{})],Yd=function(e){var t=e.text,n=e.amount,r=e.iconNumber,a=Gd().classes;return ce("div",{className:a.container,children:[ce(zt,{disableRipple:!0,className:a.options,children:ce(Fn,{})}),ce("div",{className:a.heading,children:[ce(zt,{children:r?$d[r-1]:ce(vn,{})}),ce("div",{className:a.text,children:t})]}),ce("p",{className:a.amount,children:n})]})},Zd=jo()({funnelContainer:{padding:"10px 24px",position:"relative",height:"100%"},funnelTitle:{fontSize:"16px"},center:{height:"calc(100% - 100px)",marginTop:"65px"},funnel:{maxWidth:"452px",margin:"0 auto",width:"100%",paddingTop:"10px",display:"flex",flexDirection:"column",alignItems:"center",marginTop:"-10%",gap:"10px"},row:{background:"#D9D9D9",clipPath:"polygon(0 0, 100% 0, 97% 100%, 3% 100%)",textAlign:"center",fontSize:"14px",height:"20px"},options:{position:"absolute",top:"4px",right:"4px"}}),Xd=function(e){var t=e.valueMap,n=Zd().classes;return ce(we,{className:n.funnelContainer,children:[ce(zt,{className:n.options,children:ce(Fn,{})}),ce(we,{className:n.funnelTitle,children:"Воронка Продаж"}),ce(Tt,{className:n.center,children:ce(we,{className:n.funnel,children:_i.map((function(e,r){return ce(we,{sx:{width:100-5*r+"%"},className:n.row,children:[e," ",t[e]]},e)}))})})]})},Kd=function(){return ce(at,{sx:{height:"100%",width:"100%"}})},Jd=jo()({title:{fontSize:"16px",marginBottom:"18px"},container:{padding:"10px 24px",position:"relative",height:"100%"},options:{position:"absolute",top:"4px",right:"4px"},list:{display:"flex",flexDirection:"column",gap:"13px",margin:"0",padding:"0"},statRow:{display:"flex",width:"100%",alignItems:"center",gap:"7px",color:"00000099",fontSize:"14px",letterSpacing:"0.17px"},stats:{height:"4px",width:"200px"},managersList:{listStyle:"none",display:"flex",flexDirection:"column",fontSize:"12px",gap:"5px",padding:"0 !important"},managerRow:{display:"flex",alignItems:"center",gap:"8px"},managerDot:{width:"12px",height:"12px",background:"#000000DE",borderRadius:"100%"}}),Qd=function(){var e,n=Jd().classes;return ce("div",{className:n.container,children:[ce(zt,{className:n.options,children:ce(Fn,{})}),ce("div",{className:n.title,children:"Всего сделок"}),ce(Xe,{Loader:Kd,children:(e=r(t().mark((function e(){var a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.findAll();case 2:return a=e.sent,e.next=5,Promise.all(a.map(function(){var e=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,e.next=3,Io.dashboardRequestService.getDoneDealsByUserCount("last-month",r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return i=e.sent,o=i.map((function(e,t){var n,r,i,o,l,u=[null===(n=a[t])||void 0===n?void 0:n.last_name,null===(r=a[t])||void 0===r?void 0:r.first_name,null===(i=a[t])||void 0===i?void 0:i.middle_name].filter((function(e){return e})).join(" ");return{id:(null===(o=a[t])||void 0===o?void 0:o.id)||"unknown",label:u,color:Mn.getColor({shades:["500"],text:"".concat(u,"+").concat(null===(l=a[t])||void 0===l?void 0:l.id,"+").concat(t)}),value:e}})).sort((function(e,t){var n=e.value;return t.value-n})),l=i.reduce((function(e,t){return Math.max(e,t)})),e.abrupt("return",ce(In,{sx:{maxHeight:"calc(100% - 60px)",paddingLeft:"8px",overflowY:"auto"},children:[ce("div",{className:n.list,children:o.map((function(e){var t=e.id,r=e.value,a=e.color,i=Math.round(100/l*r);return ce("div",{className:n.statRow,children:[ce(Dn,{className:n.stats,sx:{backgroundColor:"#ccc","& .MuiLinearProgress-bar":{backgroundColor:a}},variant:"determinate",value:Math.max(i,3)}),r," Продаж"]},t)}))}),ce("ul",{className:n.managersList,children:o.map((function(e){var t=e.id,r=e.label,a=e.color;return ce("li",{className:n.managerRow,children:[ce(gn,{color:a,side:12})," ",r]},t)}))})]}));case 9:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})]})},ep=jo()({root:{position:"relative",height:"100%",width:"100%",overflow:"hidden"},container:{position:"absolute",top:0,left:0,height:"100%",width:"100%"}}),tp=function(e){var t=e.children,n=void 0===t?null:t,r=e.className,a=e.style,i=ep().classes;return ce(_e,{className:Ve(i.root,r),style:a,children:ce(we,{className:i.container,children:n})})},np=function(e){for(var t=!0,n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];for(var i=0,o=r;i<o.length;i++){var l=o[i];t=t&&!!String(e[l]||"").length}return t},rp=[{type:it.Compute,sortable:!0,field:"fio",compute:function(e){return e.fio||"Unset"},headerName:"Ф.И.О. Клиента",width:function(){return 200}},{type:it.Compute,sortable:!0,field:"tip_klienta",compute:function(e){return e.tip_klienta||"Unset"},headerName:"Тип клиента",width:function(){return 200}},{type:it.Compute,sortable:!0,field:"status_klienta",compute:function(e){return e.status_klienta||"Unset"},headerName:"Статус клиента",width:function(){return 200}},{type:it.Compute,sortable:!1,field:"status",headerName:"Статус сделки",compute:(ed=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.id,e.next=3,Io.dealViewService.readStatusByContactId(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),function(e){return ed.apply(this,arguments)}),width:function(){return 150}}],ap=[{type:a.Text,columns:"6",fieldBottomMargin:"1",shouldRecompute:function(){return!1},compute:(id=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Io.appwriteService.currentUser.$id,e.next=3,Io.userViewService.tryRead(n);case 3:return r=e.sent,e.abrupt("return",[null==r?void 0:r.last_name,null==r?void 0:r.first_name,null==r?void 0:r.middle_name].filter((function(e){return e})).join(" "));case 5:case"end":return e.stop()}}),e)}))),function(){return id.apply(this,arguments)}),name:"from_user_id",title:"От кого"},{type:a.Choose,columns:"6",fieldBottomMargin:"1",choose:(ad=r(t().mark((function e(n,r){var a,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pickUser(n.to_user_id?[n.to_user_id]:[]),e.next=3,r.userResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=o(a,1),l=i[0],e.abrupt("return",l);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return ad.apply(this,arguments)}),tr:(rd=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.tryRead(n);case 2:return r=e.sent,e.abrupt("return",[null==r?void 0:r.last_name,null==r?void 0:r.first_name,null==r?void 0:r.middle_name].filter((function(e){return e})).join(" "));case 4:case"end":return e.stop()}}),e)}))),function(e){return rd.apply(this,arguments)}),name:"to_user_id",title:"Кому",placeholder:"Не выбрано"},{type:a.Date,fieldBottomMargin:"1",name:"date",title:"Дата выполнения",labelShrink:!0,placeholder:"Новые задачи"},{type:a.Box,noBaseline:!0,isVisible:function(e){return"Клиент"===e.type},sx:{display:"grid",gridTemplateColumns:"1fr auto auto"},fields:[{type:a.Choose,sx:{minWidth:"100% !important"},fieldBottomMargin:"0",fieldRightMargin:"3",columns:"4",choose:(nd=r(t().mark((function e(n,r){var a,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pickContact(n.contact_id?[n.contact_id]:[]),e.next=3,r.contactResultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=o(a,1),l=i[0],e.abrupt("return",l);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return nd.apply(this,arguments)}),tr:(td=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.contactViewService.tryRead(n);case 2:return r=e.sent,e.abrupt("return",(null==r?void 0:r.fio)||"");case 4:case"end":return e.stop()}}),e)}))),function(e){return td.apply(this,arguments)}),name:"contact_id",title:"",placeholder:"Контакт"},{type:a.Checkbox,fieldBottomMargin:"0",name:"is_call",title:"Звонок"},{type:a.Checkbox,fieldBottomMargin:"0",name:"is_meet",title:"Встреча"}]},{type:a.Text,isVisible:function(e){return"Клиент"!==e.type},fieldBottomMargin:"1",title:"",placeholder:"Задача",name:"title"},{type:a.Text,fieldBottomMargin:"1",title:"",placeholder:"Комментарий",inputRows:3,name:"comment"},{type:a.Radio,fieldBottomMargin:"0",name:"type",radioValue:"Внутренняя",defaultValue:"Внутренняя",title:"Внутренняя"},{type:a.Radio,fieldBottomMargin:"0",name:"type",radioValue:"Клиент",title:"Клиент"}],ip=function(e){var n=e.payload,a=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),o=a.handleLoadStart,l=a.handleLoadEnd,u=ts({payload:n}),s=u.pickData,c=u.render,d=u.resultSubject,p=function(e){var t=e.payload,n=vd(),r=ft(),a=nn({withSearch:!0,slots:{FilterListSlot:Bn},noInitialFilters:!0,withLoader:!0,fetchDebounce:la,reloadSubject:Io.userViewService.reloadSubject,selectionMode:vt.Single,onSubmit:function(e){return r.next(e),!0},filterLabel:"Выбрать контакт",filters:Jc,payload:t,columns:rp,handler:n}),i=a.pickData,o=a.render,l=a.open;return{pickData:i,render:o,resultSubject:r,open:l}}({payload:n}),m=p.pickData,f=p.render,y=p.resultSubject,h=_t({fields:ap,title:"Создать задачу",payload:i(i({},n),{},{pickUser:s,userResultSubject:d,pickContact:m,contactResultSubject:y}),handler:function(){return{from_user_id:Io.appwriteService.currentUser.$id}}});return{execute:Pe(r(t().mark((function e(){var n,r,a,i,o,l,u,s,c,d,p,m,f,y;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h().toPromise();case 2:if(!(n=e.sent)||"Внутренняя"!==n.type){e.next=11;break}if(r=n.to_user_id,a=n.comment,i=n.date,o=n.title,l=i?je.dateStamp(i):null,np(n,"to_user_id","title")){e.next=9;break}return Io.alertService.notify("Укажите все поля"),e.abrupt("return");case 9:return e.next=11,Io.taskRequestService.createTodoTask(r,l,o,a);case 11:if(!n||"Клиент"!==n.type){e.next=19;break}if(u=n.to_user_id,s=n.comment,c=n.date,d=n.contact_id,p=n.title,m=n.is_meet,f=n.is_call,np(n,"to_user_id","contact_id")){e.next=16;break}return Io.alertService.notify("Укажите все поля"),e.abrupt("return");case 16:return y=c?je.dateStamp(c):null,e.next=19,Io.taskRequestService.createClientTask(u,d,y,p,!!f,!!m,s);case 19:case"end":return e.stop()}}),e)}))),{onLoadStart:o,onLoadEnd:l,fallback:Io.errorService.handleGlobalError}).execute,render:function(){return ce(Ee,{children:[f(),c()]})}}},op="7px",lp=function(){return ce(at,{size:24,sx:{justifyContent:"flex-end",width:"100%"}})},up=function(){return ce(at,{sx:{height:"100%",width:"100%",marginTop:"-2.5%"}})},sp=[{type:a.Group,columns:"14",tabletColumns:"12",phoneColumns:"12",fieldRightMargin:op,fieldBottomMargin:op,fields:[{type:a.Hero,height:"max(calc(100vh * 0.2), 150px)",columns:"3",tabletColumns:"6",phoneColumns:"12",bottom:op,right:op,child:{type:a.Component,element:function(){return ce(tp,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ce(Yd,{amount:ce(Xe,{Loader:lp,children:(e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dashboardRequestService.getNewBidsCount("last-month");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),text:"Новые заявки",iconNumber:1})});var e}}},{type:a.Hero,columns:"3",tabletColumns:"6",phoneColumns:"12",right:op,bottom:op,height:"max(calc(100vh * 0.2), 150px)",child:{type:a.Component,element:function(){return ce(tp,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ce(Yd,{amount:ce(Xe,{Loader:lp,children:(e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dashboardRequestService.getNewApartmentCount("last-month");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),text:"Новые объекты",iconNumber:2})});var e}}},{type:a.Hero,columns:"3",tabletColumns:"6",phoneColumns:"12",height:"max(calc(100vh * 0.2), 150px)",bottom:op,right:op,child:{type:a.Component,element:function(){return ce(tp,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ce(Yd,{amount:ce(Xe,{Loader:lp,children:(e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dashboardRequestService.getDealsInProgressCount("last-month");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})}),text:"В работе",iconNumber:3})});var e}}},{type:a.Hero,columns:"3",tabletColumns:"6",phoneColumns:"12",bottom:op,right:op,height:"max(calc(100vh * 0.2), 150px)",child:{type:a.Component,element:function(){return ce(tp,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033",opacity:"0.5"},children:ce(Yd,{amount:null,text:ce(Ee,{children:["Прибыль ",ce("p",{children:"За месяц"})]}),iconNumber:4})})}}}]},{type:a.Group,columns:"12",tabletColumns:"12",phoneColumns:"12",fields:[{type:a.Hero,height:"min(calc(100vh * 0.5), 700px)",right:op,bottom:op,columns:"6",phoneColumns:"12",child:{type:a.Component,element:function(){return ce(tp,{children:ce(Od,{onChange:console.log})})}}},{type:a.Hero,columns:"6",phoneColumns:"12",right:op,bottom:op,height:"min(calc(100vh * 0.5), 700px)",child:{type:a.Component,element:function(){return ce(tp,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ce(Xe,{Loader:up,children:(e=r(t().mark((function e(){var n,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(_i.map(function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dashboardRequestService.getDealsByStatusCount("last-month",n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,a=_i.reduce((function(e,t,r){return i(i({},e),{},c({},t,n[r]))}),{}),e.abrupt("return",ce(Xd,{valueMap:a}));case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})});var e}}}]},{type:a.Group,columns:"12",tabletColumns:"12",phoneColumns:"12",fields:[{type:a.Hero,minHeight:"min(calc(100vh * 0.5), 700px)",columns:"6",phoneColumns:"12",right:op,bottom:op,child:{type:a.Component,element:function(){return ce(tp,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ce(Qd,{})})}}},{type:a.Group,columns:"6",phoneColumns:"12",fields:[{type:a.Hero,desktopColumns:"6",tabletColumns:"6",phoneColumns:"12",right:op,bottom:op,minHeight:"min(calc(100vh * 0.25), 350px)",child:{type:a.Component,element:function(){return ce(tp,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ce(Cd,{onClick:function(){return Io.routerService.push("/apartment/create")},text:"Добавить Обьект",iconNumber:1})})}}},{type:a.Hero,desktopColumns:"6",tabletColumns:"6",phoneColumns:"12",right:op,bottom:op,minHeight:"min(calc(100vh * 0.25), 350px)",child:{type:a.Component,element:function(){return ce(tp,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:ce(Cd,{onClick:function(){return Io.routerService.push("/bid/create")},text:"Создать Заявку",iconNumber:2})})}}},{type:a.Hero,desktopColumns:"6",tabletColumns:"6",phoneColumns:"12",right:op,bottom:op,minHeight:"min(calc(100vh * 0.25), 350px)",child:{type:a.Component,element:function(e){var t=e.payload,n=ip({payload:t}),r=n.execute,a=n.render;return ce(tp,{style:{background:"#fff",boxShadow:"0px 5px 5px -3px #00000033"},children:[ce(Cd,{onClick:r,text:"Добавить Задачу",iconNumber:3}),a()]})}}}]}]}],cp=[{id:"common",element:function(e){var t=e.payload;return ce(Te,{fields:sp,payload:t,features:t.permissions})},isActive:function(e){return Uo(["/dashboard"],e)},isAvailable:function(){return!1}}],dp=jo()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",minHeight:150},container:{position:"relative",display:"flex",alignItems:"stretch",justifyContent:"stretch",flex:1},content:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",paddingTop:6,paddingBottom:6,gap:6,flex:1},header:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",paddingLeft:e.spacing(.5),paddingRight:e.spacing(.5)},row:{display:"flex",alignItems:"center",justifyContent:"space-between"},noBorder:{border:"none !important"},bold:{fontWeight:"bold !important"},adjust:{maxHeight:10,minHeight:10,flex:1},button:{backgroundColor:"#3F51B5",color:"#ffffff",fontSize:12,marginLeft:"auto",marginRight:"auto","&:hover":{color:"#3F51B5"}},fieldContainer:{display:"flex",justifyContent:"space-between"},fieldDesc:{fontSize:10,opacity:.6,marginLeft:4},dateFieldDesc:{fontSize:8,opacity:.6,marginLeft:4},field:{fontSize:12,marginRight:4,fontWeight:500},dateField:{fontSize:8}}})),pp=he.forwardRef((function(e,n){var a=e.className,i=e.style,l=e.contactDisplayName,u=e.contactType,s=e.contactNumber,c=e.responsible,d=e.requestType,p=e.dealIndex,m=e.dealType,y=e.dealStatus,h=e.price,v=e.currency,b=e.createdAt,_=e.updatedAt,k=e.apartmentId,g=e.bidId,x=e.id,w=e.onChangeStatus,S=e.onDrag,z=dp().classes,F=o(he.useState(null),2),T=F[0],A=F[1],C=o(he.useState(null),2),V=C[0],L=C[1],M=Pe(function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError}),I=M.execute,D=M.loading,B=he.useMemo((function(){var e=_i.findIndex((function(e){return e===y}));return _i.filter((function(t,n){return n<e})).reverse()}),[y]),j=he.useMemo((function(){var e=_i.findIndex((function(e){return e===y}));return _i.filter((function(t,n){return n>e}))}),[y]),q=he.useMemo((function(){return f(b).format("DD.MM.YYYY / HH:mm")}),[b]),R=he.useMemo((function(){return f(_).format("DD.MM.YYYY / HH:mm")}),[_]),P=he.useMemo((function(){return"Сделка сорвана"===y||"Закрытая сделка"===y}),[y]),E=he.useCallback((function(){k?Io.routerService.push("/apartment_view/".concat(k,"/history")):g&&Io.routerService.push("/bid_view/".concat(g,"/history"))}),[]);return ce("div",{"data-dealid":x,className:Ve(z.root,a),onDrag:function(){return S(x)},style:i,ref:n,draggable:!P,children:[ce(_e,{className:z.container,children:ce(we,{className:z.content,children:[ce(we,{className:z.row,children:[ce(zt,{onClick:function(e){var t=e.currentTarget;A(t),L(null)},disabled:!B.length||D||P,size:"small",children:ce(_n,{})}),ce(jn,{anchorEl:T,open:!!T,onClose:function(){return A(null)},children:B.map((function(e,t){return ce(qn,{disabled:0!==t&&"Сделка сорвана"!==e&&"Закрытая сделка"!==e,onClick:function(){I(e),A(null)},children:e},"".concat(e,"-").concat(t))}))}),ce(Zt,{label:c,variant:"filled",color:"#2196F3",sx:{fontWeight:500,fontSize:10}}),ce(zt,{onClick:function(e){var t=e.currentTarget;A(null),L(t)},disabled:!j.length||D||P,size:"small",children:ce(kn,{})}),ce(jn,{anchorEl:V,open:!!V,onClose:function(){return L(null)},children:j.map((function(e,t){return ce(qn,{disabled:0!==t&&"Сделка сорвана"!==e&&"Закрытая сделка"!==e,onClick:function(){I(e),L(null)},children:e},"".concat(e,"-").concat(t))}))})]}),ce(Tt,{sx:{minHeight:50},children:ce(me,{fontSize:12,textAlign:"center",maxWidth:"80%",paddingBottom:"6px",children:l})}),s&&ce(we,{className:z.content,children:[ce(we,{className:z.fieldContainer,sx:{borderBottom:1,borderColor:"#E0E0E0"},children:[ce(me,{className:z.fieldDesc,children:"Тип контакта"}),ce(me,{className:z.field,children:u})]}),ce(we,{className:z.fieldContainer,sx:{borderBottom:1,borderColor:"#E0E0E0"},children:[ce(me,{className:z.fieldDesc,children:"Номер телефона"}),ce(me,{className:z.field,children:s})]})]}),ce(Tt,{children:ce(we,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"center",maxWidth:"90%",gap:1},children:[ce(Zt,{label:"№ ".concat(p),variant:"filled",color:"#E0E0E0"}),ce(Zt,"Аренда"==m?{label:"Аренда",variant:"filled",color:"#AF4C5E",sx:{color:"white"}}:{label:"Продажа",variant:"filled",color:"#4CAFAF",sx:{color:"white"}}),ce(Zt,"Заявка"===d?{label:"Заявка",variant:"filled",color:"#AFAB4C",sx:{color:"white"}}:{label:"Объект",variant:"filled",color:"#4CAF50",sx:{color:"white"}})]})}),h&&ce(we,{className:z.content,children:ce(we,{className:z.fieldContainer,children:[ce(me,{className:z.fieldDesc,children:["Цена ","(".concat("uzs"===v?"SUM":"$",")")]}),ce(me,{className:z.field,children:h})]})}),ce(we,{className:z.container,sx:{borderTop:1,borderColor:"#E0E0E0"},children:[ce(Tt,{className:z.content,children:[ce(me,{className:z.dateFieldDesc,children:"Дата создания:"}),ce(me,{className:z.dateField,children:q})]}),ce(Tt,{className:z.content,children:[ce(me,{className:z.dateFieldDesc,children:"Дата обновления:"}),ce(me,{className:z.dateField,children:R})]})]}),ce(xt,{onClick:E,variant:"outlined",sx:{ml:1,mr:1},children:"Посмотреть историю"})]})}),ce("div",{className:z.adjust})]})})),mp=[{type:a.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr auto","& > .MuiGrid-root":{minWidth:"275px"},mt:-1},fields:[{type:a.Choose,fieldBottomMargin:"0",fieldRightMargin:"2",choose:(ld=r(t().mark((function e(n,r){var a,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pickData(n.user_id?[n.user_id]:[]),e.next=3,r.resultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=o(a,1),l=i[0],e.abrupt("return",l);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return ld.apply(this,arguments)}),tr:(od=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.tryRead(n);case 2:return r=e.sent,e.abrupt("return",[null==r?void 0:r.last_name,null==r?void 0:r.first_name,null==r?void 0:r.middle_name].filter((function(e){return e})).join(" "));case 4:case"end":return e.stop()}}),e)}))),function(e){return od.apply(this,arguments)}),name:"user_id",placeholder:"Ответственный",title:""},{type:a.Combo,fieldBottomMargin:"0",name:"tip_klienta",title:"",placeholder:"Тип клиента",itemList:["Собственник","Доверенное лицо","Риелтор","Информатор","Застройщик"]},{type:a.Div},{type:a.Text,fieldBottomMargin:"0",name:"search",title:"",placeholder:"Поиск",leadingIcon:Rn,trailingIcon:function(){return ce(Pn,{sx:{opacity:.5}})},trailingIconClick:function(e,t,n){e&&n("")}}]}],fp=function(e){var t=e.onChange,n=e.className,r=e.style,a=e.data,o=e.payload,l=ts({payload:o}),u=l.pickData,s=l.render,c=l.resultSubject;return ce(_e,{className:n,style:r,sx:{mb:1,minHeight:48},children:[ce(En,{sx:{height:"100%"},hideOverflowY:!0,children:ce(we,{sx:{p:1,display:"flex",alignItems:"center",justifyContent:"stretch"},children:ce(Te,{fields:mp,handler:function(){return a},onChange:function(e,n){n||t(e)},payload:function(){return i(i({},o),{},{pickData:u,resultSubject:c})},fieldDebounce:la})})}),s()]})},yp=function(){var e=r(t().mark((function e(n){var a,i,o,l,u,s,c,d;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.apartment_id){e.next=3;break}return a="Объект",e.abrupt("return");case 3:if(!n.bid_id){e.next=6;break}return a="Заявка",e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=3,o();case 3:return e.next=5,Io.userViewService.read(n.user_id);case 5:return l=e.sent,u=l.first_name,s=l.last_name,c=l.middle_name,d=[s,u,c].filter((function(e){return e})).join(" "),n.price&&1===n.price.length&&(i=n.price[0]),n.price&&2===n.price.length&&(i="От ".concat(n.price[0]," До ").concat(n.price[1])),e.abrupt("return",{id:n.id,contactType:n.tip_klienta,contactNumber:n.telefon,contactDisplayName:n.fio,createdAt:n.$createdAt,updatedAt:n.$updatedAt,dealIndex:n.index,requestType:a,currency:n.price_unit,metadata_created_at:f(n.$createdAt).format("DD/MM/YYYY"),metadata_updated_at:f(n.$updatedAt).format("DD/MM/YYYY"),price:i,apartmentId:n.apartment_id,userId:n.user_id,bidId:n.bid_id,responsible:d,dealStatus:n.status,dealType:n.type});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hp=jo()((function(e){return{root:c({display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",height:"calc(100vh - 85px)",width:"100%"},"& .".concat("react-declarative__scrollViewTarget"),{transform:"rotateX(180deg)","& > div > div":{marginBottom:"25px",transform:"rotateX(180deg)"}}),container:{position:"relative",flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flex:1,display:"flex"},group:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",maxWidth:"276px",minWidth:"276px",gap:10,padding:10,marginRight:10},inactiveGroup:{background:pe("#000",.03)},activeGroup:{background:pe(e.palette.primary.main,.5)},list:{flex:1,minWidth:"256px",height:"100%"},loading:{pointerEvents:"none"}}})),vp=["contactDisplayName","contactType","contactNumber","responsible","requestType","dealType","metadata_created_at","metadata_updated_at"],bp={user_id:"",tip_klienta:null,search:""},_p=[{id:"list",element:function(e){var n=e.params.dealCardMap,a=e.payload,l=hp().classes,u=o(Nn(bp),2),s=u[0],d=u[1],p=o(Un((function(){return{user_id:s.user_id,tip_klienta:JSON.parse(s.tip_klienta),search:s.search}})),2),m=p[0],y=p[1];gt((function(){d(m.current)}),[m.current]);var h=o(he.useState((function(){return new Map(n)})),2),v=h[0],b=h[1],_=Hn(v),k=he.useRef(null),g=o(he.useState(null),2),x=g[0],w=g[1],S=Wn({title:"Изменение статуса",placeholder:"Комментарий"}),z=function(){var e=r(t().mark((function e(n,r){var a,i,o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dealViewService.read(n);case 2:if(a=e.sent,i=a.status,o=a.apartment_id,l=a.bid_id,1!==(u=Math.abs(_i.indexOf(i)-_i.indexOf(r)))&&"Сделка сорвана"!==r&&"Закрытая сделка"!==r){e.next=15;break}return e.next=10,S().toPromise();case 10:if(!(s=e.sent)){e.next=14;break}return e.next=14,Io.dealRequestService.commitDealStatusChange(n,o,l,i,r,s);case 14:return e.abrupt("return");case 15:u>1&&Io.alertService.notify("Переносить сделки можно только на один шаг");case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=Pe(function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,1),a=r[0],w(null),e.next=4,z(k.current,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError}),T=F.loading,A=F.execute;he.useEffect((function(){return Io.dealViewService.updateSubject.subscribe(W(function(){var e=r(t().mark((function e(n){var r,a,i,l,u,s,c,d,p,m,f,y;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=o(n,2),a=r[0],i=r[1],l=new Map(_.current),u=0,s=_i;u<s.length;u++)c=s[u],d=l.get(c)||[],l.set(c,d.filter((function(e){return e.id!==a})));p=0,m=_i;case 4:if(!(p<m.length)){e.next=17;break}if((f=m[p])!==i.status){e.next=14;break}return y=l.get(f)||[],e.t0=y,e.next=11,yp(i);case 11:e.t1=e.sent,e.t0.unshift.call(e.t0,e.t1),l.set(f,y);case 14:p++,e.next=4;break;case 17:b(l);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),he.useEffect((function(){return Io.dealViewService.removeSubject.subscribe(W(function(){var e=r(t().mark((function e(n){var r,a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new Map(_.current),a=0,i=_i;a<i.length;a++)o=i[a],l=r.get(o)||[],r.set(o,l.filter((function(e){return e.id!==n})));b(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),he.useEffect((function(){return Io.dealViewService.createSubject.subscribe(W(function(){var e=r(t().mark((function e(n){var r,a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map(_.current),a=0,i=_i;case 2:if(!(a<i.length)){e.next=16;break}if((o=i[a])!==n.status){e.next=13;break}return l=(l=r.get(o)||[]).filter((function(e){return e.id!==n.$id})),e.t0=l,e.next=10,yp(n);case 10:e.t1=e.sent,e.t0.unshift.call(e.t0,e.t1),r.set(o,l);case 13:a++,e.next=2;break;case 16:b(r);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]);var C=T;return ce(we,{className:Ve(l.root,c({},l.loading,C)),children:[ce(fp,{data:m.current,payload:a,onChange:y}),ce(we,{className:l.container,children:ce(En,{withScrollbar:!0,hideOverflowY:!0,className:l.content,children:_i.map((function(e){var n,a=_.current.get(e)||[];return ce(we,{onDrop:function(t){var n=t.currentTarget;return A([e,n])},onDragEnd:function(){w(null)},onDragOver:function(t){w(e),t.preventDefault()},className:Ve(l.group,(n={},c(n,l.activeGroup,x===e),c(n,l.inactiveGroup,x!==e),n)),children:[ce(me,{variant:"h6",fontWeight:"bold",children:e}),ce(De,{className:l.list,minRowHeight:150,children:a.sort((function(e,t){var n=e.updatedAt,r=t.updatedAt;return f(n).isBefore(r)?1:-1})).filter((function(e){var t=m.current.user_id;return!t||e.userId===t})).filter((function(e){var t=m.current.tip_klienta;return null==t||!t.length||e.contactType===t[0]})).filter((function(e){var t=m.current.search;return!t||On.apply(void 0,[e,t].concat(vp))})).map((function(e){return ce(pp,i({onChangeStatus:(n=r(t().mark((function n(r){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z(e.id,r);case 2:case"end":return t.stop()}}),n)}))),function(e){return n.apply(this,arguments)}),onDrag:function(){k.current=e.id}},e),e.id);var n}))})]})}))})})]})},isActive:function(e){return Uo(["/deal"],e)},isAvailable:function(){return!1}}],kp=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,e.next=3,Promise.all(_i.map(function(){var e=r(t().mark((function e(a){var i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dealViewService.findByDealStatus(a);case 2:return i=e.sent,e.next=5,Promise.all(i.map(function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yp(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=e.sent,n.set(a,o);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gp=function(){return ce(me,{variant:"h2",color:"primary",width:"100%",textAlign:"center",fontWeight:"bold",sx:{textStroke:"2px #fff",WebkitTextStroke:"2px #fff"},children:oa})},xp=jo()((function(e){return{root:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:e.palette.background.default,height:"100%",width:"100%",display:"flex",alignItems:"center",flexDirection:"column",gap:20,padding:15},container:{position:"relative",overflow:"hidden",minWidth:375,maxWidth:375,padding:15},reveal:{width:"unset"}}})),wp=jo()((function(e){return{root:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,background:e.palette.background.default,height:"100%",width:"100%",display:"flex",alignItems:"center",flexDirection:"column",gap:20,padding:15},container:{position:"relative",overflow:"hidden",minWidth:375,maxWidth:375,padding:15},reveal:{width:"unset"}}})),Sp=function(){var e=r(t().mark((function e(n){var r,a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new FormData(n),a=r.get("email"),i=r.get("password"),a){e.next=6;break}return Io.alertService.notify("Введите email"),e.abrupt("return");case 6:if(i){e.next=9;break}return Io.alertService.notify("Введите пароль"),e.abrupt("return");case 9:return e.next=11,Io.authService.login({email:a.toString(),password:i.toString()});case 11:e.sent&&Io.routerService.push("/profile");case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zp=function(){var e=r(t().mark((function e(n){var r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new FormData(n),a=r.get("email"),i=r.get("password"),o=r.get("confirm"),a){e.next=7;break}return Io.alertService.notify("Введите email"),e.abrupt("return");case 7:if(i){e.next=10;break}return Io.alertService.notify("Введите пароль"),e.abrupt("return");case 10:if(i===o){e.next=13;break}return Io.alertService.notify("Пароли не совпадают"),e.abrupt("return");case 13:return e.next=15,Io.authService.register({email:a.toString(),password:i.toString()});case 15:e.sent&&Io.routerService.push("/profile");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fp=["Control","S"],Tp={overrideSystem:!0,ignoreInputFields:!1,repeatOnHold:!1},Ap=[{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Курс валюты"})}},{type:a.Group,fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:a.Text,desktopColumns:"3",tabletColumns:"6",phoneColumns:"12",outlined:!1,name:"usd_eur",title:"Пара USD-EUR",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000"}]},{type:a.Group,fieldRightMargin:"0",fieldBottomMargin:"0",fields:[{type:a.Text,desktopColumns:"3",tabletColumns:"6",phoneColumns:"12",outlined:!1,name:"usd_uzs",title:"Пара USD-UZS",inputFormatterAllowed:/^[0-9.]/,inputFormatterTemplate:"000000000000000"}]}]},{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Отображение карточек"})}},{type:a.Combo,desktopColumns:"3",tabletColumns:"6",phoneColumns:"12",outlined:!1,name:"masterdetail_mode",title:"Режим отображения",itemList:(dd=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dictService.getMasterDetailMode();case 2:return n=e.sent,e.abrupt("return",Object.keys(n));case 4:case"end":return e.stop()}}),e)}))),function(){return dd.apply(this,arguments)}),tr:(cd=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dictService.getMasterDetailMode();case 2:return r=e.sent,e.abrupt("return",U.get(r,n));case 4:case"end":return e.stop()}}),e)}))),function(e){return cd.apply(this,arguments)})}]},{type:a.Paper,fields:[{type:a.Component,fieldBottomMargin:"1",element:function(){return ce(me,{variant:"h6",fontWeight:"bold",children:"Вотермарка"})}},{type:a.Choose,name:"watermark_file_id",title:"Файл вотермарки",choose:(sd=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn("*.png");case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,Io.appwriteService.uploadFile(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)}))),function(){return sd.apply(this,arguments)}),tr:(ud=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Io.appwriteService.readFileName(n);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return","Не указано");case 9:case"end":return e.stop()}}),e,null,[[0,6]])}))),function(e){return ud.apply(this,arguments)}),desktopColumns:"3",tabletColumns:"6",phoneColumns:"12",outlined:!1}]}],Cp=[{type:de.Link,action:"breadcrumbs-action",label:"RealEstate"},{type:de.Link,action:"breadcrumbs-action",label:"Системные настройки"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"save-action",label:"Сохранить"}],Vp=[{type:a.Text,outlined:!0,name:"title",title:"Наименование",isInvalid:function(e){return e.title?null:"Поле не должно быть пустым"}},{type:a.Text,outlined:!0,title:"Комментарий",name:"comment",inputRows:3}],Lp=[{title:"База объектов",children:[{name:"sozdanie_obekta",label:"Создание объекта",description:"Возможность создать объект"},{name:"redaktirovanie_obekta",label:"Редактирование объекта",description:"Возможность отредактировать объект"},{name:"prosmotr_obekta",label:"Просмотр объекта",description:"Возможность просмотреть объект"}]},{title:"Заявки",children:[{name:"sozdanie_zayavki",label:"Создание заявки",description:"Возможность создать заявку"},{name:"redaktirovanie_zayavki",label:"Редактирование заявки",description:"Возможность отредактировать заявку"},{name:"prosmotr_zayavki",label:"Просмотр заявки",description:"Возможность просмотреть заявку"}]},{title:"Контакты",children:[{name:"sozdanie_kontakta",label:"Создание контакта",description:"Возможность создать контакт"},{name:"redaktirovanie_kontakta",label:"Редактирование контакта",description:"Возможность отредактировать данные контакта"},{name:"prosmotr_kontakta",label:"Просмотр контакта",description:"Возможность просмотреть данные контакта"}]},{title:"Служебный комментарий",children:[{name:"upominanie_polzovatelya",label:"Упоминание пользователя",description:"Возможность упомянуть пользователя в чате"},{name:"dobavlenie_fajla",label:"Добавление файла",description:"Возможность добавить файл в чат"}]},{title:"Сотрудники",children:[{name:"redaktirovanie_sotrudnika",label:"Редактирование сотрудника",description:"Возможность отредактировать данные сотрудника"},{name:"prosmotr_nomera_telefona_i_email",label:"Просмотр номера телефона и email",description:"Возможность просмотреть номер телефона и email сотрудника"},{name:"nastrojka_urovnej_dostupa",label:"Настройка уровней доступа",description:"Возможность настраивать уровни доступа"}]},(pd={title:"Уровень доступа",levels:[{label:"Стажер",description:"Видит только свои записи"},{label:"Сотрудник",description:"Видит свои записи и записи стажера"},{label:"Менеджер",description:"Видит свои записи и записи стажера, сотрудника"},{label:"Администратор",description:"Видит свои записи и записи стажера, сотрудника, менеджера"},{label:"Суперадмин",description:"Видет все данные из базы данных без ограничений"}]},md=pd.title,fd=pd.levels,{title:md,children:fd.map((function(e,t){var n=e.label,r=e.description,a="level-".concat(t+1);return{name:a,label:n,description:r,map:function(e){if(!e[a])return e;for(var t=0;t!==fd.length;t++){var n="level-".concat(t+1);n!==a&&(e[n]=!1)}return e}}}))}),{title:"Настройки",children:[{name:"sozdanie_roli",label:"Создание роли",description:"Возможность создать роль"},{name:"redaktirovanie_roli",label:"Редактирование роли",description:"Возможность отредактировать роль"}]}],Mp=jo()((function(e){return{root:{position:"absolute",padding:20,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"stretch",transform:"translate(-50%, -50%)",outline:"none",backgroundColor:e.palette.background.paper,borderRadius:5,gap:5},content:{overflow:"hidden",overflowY:"auto",flex:1},small:{top:"40%",left:"50%",maxHeight:"80%",width:500},large:{top:"50%",left:"50%",width:"calc(100vw - 50px)",height:"calc(100vh - 50px)"},container:{flex:1,overflow:"hidden"},title:{display:"flex",justifyContent:"space-between",alignItems:"center",height:65,color:e.palette.text.primary},submit:{marginTop:15},disabled:{opacity:.5,pointerEvents:"none"},indicatorTransparent:{height:6,background:e.palette.primary.main},tabRootTransparent:{minHeight:54,height:54},tabsRoot:{minHeight:54,height:54,marginLeft:"0 !important",marginRight:"0 !important"}}})),Ip=[{type:it.Compute,compute:function(e){return e.title||"Не указано"},field:"title",headerName:"Наименование",width:function(){return 200}},{type:it.Compute,compute:function(e){return e.comment||"Не указано"},field:"comment",headerName:"Комментарий",width:function(e){return Math.max(e-300,200)}},{type:it.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],Dp=[{type:tt.Add,isDisabled:function(e,t){return!t.permissions.hasSettingsCreateRolePermission}},{type:tt.Menu,options:[{action:"add-action",isDisabled:function(e,t){return!t.permissions.hasSettingsCreateRolePermission}},{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],Bp=[{label:"Удалить",action:"remove-action",icon:pt}],jp=function(){return window.innerHeight-160},qp=[{id:"common",element:function(e){var n=e.payload,a=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.settingsViewService.getValue();case 2:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(e){var a,o,l=Jn({waitForChangesDelay:ua,history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},updateSubject:Io.settingsViewService.updateSubject,checkUpdate:function(){return!0},shouldAutoSave:function(){return!0},onSave:(a=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,e.prev=1,e.next=4,Io.settingsViewService.setValue(n);case 4:Io.alertService.notify("Изменения сохранены"),e.next=12;break;case 7:e.prev=7,e.t0=e.catch(1),r=!1,a=go(e.t0),Io.alertService.notify(a);case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e,null,[[1,7]])}))),function(e){return a.apply(this,arguments)}),fallback:Io.errorService.handleGlobalError}),u=l.data,s=l.oneProps,c=l.beginSave,d=l.waitForChanges;o=Zn(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:c();case 3:case"end":return e.stop()}}),e)})))),Xn(Fp,o,Tp);return ce(Fe,{children:[ce(be,{items:Cp,onAction:function(e){"save-action"===e&&c()},payload:{hasChanged:!!u,payload:n}}),ce(Te,i({dirty:!0,handler:function(){return e.data},payload:n,fields:Ap},s)),ce(Ge,{})]})};return ce(mn,{state:a,fallback:Io.errorService.handleGlobalError,children:function(e){var t=o(e,1)[0];return ce(l,{data:t})}})},isActive:function(e){return Uo(["/settings","/settings/common"],e)},isAvailable:function(){return!1}},{id:"roles",element:function(e){var n,a=e.payload,l=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),u=function(e){var n=e.fullScreen,a=e.onChange,l=e.onSubmit,u=e.fallback,s=e.onLoadStart,d=e.onLoadEnd,p=o(he.useState("common"),2),m=p[0],f=p[1],y=o(he.useState({}),2),h=y[0],v=y[1],b=o(he.useState(!1),2),_=b[0],k=b[1],g=o(he.useState(!1),2),x=g[0],w=g[1],S=o(he.useState(!1),2),z=S[0],F=S[1],T=o(he.useState(0),2),A=T[0],C=T[1],V=Mp(),L=V.classes,M=V.cx;gt((function(){a&&a(h)}),[h]);var I=function(e,t){t||(v(e),F(!0),k(!1))},D=function(){v({}),w(!1),F(!1)},B=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=3;break}return e.next=3,l(h);case 3:w(!1),F(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){C((function(e){return e+1})),s&&s()},q=function(e){C((function(e){return e-1})),d&&d(e)};return{render:function(){var e;return ce(Pt,{open:x,onClose:D,children:ce(we,{className:M(L.root,(e={},c(e,L.small,!n),c(e,L.large,n),e)),children:[ce(we,{className:L.content,children:[ce(we,{className:L.title,sx:{position:"sticky",top:0,zIndex:1,background:"white"},children:ce(me,{variant:"h6",component:"h2",children:h.id?"Редактирование роли":"Создание роли"})}),ce(Ht,{value:m,children:[ce(we,{className:L.container,sx:{borderBottom:1,borderColor:"divider",pointerEvents:"all",position:"sticky",top:"65px",zIndex:1,background:"white"},children:ce(Wt,{variant:"fullWidth",classes:{root:L.tabsRoot,indicator:L.indicatorTransparent},onChange:function(e,t){f(t),k(!1)},children:[ce(Ot,{classes:{root:L.tabRootTransparent},label:"Общая информация",value:"common"}),ce(Ot,{classes:{root:L.tabRootTransparent},label:"Бизнес функции",value:"features"})]})}),ce($t,{className:L.content,value:"common",children:ce(Te,{sx:{pt:2},handler:h,fields:Vp,change:I,invalidity:function(){return k(!0)}})}),ce($t,{className:L.content,value:"features",children:ce(Qn,{sx:{pt:2},readonly:_,features:Lp,outlinePaper:!0,handler:function(){return h.role_features?h.role_features.reduce((function(e,t){return i(i({},e),{},c({},t,!0))}),{}):{}},change:function(e,t){if(e&&!t){var n=Object.entries(e).filter((function(e){var t=o(e,2);return t[0],!!t[1]})).map((function(e){return o(e,1)[0]}));v((function(e){return i(i({},e),{},{role_features:n})})),F(!0)}}})})]})]}),ce(ze,{className:L.submit,disabled:!!A||!z||_,fallback:u,onLoadStart:j,onLoadEnd:q,size:"large",variant:"contained",color:"info",fullWidth:!0,onClick:B,children:h.id?"Сохранить":"Создать"})]})})},pickRole:function(e){v(e),w(!0)}}}({onLoadStart:l.handleLoadStart,onLoadEnd:l.handleLoadEnd,onSubmit:(n=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.id){e.next=6;break}return e.next=3,Io.roleViewService.update(n.id,n);case 3:return Io.alertService.notify("Изменения сохранены"),p.next(),e.abrupt("return");case 6:return e.next=8,Io.roleViewService.create(n);case 8:Io.alertService.notify("Роль создана"),p.next();case 10:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),fullScreen:!0}),s=u.pickRole,d=u.render,p=ft(Io.roleViewService.reloadSubject),m=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,f=mt(Io.roleViewService.findAll,{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError,searchEntries:["title","comment"]}),y=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"add-action"===n&&s({});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=r(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("remove-action"!==n){e.next=3;break}return e.next=3,Io.roleViewService.remove(r.id);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:e.sent.hasSettingsEditRolePermission&&s(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return ce(Ee,{children:[ce(ht,i({withSingleSort:!0,withSearch:!0,fetchDebounce:la,reloadSubject:p,title:"Роли",heightRequest:jp,rowActions:Bp,actions:Dp,columns:Ip,handler:f,payload:a,onRowClick:v,onAction:y,onRowAction:h,selectionMode:vt.Multiple},m)),d()]})},isActive:function(e){return Uo(["/settings/roles"],e)},isAvailable:function(){return!1}}],Rp=function(){var e,n=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.settingsViewService.getMasterDetailMode();case 2:return e.t0=e.sent,e.next=5,Io.permissionService.getPermissions();case 5:return e.t1=e.sent,e.next=8,Io.featureService.getAccessLevel();case 8:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ce(mn,{state:n,fallback:Io.errorService.handleGlobalError,children:(e=r(t().mark((function e(n){var r,a,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,3),a=r[0],i=r[1],l=r[2],e.abrupt("return",ce(bt,{history:Io.routerService,routes:qp,payload:function(){return{menuMode:a,permissions:i,accessLevel:l}}}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})},Pp=jo()((function(e){return{root:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",minHeight:150},box:{display:"flex",flexDirection:"column",alignItems:"center",padding:e.spacing(1),flex:1},box_list:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 0",borderBottom:"1px solid gray",width:"100%",gap:"10px"},created_time:{alignSelf:"flex-start"},key:{color:"grey",fontSize:"14px"},value:{textAlign:"end",fontSize:"15px"},btn:{borderRadius:"25px"},adjust:{maxHeight:10,minHeight:10,flex:1}}})),Ep=he.forwardRef((function(e,n){var a=e.id,i=e.className,l=e.style,u=e.completionTime,s=e.fromWhom,c=e.toWhom,d=e.task,p=e.createdDate,m=e.contact,f=e.type,y=e.status,h=e.isCall,v=e.isMeet,b=e.onChangeStatus,_=e.onDrag,k=Pp().classes,g=o(he.useState(null),2),x=g[0],w=g[1],S=o(he.useState(null),2),z=S[0],F=S[1],T=Pe(function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError}),A=T.execute,C=T.loading,V=he.useMemo((function(){var e=oo.findIndex((function(e){return e===y})),t=oo.filter((function(t,n){return n<e})).filter((function(e){return"Просрочено"!==e})).filter((function(e){return"Выполненные задачи"!==e})).reverse();return t.push("Просрочено"),t.push("Выполненные задачи"),t}),[y]),L=he.useMemo((function(){var e=oo.findIndex((function(e){return e===y})),t=oo.filter((function(t,n){return n>e})).filter((function(e){return"Просрочено"!==e})).filter((function(e){return"Выполненные задачи"!==e}));return t.push("Просрочено"),t.push("Выполненные задачи"),t}),[y]),M=he.useMemo((function(){return"Выполненные задачи"===y||"Просрочено"===y}),[y]);return ce("div",{"data-dealid":a,className:Ve(k.root,i),onDrag:function(){return _(a)},style:l,ref:n,draggable:!M,children:[ce(_e,"Клиент"===f?{className:k.box,children:[ce(Se,{justifyContent:"space-between",alignItems:"center",direction:"row",width:"100%",children:[ce(zt,{onClick:function(e){var t=e.currentTarget;w(t),F(null)},disabled:!V.length||C||M,size:"small",children:ce(Rt,{})}),ce(jn,{anchorEl:x,open:!!x,onClose:function(){return w(null)},children:V.map((function(e,t){return ce(qn,{onClick:function(){A(e),w(null)},children:e},"".concat(e,"-").concat(t))}))}),ce(Kt,{label:u,variant:"filled",color:"primary"}),ce(zt,{onClick:function(e){var t=e.currentTarget;w(null),F(t)},disabled:!L.length||C||M,size:"small",children:ce(qt,{})}),ce(jn,{anchorEl:z,open:!!z,onClose:function(){return F(null)},children:L.map((function(e,t){return ce(qn,{onClick:function(){A(e),F(null)},children:e},"".concat(e,"-").concat(t))}))})]}),ce(we,{className:k.box_list,children:[ce(me,{className:k.key,children:"Кому:"}),ce(me,{className:k.value,children:c})]}),ce(we,{className:k.box_list,children:[ce(me,{className:k.key,children:"Контакт:"}),ce(me,{className:k.value,children:m})]}),ce(we,{sx:{display:v||v?"flex":"none",justifyContent:"space-around",gap:"10px",margin:"10px 0",width:"100%"},children:[ce(Kt,{label:"Встреча",color:"info",sx:{opacity:v?1:0}}),ce(Kt,{label:"Звонок",color:"warning",sx:{opacity:h?1:0}})]}),ce(we,{className:k.created_time,children:[ce(me,{className:k.key,children:"Дата создания:"}),ce(me,{className:k.value,children:p})]})]}:{className:k.box,children:[ce(Se,{justifyContent:"space-between",alignItems:"center",direction:"row",width:"100%",children:[ce(zt,{onClick:function(e){var t=e.currentTarget;w(t),F(null)},disabled:!V.length||C||M,size:"small",children:ce(Rt,{})}),ce(jn,{anchorEl:x,open:!!x,onClose:function(){return w(null)},children:V.map((function(e,t){return ce(qn,{onClick:function(){A(e),w(null)},children:e},"".concat(e,"-").concat(t))}))}),ce(Kt,{label:u,variant:"filled",color:"primary"}),ce(zt,{onClick:function(e){var t=e.currentTarget;w(null),F(t)},disabled:!L.length||C||M,size:"small",children:ce(qt,{})}),ce(jn,{anchorEl:z,open:!!z,onClose:function(){return F(null)},children:L.map((function(e,t){return ce(qn,{onClick:function(){A(e),F(null)},children:e},"".concat(e,"-").concat(t))}))})]}),ce(we,{className:k.box_list,children:[ce(me,{className:k.key,children:"От кого:"}),ce(me,{className:k.value,children:s})]}),ce(we,{className:k.box_list,children:[ce(me,{className:k.key,children:"Кому:"}),ce(me,{className:k.value,children:c})]}),ce(we,{className:k.box_list,children:[ce(me,{className:k.key,children:"Задача:"}),ce(me,{className:k.value,children:d})]}),ce(we,{className:k.created_time,children:[ce(me,{className:k.key,children:"Дата создания:"}),ce(me,{className:k.value,children:p})]})]}),ce("div",{className:k.adjust})]})})),Np=[{type:a.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr auto auto","& > .MuiGrid-root":{minWidth:"275px"},mt:-1},fields:[{type:a.Choose,fieldBottomMargin:"0",fieldRightMargin:"2",choose:(hd=r(t().mark((function e(n,r){var a,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pickData(n.user_id?[n.user_id]:[]),e.next=3,r.resultSubject.toPromise();case 3:if(!(a=e.sent)||!a.length){e.next=7;break}return i=o(a,1),l=i[0],e.abrupt("return",l);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e)}))),function(e,t){return hd.apply(this,arguments)}),tr:(yd=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.tryRead(n);case 2:return r=e.sent,e.abrupt("return",[null==r?void 0:r.last_name,null==r?void 0:r.first_name,null==r?void 0:r.middle_name].filter((function(e){return e})).join(" "));case 4:case"end":return e.stop()}}),e)}))),function(e){return yd.apply(this,arguments)}),name:"user_id",placeholder:"Ответственный",title:""},{type:a.Combo,fieldBottomMargin:"0",fieldRightMargin:"5",name:"task_type",title:"",placeholder:"Тип задачи",itemList:[].concat(["Внутренняя","Клиент"])},{type:a.Div},{type:a.Component,fieldRightMargin:"2",sx:{maxWidth:"185px 1important",minWidth:"185px !important"},element:function(e){var t=e.payload.onCreateTask;return ce(ze,{sx:{mt:1,mr:1,whiteSpace:"nowrap"},onClick:t,size:"small",variant:"contained",children:"Создать задачу"})}},{type:a.Text,fieldBottomMargin:"0",name:"search",title:"",placeholder:"Поиск",leadingIcon:Rn,trailingIcon:function(){return ce(Pn,{sx:{opacity:.5}})},trailingIconClick:function(e,t,n){e&&n("")}}]}],Up=function(e){var t=e.onChange,n=e.onCreateTask,r=e.className,a=e.style,o=e.data,l=e.payload,u=ts({payload:l}),s=u.pickData,c=u.render,d=u.resultSubject;return ce(_e,{className:r,style:a,sx:{mb:1,minHeight:48},children:[ce(En,{sx:{height:"100%"},hideOverflowY:!0,children:ce(we,{sx:{p:1,display:"flex",alignItems:"center",justifyContent:"stretch"},children:ce(Te,{fields:Np,handler:function(){return o},onChange:function(e,n){n||t(e)},payload:function(){return i(i({},l),{},{pickData:s,resultSubject:d,onCreateTask:n})},fieldDebounce:la})})}),c()]})},Hp=function(){var e=r(t().mark((function e(n){var r,a,i,o,l,u,s,c,d,p,m,y,h,v,b,_,k,g,x;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.moment_stamp,n.from_user_id,a=n.to_user_id,n.contact_id,i=n.from_user_fio,o=n.to_user_fio,l=n.contact_fio,u=n.title,s=n.$createdAt,c=n.$updatedAt,d=n.is_call,p=n.is_meet,m=n.$id,y=n.type,h=f(s).format("HH:mm DD/MM/YYYY"),v=i||"Не указано",b=o||"Не указано",_="Не указано",k=l||"Не указано",g="Не указано",e.next=9,so(n);case 9:if(null!==(x=e.sent)){e.next=12;break}return e.abrupt("return",null);case 12:return r&&(g=di(r).format("DD/MM/YYYY")),u&&(_=u),e.abrupt("return",{id:m,type:y,completionTime:g,fromWhom:v,toWhom:b,task:_,metadata_task:_,createdDate:h,updatedAt:c,metadata_created_at:f(s).format("DD/MM/YYYY"),metadata_updated_at:f(c).format("DD/MM/YYYY"),moment_stamp:r,toUserId:a,isCall:d,isMeet:p,status:x,contact:k});case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wp=[{type:a.Text,title:"Перенос с",columns:"6",compute:function(e){var t=e.fromStatus;return"Выполненные задачи"===t||"Просрочено"===t||"Новые задачи"===t?t:di(e.fromStamp||si()).format("DD/MM/YYYY")}},{type:a.Text,title:"Перенос на",columns:"6",compute:function(e){var t=e.toStatus;return"Выполненные задачи"===t||"Просрочено"===t||"Новые задачи"===t?t:di(U.get(lo,t)||si()).format("DD/MM/YYYY")}},{type:a.Text,name:"comment",title:"Комментарий",inputRows:3}],Op=jo()((function(e){return{root:c({display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",height:"calc(100vh - 85px)",width:"100%"},"& .".concat("react-declarative__scrollViewTarget"),{transform:"rotateX(180deg)","& > div > div":{marginBottom:"25px",transform:"rotateX(180deg)"}}),container:{position:"relative",flex:1,display:"flex",alignItems:"stretch",justifyContent:"stretch"},content:{flex:1,display:"flex"},group:{display:"flex",alignItems:"stretch",justifyContent:"stretch",flexDirection:"column",maxWidth:"276px",minWidth:"276px",gap:10,padding:10,marginRight:10},inactiveGroup:{background:pe("#000",.03)},activeGroup:{background:pe(e.palette.primary.main,.5)},list:{flex:1,minWidth:"256px",height:"100%"},loading:{pointerEvents:"none"}}})),Gp=["fromWhom","toWhom","task","contact","type","metadata_created_at","metadata_updated_at","metadata_task"],$p={user_id:"",tip_klienta:null,search:""},Yp=[{id:"list",element:function(e){var n=e.params.dealCardMap,a=e.payload,l=Op().classes,u=o(Nn($p),2),s=u[0],d=u[1],p=o(Un((function(){return{user_id:s.user_id,tip_klienta:JSON.parse(s.tip_klienta),search:s.search}})),2),y=p[0],h=p[1];gt((function(){d(y.current)}),[y.current]);var v=o(he.useState((function(){return new Map(n)})),2),b=v[0],_=v[1],k=function(e){var n=e.payload,a=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),i=a.handleLoadStart,o=a.handleLoadEnd,l=_t({payload:n,fields:Wp}),u=Pe(function(){var e=r(t().mark((function e(n){var r,a,i,o,u,s,c,d,p,m,f,y,h;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fromStamp,a=n.toStatus,i=n.fromStatus,o=n.type,u=n.id,s=n.call,c=n.meet,e.next=3,l({title:"Перенос задачи",handler:function(){return{fromStamp:r,toStatus:a,fromStatus:i}}}).toPromise();case 3:if(!(d=e.sent)){e.next=18;break}return e.next=7,Io.taskViewService.read(u);case 7:if(p=e.sent,m=p.to_user_id,f=p.title,y=p.contact_id,h=U.get(lo,a)||null,"Внутренняя"!==o){e.next=15;break}return e.next=15,Io.taskRequestService.updateTodoTask(u,m,i,h,"Выполненные задачи"===a,f,d.comment);case 15:if("Клиент"!==o){e.next=18;break}return e.next=18,Io.taskRequestService.updateClientTask(u,m,i,y,h,"Выполненные задачи"===a,s,c,f,d.comment);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:i,onLoadEnd:o,fallback:Io.errorService.handleGlobalError}),s=u.execute;return function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({payload:a}),g=ip({payload:a}),x=g.execute,w=g.render,S=he.useMemo((function(){var e,t=[],n=m(b.values());try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push(r)}}catch(a){n.e(a)}finally{n.f()}return t.flatMap((function(e){return e}))}),[b]),z=Hn(b),F=he.useRef(null),T=o(he.useState(null),2),A=T[0],C=T[1],V=function(){var e=r(t().mark((function e(n,r){var a,i,o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.find((function(e){return e.id===n}))){e.next=3;break}return e.abrupt("return");case 3:if(i=a.status,o=a.type,l=a.moment_stamp,u=a.isCall,s=a.isMeet,i!==r){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,k({id:n,type:o,fromStamp:l,toStatus:r,fromStatus:i,call:!!u,meet:!!s});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=Pe(function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,1),a=r[0],C(null),e.next=4,V(F.current,a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError}),M=L.loading,I=L.execute;he.useEffect((function(){return Io.taskViewService.updateSubject.subscribe(W(function(){var e=r(t().mark((function e(n){var r,a,i,l,u,s,c,d,p,m,f,y,h,v;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=o(n,2),a=r[0],i=r[1],l=new Map(z.current),u=0,s=oo;u<s.length;u++)c=s[u],d=l.get(c)||[],l.set(c,d.filter((function(e){return e.id!==a})));return e.next=5,so(i);case 5:p=e.sent,m=0,f=oo;case 7:if(!(m<f.length)){e.next=19;break}if((y=f[m])!==p){e.next=16;break}return h=l.get(y)||[],e.next=13,Hp(i);case 13:(v=e.sent)&&h.unshift(v),l.set(y,h);case 16:m++,e.next=7;break;case 19:_(l);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),he.useEffect((function(){return Io.taskViewService.removeSubject.subscribe(W(function(){var e=r(t().mark((function e(n){var r,a,i,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=new Map(z.current),a=0,i=oo;a<i.length;a++)o=i[a],l=r.get(o)||[],r.set(o,l.filter((function(e){return e.id!==n})));_(r);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]),he.useEffect((function(){return Io.taskViewService.createSubject.subscribe(W(function(){var e=r(t().mark((function e(n){var r,a,i,o,l,u,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Map(z.current),e.next=3,so(n);case 3:a=e.sent,i=0,o=oo;case 5:if(!(i<o.length)){e.next=18;break}if((l=o[i])!==a){e.next=15;break}return u=(u=r.get(l)||[]).filter((function(e){return e.id!==n.$id})),e.next=12,Hp(n);case 12:null!==(s=e.sent)&&u.unshift(s),r.set(l,u);case 15:i++,e.next=5;break;case 18:_(r);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[]);var D=M;return ce(we,{className:Ve(l.root,c({},l.loading,D)),children:[ce(Up,{data:y.current,payload:a,onChange:h,onCreateTask:x}),ce(we,{className:l.container,children:[ce(En,{withScrollbar:!0,hideOverflowY:!0,className:l.content,children:oo.map((function(e){var n,a=z.current.get(e)||[];return ce(we,{onDrop:function(t){var n=t.currentTarget;return I([e,n])},onDragEnd:function(){C(null)},onDragOver:function(t){C(e),t.preventDefault()},className:Ve(l.group,(n={},c(n,l.activeGroup,A===e),c(n,l.inactiveGroup,A!==e),n)),children:[ce(me,{variant:"h6",fontWeight:"bold",children:e}),ce(De,{className:l.list,minRowHeight:150,children:a.sort((function(e,t){var n=e.updatedAt,r=t.updatedAt;return f(n).isBefore(r)?1:-1})).filter((function(e){var t=y.current.user_id;return!t||e.toUserId===t})).filter((function(e){var t=y.current.task_type;return null==t||!t.length||e.type===t[0]})).filter((function(e){var t=y.current.search;return console.log({search:t}),!t||On.apply(void 0,[e,t].concat(Gp))})).map((function(e){return ce(Ep,i({onChangeStatus:(n=r(t().mark((function n(r){return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e.id,r);case 2:case"end":return t.stop()}}),n)}))),function(e){return n.apply(this,arguments)}),onDrag:function(){F.current=e.id}},e),e.id);var n}))})]})}))}),w()]})]})},isActive:function(e){return Uo(["/task"],e)},isAvailable:function(){return!1}}],Zp=function(){var e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,e.next=3,Promise.all(oo.map(function(){var e=r(t().mark((function e(a){var i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.taskViewService.findByTaskStatus(a);case 2:return i=e.sent,e.next=5,Promise.all(i.map(function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hp(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:o=e.sent,n.set(a,o.filter((function(e){return null!==e})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xp=[{id:"user",label:"Общая информация",isActive:function(){return Uo(["/user_edit/:id","/user_edit/:id/user"])}},{id:"additional_info",label:"Дополнительная информация",isActive:function(){return Uo(["/user_edit/:id","/user_edit/:id/additional_info"])}},{id:"features",label:"Бизнес функции",isActive:function(){return Uo(["/user_edit/:id/features"])}},{id:"files",label:"Файлы",isActive:function(){return Uo(["/user_edit/:id/files"])}}],Kp=function(e,t){if(!t){var n=Bi("id");"user"===e&&Io.routerService.replace("/user_edit/".concat(n,"/user")),"additional_info"===e&&Io.routerService.replace("/user_edit/".concat(n,"/additional_info")),"files"===e&&Io.routerService.replace("/user_edit/".concat(n,"/files")),"features"===e&&Io.routerService.replace("/user_edit/".concat(n,"/features"))}},Jp=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?P.Paper:r,i=he.useMemo((function(){return"tabs"===a?P.Tabs:P.Paper}),[a]);return ce(Ue,{withFixedPos:!0,payload:n,fixedPosHeaderAdjust:a===P.Paper?85:64,mode:i,options:Xp,onActiveOptionChange:Kp,children:t})},Qp=[{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Паспортные данные"},{type:a.Text,columns:"6",outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:a.Date,columns:"6",outlined:!1,name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:a.Text,columns:"6",outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:a.Text,columns:"6",outlined:!1,name:"adres_propiski",title:"Адрес прописки"},{type:a.Text,columns:"6",outlined:!1,name:"adres_prozhivaniya",title:"Адрес проживания"}]},{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Дополнительно"},{type:a.Text,columns:"6",outlined:!1,inputRows:3,name:"o_sebe",title:"О себе"},{type:a.Text,columns:"6",outlined:!1,inputRows:3,name:"hobbi",title:"Хобби"}]},{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Социальные сети"},{type:a.Text,columns:"6",outlined:!1,name:"telegram",title:"Telegram"},{type:a.Text,columns:"6",outlined:!1,name:"fejsbuk",title:"Facebook"},{type:a.Text,columns:"6",outlined:!1,name:"instagram",title:"Instagram"},{type:a.Text,columns:"6",outlined:!1,name:"vatsap",title:"WhatsApp"},{type:a.Text,columns:"6",outlined:!1,name:"v_kontakte",title:"VK"},{type:a.Text,columns:"6",outlined:!1,name:"zum",title:"ZOOM"}]},{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Дополнительные сведения"},{type:a.Group,fields:[{type:a.Group,columns:"6",fields:[{type:a.Component,element:function(){return ce(me,{children:"Дети"})}},{type:a.Group,child:{type:a.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:a.Radio,name:"deti",radioValue:"д",title:"Да"},{type:a.Radio,name:"deti",radioValue:"н",title:"Нет"}]}},{type:a.Group,columns:"12",fields:[{type:a.Combo,fieldRightMargin:"4",columns:"6",outlined:!1,name:"semejnoe_polozhenie",title:"Семейное положение",itemList:["Не выбрано","Холост/не замужем","Женат/замужем","Гражданский брак","Разведен(а)"]},{type:a.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_priema_rezyume",title:"Дата приема резюме"},{type:a.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"sertifikat",title:"Сертификат"},{type:a.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"nachalo_opyta_raboty",title:"Начало опыта работы"},{type:a.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_uvolneniya",title:"Дата увольнения"},{type:a.Text,outlined:!1,inputRows:3,name:"prichina_uvolneniya",title:"Причина увольнения"}]}]}]}]}];window.user_additional_info_fields=Qp;var em,tm,nm=[{type:de.Link,action:"user-list-action",label:"Список пользователей"},{type:de.Link,action:"user-list-action",label:"Настройки пользователя"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"user-save-action",label:"Сохранить"}],rm=[{id:"user",label:"Общая информация",isActive:function(){return Uo(["/user_view/:id","/user_view/:id/user"])}},{id:"additional_info",label:"Дополнительная информация",isActive:function(){return Uo(["/user_view/:id","/user_view/:id/additional_info"])}},{id:"features",isDisabled:function(e){return!e.permissions.hasUsersAccessLevelsPermission},label:"Бизнес функции",isActive:function(){return Uo(["/user_view/:id/features"])}},{id:"files",label:"Файлы",isActive:function(){return Uo(["/user_view/:id/files"])}}],am=function(e,t){if(!t){var n=Bi("id");"user"===e&&Io.routerService.replace("/user_view/".concat(n,"/user")),"additional_info"===e&&Io.routerService.replace("/user_view/".concat(n,"/additional_info")),"features"===e&&Io.routerService.replace("/user_view/".concat(n,"/features")),"files"===e&&Io.routerService.replace("/user_view/".concat(n,"/files"))}},im=function(e){var t=e.children,n=e.payload,r=e.mode,a=void 0===r?P.Paper:r,i=he.useMemo((function(){return"tabs"===a?P.Tabs:P.Paper}),[a]);return ce(Ue,{withFixedPos:!0,payload:n,fixedPosHeaderAdjust:a===P.Paper?85:64,mode:i,options:rm,onActiveOptionChange:am,children:t})},om=[{type:a.Paper,isVisible:function(e){return ku(e,"seriya-i-nomer_pasporta","data-vydachi_pasporta","kem_vydan","adres_propiski","adres_prozhivaniya")},fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Паспортные данные"},{type:a.Text,isVisible:function(e){return ku(e,"seriya-i-nomer_pasporta")},columns:"6",outlined:!1,name:"seriya-i-nomer_pasporta",title:"Серия и номер паспорта"},{type:a.Text,isVisible:function(e){return ku(e,"data-vydachi_pasporta")},columns:"6",outlined:!1,name:"data-vydachi_pasporta",title:"Дата выдачи паспорта"},{type:a.Text,isVisible:function(e){return ku(e,"kem_vydan")},columns:"6",outlined:!1,name:"kem_vydan",title:"Кем выдан"},{type:a.Text,isVisible:function(e){return ku(e,"adres_propiski")},columns:"6",outlined:!1,name:"adres_propiski",title:"Адрес прописки"},{type:a.Text,isVisible:function(e){return ku(e,"adres_prozhivaniya")},columns:"6",outlined:!1,name:"adres_prozhivaniya",title:"Адрес проживания"}]},{type:a.Paper,isVisible:function(e){return ku(e,"o_sebe","hobbi")},fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Дополнительно"},{type:a.Text,isVisible:function(e){return ku(e,"o_sebe")},columns:"6",outlined:!1,inputRows:3,name:"o_sebe",title:"О себе"},{type:a.Text,isVisible:function(e){return ku(e,"hobbi")},columns:"6",outlined:!1,inputRows:3,name:"hobbi",title:"Хобби"}]},{type:a.Paper,isVisible:function(e){return ku(e,"telegram","fejsbuk","instagram","vatsap","v_kontakte","zum")},fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Социальные сети"},{type:a.Text,isVisible:function(e){return ku(e,"telegram")},columns:"6",outlined:!1,name:"telegram",title:"Telegram"},{type:a.Text,isVisible:function(e){return ku(e,"fejsbuk")},columns:"6",outlined:!1,name:"fejsbuk",title:"Facebook"},{type:a.Text,isVisible:function(e){return ku(e,"instagram")},columns:"6",outlined:!1,name:"instagram",title:"Instagram"},{type:a.Text,isVisible:function(e){return ku(e,"vatsap")},columns:"6",outlined:!1,name:"vatsap",title:"WhatsApp"},{type:a.Text,isVisible:function(e){return ku(e,"v_kontakte")},columns:"6",outlined:!1,name:"v_kontakte",title:"VK"},{type:a.Text,isVisible:function(e){return ku(e,"zum")},columns:"6",outlined:!1,name:"zum",title:"ZOOM"}]},{type:a.Paper,isVisible:function(e){return ku(e,"deti","semejnoe_polozhenie","data_priema_rezyume","sertifikat","nachalo_opyta_raboty","data_uvolneniya","prichina_uvolneniya")},fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Дополнительные сведения"},{type:a.Group,fields:[{type:a.Group,isVisible:function(e){return ku(e,"deti")},columns:"6",fields:[{type:a.Component,element:function(){return ce(me,{children:"Дети"})}},{type:a.Group,child:{type:a.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:a.Radio,isVisible:function(e){return ku(e,"deti")},name:"deti",radioValue:"д",title:"Да"},{type:a.Radio,isVisible:function(e){return ku(e,"deti")},name:"deti",radioValue:"н",title:"Нет"}]}},{type:a.Group,columns:"12",fields:[{type:a.Text,isVisible:function(e){return ku(e,"semejnoe_polozhenie")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"semejnoe_polozhenie",title:"Семейное положение"},{type:a.Text,isVisible:function(e){return ku(e,"data_priema_rezyume")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_priema_rezyume",title:"Дата приема резюме"},{type:a.Text,isVisible:function(e){return ku(e,"sertifikat")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"sertifikat",title:"Сертификат"},{type:a.Text,isVisible:function(e){return ku(e,"nachalo_opyta_raboty")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"nachalo_opyta_raboty",title:"Начало опыта работы"},{type:a.Text,isVisible:function(e){return ku(e,"data_uvolneniya")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_uvolneniya",title:"Дата увольнения"},{type:a.Text,isVisible:function(e){return ku(e,"prichina_uvolneniya")},outlined:!1,inputRows:3,name:"prichina_uvolneniya",title:"Причина увольнения"}]}]}]}]}],lm=[{type:de.Link,action:"user-list-action",label:"Список пользователей"},{type:de.Link,action:"user-list-action",label:"Дополнительная информация пользователя"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasUsersUpdatePermission},action:"user-edit-action",label:"Редактировать"}],um=[{type:de.Link,action:"user-list-action",label:"Список пользователей"},{type:de.Link,action:"user-list-action",label:"Функции пользователя"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"user-save-action",label:"Сохранить"}],sm=[{type:de.Link,action:"user-list-action",label:"Список пользователей"},{type:de.Link,action:"user-list-action",label:"Функции пользователя"},{type:de.Button,action:"user-edit-action",label:"Редактировать"}],cm=[{type:de.Link,action:"user-list-action",label:"Список пользователей"},{type:de.Link,action:"user-list-action",label:"Файлы пользователя"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"user-save-action",label:"Сохранить"}],dm=[{type:de.Link,action:"user-list-action",label:"Список пользователей"},{type:de.Link,action:"user-list-action",label:"Файлы пользователя"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasUsersUpdatePermission},action:"user-edit-action",label:"Редактировать"}],pm=at.createLoader(28),mm=[{type:a.Text,outlined:!0,name:"email",title:"Email"},{type:a.Text,outlined:!0,name:"phone",title:"Телефон"}],fm=[{type:it.Component,headerName:"Аватар",sortable:!1,width:function(){return 65},element:function(e){var n,a=e.avatar,i=e.email;return ce(Xe,{Loader:pm,children:(n=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=6;break}return e.next=3,Io.appwriteService.getImageURL(a);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0="";case 7:return n=e.t0,e.abrupt("return",ce(we,{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:ce(Je,{src:n||void 0,alt:i})}));case 9:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)})})}},{type:it.Compute,sortable:!1,field:"index",headerName:"Номер",element:function(e){var t=e.index;return ce(ot,{content:t})},width:function(){return 100}},{type:it.Compute,sortable:!1,headerName:"Имя",compute:function(e){var t=e.last_name,n=void 0===t?"":t,r=e.first_name,a=void 0===r?"":r,i=e.middle_name;return[n,a,void 0===i?"":i].filter((function(e){return e.length})).join(" ")||"Не указано"},width:function(e){return Math.max((e-265)/3,200)}},{type:it.Compute,isVisible:function(e){var t=e.payload.permissions;return K(t.hasContactNumberPermission,t.hasUsersViewPhoneAndEmailPermission)},sortable:!1,compute:function(e){return e.phone||"Не указано"},field:"phone",headerName:"Телефон",width:function(e){return Math.max((e-265)/3,200)}},{type:it.Compute,sortable:!1,compute:function(e){return e.email||"Не указано"},isVisible:function(e){var t=e.payload.permissions;return K(t.hasContactEmailPermission,t.hasUsersViewPhoneAndEmailPermission)},field:"email",headerName:"Email",width:function(e){return Math.max((e-265)/3,200)}},{type:it.Action,headerName:"Действие",sortable:!1,width:function(){return 100}}],ym=[{type:tt.Menu,options:[{action:"update-now"},{action:"resort-action"},{action:"drop-filters"}]}],hm=[{label:"Редактировать",isDisabled:function(e,t){return!t.permissions.hasUsersUpdatePermission},action:"edit-action"}],vm=function(){return window.innerHeight-70},bm=jo()((function(e){return{root:{alignItems:"center",display:"flex"},avatar:{height:64,marginRight:e.spacing(2),width:64},avatarWrapper:{height:"100%",minWidth:60},content:{width:"100%"}}})),_m=at.createLoader(24),km=function(e){var n,a,i=e.readonly,o=e.avatar,l=e.email,u=e.onChange,s=bm().classes;return ce(we,{className:s.root,children:[ce(we,{className:s.avatarWrapper,children:ce(Xe,{payload:o,Loader:_m,children:(a=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,Io.appwriteService.getImageURL(n);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return r=e.t0,e.abrupt("return",ce(Je,{alt:l,src:r,className:s.avatar}));case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})})}),ce("div",{className:s.content,children:[ce(tr,{container:!0,spacing:1,children:[ce(tr,{item:!0,children:ce(ze,{disabled:i,color:"primary",onClick:(n=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn("image/jpeg, image/png");case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,Io.appwriteService.uploadFile(n);case 6:r=e.sent,u(r);case 8:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),size:"small",type:"button",variant:"outlined",children:"Выбрать фото"})}),ce(tr,{item:!0,children:ce(xt,{disabled:!o||i,onClick:function(){return u(null)},color:"primary",size:"small",type:"button",variant:"text",children:"Удалить"})}),ce(tr,{item:!0,xs:!0})]}),ce(me,{color:"textSecondary",variant:"caption",children:"Размер: 200x200, максимальный размер файла: 5Мб"})]})]})},gm=[{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Box,sx:{display:"grid",gridTemplateColumns:"1fr auto"},fields:[{type:a.Component,element:function(e){var t=e.readonly,n=e.avatar,r=e.email,a=e.onChange;return ce(km,{avatar:n,email:r,readonly:t,onChange:function(e){return a({avatar:e})}})}},{type:a.Switch,fieldBottomMargin:"0",name:"active",title:"Активация"}]}]},{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Основные данные"},{type:a.Text,name:"last_name",title:"Фамилия",outlined:!1,isInvalid:function(e){return e.last_name?null:"Необходимо заполнить поле"}},{type:a.Text,name:"first_name",title:"Имя",outlined:!1,isInvalid:function(e){return e.first_name?null:"Необходимо заполнить поле"}},{type:a.Text,name:"middle_name",title:"Отчество",outlined:!1},{type:a.Group,fields:[{type:a.Group,columns:"6",fields:[{type:a.Component,element:function(){return ce(me,{children:"Пол"})}},{type:a.Group,child:{type:a.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:a.Radio,name:"pol",radioValue:"м",title:"Мужской"},{type:a.Radio,name:"pol",radioValue:"ж",title:"Женский"}]}},{type:a.Group,columns:"12",fields:[{type:a.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_rozhdeniya",title:"Дата рождения"},{type:a.Date,fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_trudoustrojstva",title:"Дата трудоустройства"},{type:a.Text,fieldRightMargin:"4",columns:"6",outlined:!1,name:"email",title:"Email",placeholder:"Добавить рабочий email"},{type:a.Text,fieldRightMargin:"4",columns:"6",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"rabochij_telefon",title:"Рабочий телефон",placeholder:"Добавить номер"}]}]}]}]},{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Дополнительный телефон"},{type:a.Text,columns:"6",outlined:!1,inputFormatterAllowed:/^[0-9]/,inputFormatterTemplate:"+000000000000000",name:"lichnyj_nomer",title:"Личный номер"}]},{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Статус"},{type:a.Combo,columns:"6",outlined:!1,name:"ofis",title:"Офис",itemList:[]},{type:a.Combo,isDisabled:function(e,t){return!t.permissions.hasUsersAccessLevelsPermission},columns:"6",outlined:!1,isInvalid:function(e){return e.user_role?null:"Необходимо заполнить поле"},itemList:(tm=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dictService.getUserRoles();case 2:return n=e.sent,e.abrupt("return",Object.keys(n));case 4:case"end":return e.stop()}}),e)}))),function(){return tm.apply(this,arguments)}),tr:(em=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dictService.getUserRoles();case 2:return r=e.sent,e.abrupt("return",U.get(r,n)||n);case 4:case"end":return e.stop()}}),e)}))),function(e){return em.apply(this,arguments)}),name:"user_role",title:"Роль"},{type:a.Combo,columns:"6",outlined:!1,name:"filial",title:"Филиал",itemList:[]},{type:a.Text,columns:"6",outlined:!1,name:"dolzhnost",title:"Должность"},{type:a.Combo,columns:"6",outlined:!1,name:"otdel",title:"Отдел",itemList:[]},{type:a.Combo,columns:"6",outlined:!1,name:"status_sotrudnika",title:"Статус сотрудника",itemList:["Новый","В штате","Вне штата","Не работает","Уволен"]},{type:a.Group,columns:"6",fieldRightMargin:"0",fieldBottomMargin:"0",child:{type:a.Div,style:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:a.Checkbox,name:"nachalnik_otdela",title:"Начальник отдела"}]}}]}];window.user_fields=gm;var xm,wm,Sm=[{type:de.Link,action:"user-list-action",label:"Список пользователей"},{type:de.Link,action:"user-list-action",label:"Настройки пользователя"},{type:de.Button,isDisabled:function(e){return!e.hasChanged},action:"user-save-action",label:"Сохранить"}],zm=jo()((function(e){return{root:{alignItems:"center",display:"flex"},avatar:{height:64,marginRight:e.spacing(2),width:64},avatarWrapper:{height:"100%",minWidth:60},content:{width:"100%"}}})),Fm=at.createLoader(24),Tm=function(e){var n,a,i=e.readonly,o=e.avatar,l=e.email,u=e.onChange,s=zm().classes;return ce(we,{className:s.root,children:[ce(we,{className:s.avatarWrapper,children:ce(Xe,{payload:o,Loader:Fm,children:(a=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return e.next=3,Io.appwriteService.getImageURL(n);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=void 0;case 7:return r=e.t0,e.abrupt("return",ce(Je,{alt:l,src:r,className:s.avatar}));case 9:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})})}),ce("div",{className:s.content,children:[ce(tr,{container:!0,spacing:1,children:[ce(tr,{item:!0,children:ce(ze,{disabled:i,color:"primary",onClick:(n=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kn("image/jpeg, image/png");case 2:if(!(n=e.sent)){e.next=8;break}return e.next=6,Io.appwriteService.uploadFile(n);case 6:r=e.sent,u(r);case 8:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),size:"small",type:"button",variant:"outlined",children:"Выбрать фото"})}),ce(tr,{item:!0,children:ce(xt,{disabled:!o||i,onClick:function(){return u(null)},color:"primary",size:"small",type:"button",variant:"text",children:"Удалить"})}),ce(tr,{item:!0,xs:!0})]}),ce(me,{color:"textSecondary",variant:"caption",children:"Размер: 200x200, максимальный размер файла: 5Мб"})]})]})},Am=[{type:a.Paper,fieldBottomMargin:"1",fields:[{type:a.Box,sx:{display:"grid",gridTemplateColumns:"1fr auto"},fields:[{type:a.Component,element:function(e){var t=e.readonly,n=e.avatar,r=e.email,a=e.onChange;return ce(Tm,{avatar:n,email:r,readonly:t,onChange:function(e){return a({avatar:e})}})}},{type:a.Switch,fieldBottomMargin:"0",name:"active",title:"Активация"}]}]},{type:a.Paper,isVisible:function(e){return ku(e,"first_name","last_name","middle_name")},fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Личная информация"},{type:a.Text,isVisible:function(e){return ku(e,"last_name")},name:"last_name",title:"Фамилия",outlined:!1,isInvalid:function(e){return e.last_name?null:"Необходимо заполнить поле"}},{type:a.Text,isVisible:function(e){return ku(e,"first_name")},name:"first_name",title:"Имя",outlined:!1,isInvalid:function(e){return e.first_name?null:"Необходимо заполнить поле"}},{type:a.Text,isVisible:function(e){return ku(e,"middle_name")},name:"middle_name",title:"Отчество",outlined:!1},{type:a.Group,isVisible:function(e){return ku(e,"pol","data_rozhdeniya","data_trudoustrojstva","email","rabochij_telefon")},fields:[{type:a.Group,isVisible:function(e){return ku(e,"pol")},columns:"6",fields:[{type:a.Component,element:function(){return ce(me,{children:"Пол"})}},{type:a.Group,child:{type:a.Box,sx:{display:"grid",gridTemplateColumns:"auto auto 1fr"},fields:[{type:a.Radio,isVisible:function(e){return ku(e,"pol")},name:"pol",radioValue:"м",title:"Мужской"},{type:a.Radio,isVisible:function(e){return ku(e,"pol")},name:"pol",radioValue:"ж",title:"Женский"}]}},{type:a.Group,columns:"12",fields:[{type:a.Text,isVisible:function(e){return ku(e,"data_rozhdeniya")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_rozhdeniya",title:"Дата рождения"},{type:a.Text,isVisible:function(e){return ku(e,"data_trudoustrojstva")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"data_trudoustrojstva",title:"Дата трудоустройства"},{type:a.Text,features:["hasUsersViewPhoneAndEmailPermission"],isVisible:function(e){return ku(e,"email")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"email",title:"Email",placeholder:"Добавить рабочий email"},{type:a.Text,features:["hasUsersViewPhoneAndEmailPermission"],isVisible:function(e){return ku(e,"rabochij_telefon")},fieldRightMargin:"4",columns:"6",outlined:!1,name:"rabochij_telefon",title:"Рабочий телефон",placeholder:"Добавить номер"}]}]}]}]},{type:a.Paper,features:["hasUsersViewPhoneAndEmailPermission"],isVisible:function(e){return ku(e,"lichnyj_nomer")},fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Дополнительный телефон"},{type:a.Text,isVisible:function(e){return ku(e,"lichnyj_nomer")},columns:"6",outlined:!1,name:"lichnyj_nomer",title:"Личный номер"}]},{type:a.Paper,isVisible:function(e){return ku(e,"ofis","user_role","filial","dolzhnost","otdel","status_sotrudnika","nachalnik_otdela")},fieldBottomMargin:"1",fields:[{type:a.Typography,typoVariant:"h6",placeholder:"Статус"},{type:a.Text,isVisible:function(e){return ku(e,"ofis")},columns:"6",outlined:!1,name:"ofis",title:"Офис"},{type:a.Combo,isVisible:function(e){return ku(e,"user_role")},columns:"6",outlined:!1,isInvalid:function(e){return e.user_role?null:"Необходимо заполнить поле"},itemList:(wm=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dictService.getUserRoles();case 2:return n=e.sent,e.abrupt("return",Object.keys(n));case 4:case"end":return e.stop()}}),e)}))),function(){return wm.apply(this,arguments)}),tr:(xm=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.dictService.getUserRoles();case 2:return r=e.sent,e.abrupt("return",U.get(r,n)||n);case 4:case"end":return e.stop()}}),e)}))),function(e){return xm.apply(this,arguments)}),name:"user_role",title:"Роль"},{type:a.Text,isVisible:function(e){return ku(e,"filial")},columns:"6",outlined:!1,name:"filial",title:"Филиал"},{type:a.Text,isVisible:function(e){return ku(e,"dolzhnost")},columns:"6",outlined:!1,name:"dolzhnost",title:"Должность"},{type:a.Text,isVisible:function(e){return ku(e,"otdel")},columns:"6",outlined:!1,name:"otdel",title:"Отдел"},{type:a.Text,isVisible:function(e){return ku(e,"status_sotrudnika")},columns:"6",outlined:!1,name:"status_sotrudnika",title:"Статус сотрудника"},{type:a.Component,element:function(e){var t=e.nachalnik_otdela;return ce("div",{children:ce(we,{sx:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",gap:1},children:t&&ce(Kt,{label:"Начальник отдела"})})})}}]}],Cm=[{type:de.Link,action:"user-list-action",label:"Список пользователей"},{type:de.Link,action:"user-list-action",label:"Общая информация пользователя"},{type:de.Button,isDisabled:function(e){return!e.payload.permissions.hasUsersUpdatePermission},action:"user-edit-action",label:"Редактировать"}],Vm=[{id:"list",element:function(e){var n=e.payload,a=ft(Io.userViewService.reloadSubject),o=yt(Io.routerService.locationState,{fallback:Io.errorService.handleGlobalError}).listProps,l=Ku(),u=function(){var e=r(t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("edit-action"===n&&Io.routerService.push("/user_edit/".concat(r.id)),"remove-action"!==n){e.next=5;break}return e.next=4,Io.userViewService.remove(r.id);case 4:a.next();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return ce(Ee,{children:ce(ht,i({withSearch:!0,withSingleSort:!0,noInitialFilters:!0,fetchDebounce:la,title:"Сотрудники",filterLabel:"Фильтры",reloadSubject:a,heightRequest:vm,rowActions:hm,actions:ym,filters:mm,columns:fm,handler:l,onRowAction:u,onRowClick:function(e){Io.routerService.push("/user_view/".concat(e.id))},selectionMode:vt.Multiple,slots:{FilterListSlot:rn},payload:n},o))})},isActive:function(e){return Uo(["/user"],e)},isAvailable:function(){return!1}},{id:"user",element:Sd((function(){var e=Bi("id");Io.routerService.push("/user_edit/".concat(e,"/user"))})),isActive:function(e){return Uo(["/user_edit/:id"],e)}},{id:"user",element:function(e){var t=e.payload,n=e.onChange,r=e.formState,a=e.data,i=e.beginSave;return ce(Ee,{children:[ce(be,{onAction:function(e){"user-list-action"===e&&Io.routerService.push("/user"),"user-save-action"===e&&i()},items:Sm,payload:r}),ce(Eo,{}),ce(Jp,{payload:t,mode:t.menuMode,children:ce(Te,{dirty:!0,handler:function(){return a},fields:gm,features:t.permissions,onChange:n})}),ce(Ge,{})]})},isActive:function(e){return Uo(["/user_edit/:id/user"],e)}},{id:"files",element:function(e){var n,a,i,o=e.formState,l=e.onChange,u=e.beginSave,s=e.data,c=e.payload,d=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),p=d.handleLoadStart,m=d.handleLoadEnd;return ce(Ee,{children:[ce(be,{items:cm,onAction:function(e){"user-list-action"===e&&Io.routerService.push("/user"),"user-save-action"===e&&u()},payload:o}),ce(Eo,{}),ce(Jp,{payload:c,mode:c.menuMode,children:[ce(_e,{sx:{p:1},children:ce(He,{accept:"*",multiple:!0,items:s,tr:(i=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.tryReadFileName(n);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=n;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),fallback:Io.errorService.handleGlobalError,onClick:(a=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getFileURL(n);case 2:return r=e.sent,e.next=5,Io.appwriteService.readFileName(n);case 5:a=e.sent,We(r,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)}),onUpload:function(e){return Io.appwriteService.uploadFile(e)},onChange:(n=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(n);case 1:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onLoadStart:p,onLoadEnd:m})}),ce(Ge,{})]})]})},isActive:function(e){return Uo(["/user_edit/:id/files"],e)}},{id:"additional_info",element:function(e){var t=e.payload,n=e.onChange,r=e.formState,a=e.data,i=e.beginSave;return ce(Ee,{children:[ce(be,{onAction:function(e){"user-list-action"===e&&Io.routerService.push("/user"),"user-save-action"===e&&i()},items:nm,payload:r}),ce(Eo,{}),ce(Jp,{payload:t,mode:t.menuMode,children:ce(Te,{dirty:!0,handler:function(){return a},fields:Qp,features:t.permissions,onChange:n})}),ce(Ge,{})]})},isActive:function(e){return Uo(["/user_edit/:id/additional_info"],e)}},{id:"features",element:function(e){var t=e.beginSave,n=e.data,r=e.formState,a=e.payload,l=e.onChange;return ce(Ee,{children:[ce(be,{items:um,onAction:function(e){"user-list-action"===e&&Io.routerService.push("/user"),"user-save-action"===e&&t()},payload:r}),ce(Eo,{}),ce(Jp,{payload:a,mode:a.menuMode,children:[ce(Qn,{expandAll:!0,handler:function(){return n.reduce((function(e,t){return i(i({},e),{},c({},t,!0))}),{})},features:Lp,change:function(e,t){if(e&&!t){var n=Object.entries(e).filter((function(e){var t=o(e,2);t[0];return!!t[1]})).map((function(e){return o(e,1)[0]}));l(n)}}}),ce(Ge,{})]})]})},isActive:function(e){return Uo(["/user_edit/:id/features"],e)}},{id:"user",element:Sd((function(){var e=Bi("id");Io.routerService.push("/user_view/".concat(e,"/user"))})),isActive:function(e){return Uo(["/user_view/:id"],e)}},{id:"user",element:function(e){var n,a,i=e.params.id,o=e.payload,l=e.onChange,u=e.formState,s=e.data,c=Yt(s),d=Jt({fields:gm,payload:o,outlinePaper:!0,handler:(a=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.tryRead(i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},onSubmit:(n=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!0,e.prev=1,!n){e.next=5;break}return e.next=5,Io.userViewService.update(i,n);case 5:e.next=13;break;case 7:return e.prev=7,e.t0=e.catch(1),r=!1,a=go(e.t0),Io.alertService.notify(a),e.abrupt("return",!1);case 13:return e.prev=13,e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,null,[[1,7,13,16]])}))),function(e){return n.apply(this,arguments)}),submitLabel:"Сохранить"}),p=d.pickData,m=d.render;return ce(Ee,{children:[ce(be,{onAction:function(e){"user-list-action"===e&&Io.routerService.push("/user"),"user-edit-action"===e&&p()},items:Cm,payload:u}),ce(Eo,{}),ce(im,{payload:o,mode:o.menuMode,children:ce(Te,{dirty:!0,readonly:!0,handler:function(){return s},fields:Am,features:o.permissions,onChange:l,payload:o,changeSubject:c})}),ce(Ge,{}),m()]})},isActive:function(e){return Uo(["/user_view/:id/user"],e)}},{id:"additional_info",element:function(e){var n,a,i=e.params.id,o=e.payload,l=e.onChange,u=e.formState,s=e.data,c=Yt(s),d=Jt({fields:Qp,payload:o,outlinePaper:!0,handler:(a=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.tryRead(i);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),fullScreen:!0,title:"Редактировать",onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},onSubmit:(n=r(t().mark((function e(n){var a,o,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!0,e.prev=1,!n){e.next=10;break}if(!n.user_role){e.next=8;break}return o=new Set(n.user_features||[]),e.next=7,Promise.all(n.user_role.map(function(){var e=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.roleViewService.tryRead(n);case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:(a=r.role_features)&&a.forEach((function(e){return o.add(e)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 7:n.user_features=p(o);case 8:return e.next=10,Io.userViewService.update(i,n);case 10:e.next=18;break;case 12:return e.prev=12,e.t0=e.catch(1),a=!1,l=go(e.t0),Io.alertService.notify(l),e.abrupt("return",!1);case 18:return e.prev=18,e.abrupt("return",a);case 21:case"end":return e.stop()}}),e,null,[[1,12,18,21]])}))),function(e){return n.apply(this,arguments)}),submitLabel:"Сохранить"}),m=d.pickData,f=d.render;return ce(Ee,{children:[ce(be,{onAction:function(e){"user-list-action"===e&&Io.routerService.push("/user"),"user-edit-action"===e&&m()},items:lm,payload:u}),ce(Eo,{}),ce(im,{payload:o,mode:o.menuMode,children:ce(Te,{dirty:!0,readonly:!0,handler:function(){return s},fields:om,features:o.permissions,onChange:l,payload:o,changeSubject:c})}),ce(Ge,{}),f()]})},isActive:function(e){return K(Uo(["/user_view/:id/additional_info"],e))}},{id:"files",element:function(e){var n,a,i,o,l=e.params.id,u=e.formState,s=e.onChange,c=e.data,d=e.payload,p=Xo({data:c,onSubmit:(n=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.update(l,{user_files:n});case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}),m=p.render,f=p.pickFiles;return ce(Ee,{children:[ce(be,{items:dm,onAction:function(e){"user-list-action"===e&&Io.routerService.push("/user"),"user-edit-action"===e&&f()},payload:u}),ce(Eo,{}),ce(im,{payload:d,mode:d.menuMode,children:[ce(_e,{sx:{p:1},children:ce(He,{accept:"*",multiple:!0,disabled:!0,items:c,tr:(o=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.tryReadFileName(n);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=n;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),function(e){return o.apply(this,arguments)}),fallback:Io.errorService.handleGlobalError,onClick:(i=r(t().mark((function e(n){var r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.appwriteService.getFileURL(n);case 2:return r=e.sent,e.next=5,Io.appwriteService.readFileName(n);case 5:a=e.sent,We(r,a);case 7:case"end":return e.stop()}}),e)}))),function(e){return i.apply(this,arguments)}),onUpload:function(e){return Io.appwriteService.uploadFile(e)},onChange:(a=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(n);case 1:case"end":return e.stop()}}),e)}))),function(e){return a.apply(this,arguments)})})}),ce(Ge,{})]}),m()]})},isActive:function(e){return Uo(["/user_view/:id/files"],e)}},{id:"features",element:function(e){var n=e.params.id,a=e.data,l=e.formState,u=e.payload,s=Yt(a),d=ft();he.useEffect((function(){return s.subscribe((function(e){var t,n=e.reduce((function(e,t){return i(i({},e),{},c({},t,!0))}),{});Lp.forEach((function(e){return e.children.forEach((function(e){var t=e.name;n[t]||(n[t]=!1)}))})),null===(t=u.features)||void 0===t||t.forEach((function(e){n[e]=!0})),d.next(n)}))}),[]);var p,m,f=function(e,n){var a=n.data,l=n.onSubmit,u=n.onChange,s=n.fullScreen,d=n.expandAll,p=ve({history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)}}),m=p.handleLoadStart,f=p.handleLoadEnd,y=function(){var e=r(t().mark((function e(n,r){var a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n||r){e.next=4;break}return a=Object.entries(n).filter((function(e){var t=o(e,2);return t[0],!!t[1]})).map((function(e){return o(e,1)[0]})),e.next=4,l&&l(a);case 4:return e.abrupt("return",!0);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return er({expandAll:d,features:e,handler:function(){return a.reduce((function(e,t){return i(i({},e),{},c({},t,!0))}),{})},fullScreen:s,fallback:Io.errorService.handleGlobalError,onLoadStart:m,onLoadEnd:f,onSubmit:y,onChange:function(e,t){if(e&&!t){var n=Object.entries(e).filter((function(e){var t=o(e,2);return t[0],!!t[1]})).map((function(e){return o(e,1)[0]}));u&&u(n)}},submitLabel:"Сохранить"})}(Lp,{expandAll:!0,data:a,fullScreen:!0,onSubmit:(p=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.update(n,{user_features:r});case 2:case"end":return e.stop()}}),e)}))),function(e){return p.apply(this,arguments)})}),y=f.render,h=f.pickData;return ce(Ee,{children:[ce(be,{items:sm,onAction:function(e){"user-list-action"===e&&Io.routerService.push("/user"),"user-edit-action"===e&&h()},payload:l}),ce(Eo,{}),ce(im,{payload:u,mode:u.menuMode,children:[ce(Xe,{payload:n,children:(m=r(t().mark((function e(n){var r,a,i,o;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.read(n);case 2:if(r=e.sent,null!=(a=r.user_role)&&a.length){e.next=6;break}return e.abrupt("return",null);case 6:return e.next=8,Io.roleViewService.read(a[0]);case 8:return i=e.sent,o=i.title,e.abrupt("return",ce(_e,{sx:{width:"100%",p:1,pt:2,pb:2,mb:1},children:ce(me,{variant:"subtitle2",children:["Список бизнес-функций расширен ролью пользователя"," ",ce(Yn,{href:"#",onClick:function(){return ne("/settings/roles")},children:o})]})}));case 11:case"end":return e.stop()}}),e)}))),function(e){return m.apply(this,arguments)})}),ce(Qn,{readonly:!0,expandAll:!0,handler:function(){return u.features.reduce((function(e,t){return i(i({},e),{},c({},t,!0))}),{})},changeSubject:d,features:Lp}),ce(Ge,{})]}),y()]})},isActive:function(e){return Uo(["/user_view/:id/features"],e)}}],Lm=function(e){var n,a=e.id,i=void 0===a?"":a,l=function(){var e=r(t().mark((function e(n){var r,a,o,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!0,e.prev=1,a=U.get(n,"user")||{},o=U.get(n,"features")||[],l=U.get(n,"files")||[],U.set(a,"user_files",l),U.set(a,"user_features",o),e.next=9,Io.userViewService.update(i,a);case 9:Io.alertService.notify("Изменения сохранены"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),r=!1,u=go(e.t0),Io.alertService.notify(u);case 17:return e.prev=17,e.abrupt("return",r);case 20:case"end":return e.stop()}}),e,null,[[1,12,17,20]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.userViewService.tryRead(i);case 2:return e.t0=e.sent,e.next=5,Io.settingsViewService.getMasterDetailMode();case 5:return e.t1=e.sent,e.next=8,Io.permissionService.getPermissions();case 8:return e.t2=e.sent,e.next=11,Io.featureService.getFeaturesByUserId(i);case 11:return e.t3=e.sent,e.next=14,Io.featureService.getAccessLevel();case 14:return e.t4=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3,e.t4]);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=ft();return he.useEffect((function(){return Io.userViewService.updateSubject.subscribe((function(e){var t=o(e,2),n=t[0],r=t[1];i===n&&(s.next(["user",r]),s.next(["files",(null==r?void 0:r.user_files)||[]]),s.next(["features",(null==r?void 0:r.user_features)||[]]),s.next(["additional_info",r]))}))}),[]),ce(mn,{state:u,fallback:Io.errorService.handleGlobalError,children:(n=r(t().mark((function e(n){var r,a,u,c,d,p;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,5),a=r[0],u=r[1],c=r[2],d=r[3],p=r[4],e.abrupt("return",ce(bt,{changeSubject:s,history:Io.routerService,waitForChangesDelay:ua,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},routes:Vm,params:{id:i},initialData:{user:a,files:(null==a?void 0:a.user_files)||[],features:(null==a?void 0:a.user_features)||[],additional_info:a},payload:function(){return{menuMode:u,permissions:c,features:d,accessLevel:p}},onChange:function(e,t,n){var r,a;t||"user"===n&&(s.next(["files",(null===(r=e.user)||void 0===r?void 0:r.user_files)||[]]),s.next(["features",(null===(a=e.user)||void 0===a?void 0:a.user_features)||[]]))},onSubmit:l}));case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})})},Mm=[{path:"/error_page",element:function(){var e=xp().classes;return ce($n,{children:ce(we,{className:e.root,children:ce(Gn,{className:e.reveal,children:ce(_e,{className:e.container,children:ce(Se,{direction:"column",gap:"15px",children:[ce(gp,{}),ce("span",{children:"Во время работы приложения произошла ошибка. Информация об ошибке передана в отдел разработки"}),ce(xt,{variant:"contained",onClick:q,children:"Перезагрузить страницу"})]})})})})})}},{path:"/login_page",element:function(){return ce(we,{sx:{position:"fixed",top:0,left:0,height:"100vh",width:"100vw",background:"whitesmoke",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999},children:ce(_e,{component:"form",sx:{p:2,marginTop:"-5vh",maxWidth:"325px",minWidth:"325px"},onSubmit:function(e){return e.preventDefault(),!1},children:[ce(me,{variant:"h3",sx:{color:function(e){return e.palette.primary.main},mb:3,textAlign:"center",fontWeight:"bold"},children:"RealEstate"}),ce(we,{sx:{display:"flex",flexDirection:"column",gap:"15px"},children:[ce(wt,{required:!0,name:"email",fullWidth:!0,label:"Email",placeholder:"Email",helperText:"Email",type:"email"}),ce(wt,{required:!0,fullWidth:!0,name:"password",label:"Пароль",placeholder:"Пароль",helperText:"Пароль",type:"password"})]}),ce(we,{sx:{display:"flex",flexDirection:"row-reverse",mb:2},children:ce(Yn,{href:"#",onClick:function(){return Io.routerService.push("/register_page")},children:"Регистрация"})}),ce(ze,{onClick:(e=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.currentTarget,e.next=3,Sp(r.closest("form"));case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),variant:"contained",type:"submit",fullWidth:!0,children:"Войти"})]})});var e}},{path:"/register_page",element:function(){return ce(we,{sx:{position:"fixed",top:0,left:0,height:"100vh",width:"100vw",background:"whitesmoke",display:"flex",alignItems:"center",justifyContent:"center",zIndex:99999},children:ce(_e,{component:"form",sx:{p:2,marginTop:"-5vh",maxWidth:"325px",minWidth:"325px"},onSubmit:function(e){return e.preventDefault(),!1},children:[ce(me,{variant:"h3",sx:{color:function(e){return e.palette.primary.main},mb:3,textAlign:"center",fontWeight:"bold"},children:"RealEstate"}),ce(we,{sx:{display:"flex",flexDirection:"column",gap:"15px"},children:[ce(wt,{required:!0,name:"email",fullWidth:!0,label:"Email",placeholder:"Email",helperText:"Email",type:"email"}),ce(wt,{required:!0,fullWidth:!0,name:"password",label:"Пароль",placeholder:"Пароль",helperText:"Пароль",type:"password"}),ce(wt,{required:!0,fullWidth:!0,name:"confirm",label:"Повторите пароль",placeholder:"Повторите пароль",helperText:"Повторите пароль",type:"password"})]}),ce(we,{sx:{display:"flex",flexDirection:"row-reverse",mb:2},children:ce(Yn,{href:"#",onClick:function(){return Io.routerService.push("/login_page")},children:"Вход"})}),ce(ze,{onClick:(e=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.currentTarget,e.next=3,zp(r.closest("form"));case 3:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)}),variant:"contained",type:"submit",fullWidth:!0,children:"Регистрация"})]})});var e}},{path:"/inactive_page",element:function(){var e=wp().classes;return ce($n,{children:ce(we,{className:e.root,children:ce(Gn,{className:e.reveal,children:ce(_e,{className:e.container,children:ce(Se,{direction:"column",gap:"15px",children:[ce(gp,{}),ce("span",{children:"Ожидание активации профиля. Попросите Администратора активировать ваш аккаунт"}),ce(xt,{variant:"contained",onClick:q,children:"Перезагрузить страницу"})]})})})})})}}],Im=[{path:"/dashboard",sideMenu:"root.global.dashboard",element:function(){var e,n=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.settingsViewService.getMasterDetailMode();case 2:return e.t0=e.sent,e.next=5,Io.permissionService.getPermissions();case 5:return e.t1=e.sent,e.next=8,Io.featureService.getAccessLevel();case 8:return e.t2=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2]);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ce(mn,{state:n,fallback:Io.errorService.handleGlobalError,children:(e=r(t().mark((function e(n){var r,a,i,l;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,3),a=r[0],i=r[1],l=r[2],e.abrupt("return",ce(bt,{history:Io.routerService,routes:cp,payload:function(){return{menuMode:a,permissions:i,accessLevel:l}}}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{path:"/apartment",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_rent",sideMenu:"root.global.apartment.rent",element:fs},{path:"/apartment_sell",sideMenu:"root.global.apartment.sell",element:fs},{path:"/apartment_archive",sideMenu:"root.global.apartment.archive",element:fs},{path:"/apartment",sideMenu:"root.global.apartment",element:fs},{path:"/apartment/create",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_edit/:id",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_edit/:id/object",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_edit/:id/owner_contact",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_edit/:id/documents",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_view/:id",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_view/:id/object",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_view/:id/owner_contact",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_view/:id/documents",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_view/:id/history",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_view/:id/tasks",sideMenu:"root.global.apartment",element:fs},{path:"/apartment_view/:id/service_comment",sideMenu:"root.global.apartment",element:fs},{path:"/bid",sideMenu:"root.global.bid",element:Rc},{path:"/bid_rent",sideMenu:"root.global.bid.rent",element:Rc},{path:"/bid_sell",sideMenu:"root.global.bid.sell",element:Rc},{path:"/bid_archive",sideMenu:"root.global.bid.archive",element:Rc},{path:"/bid/create",sideMenu:"root.global.bid",element:Rc},{path:"/bid_edit/create",sideMenu:"root.global.bid",element:Rc},{path:"/bid_edit/create/parameter",sideMenu:"root.global.bid",element:Rc},{path:"/bid_edit/create/documents",sideMenu:"root.global.bid",element:Rc},{path:"/bid_edit/create/contact",sideMenu:"root.global.bid",element:Rc},{path:"/bid_edit/:id",sideMenu:"root.global.bid",element:Rc},{path:"/bid_edit/:id/parameter",sideMenu:"root.global.bid",element:Rc},{path:"/bid_edit/:id/documents",sideMenu:"root.global.bid",element:Rc},{path:"/bid_edit/:id/contact",sideMenu:"root.global.bid",element:Rc},{path:"/bid_view/:id",sideMenu:"root.global.bid",element:Rc},{path:"/bid_view/:id/parameter",sideMenu:"root.global.bid",element:Rc},{path:"/bid_view/:id/history",sideMenu:"root.global.bid",element:Rc},{path:"/bid_view/:id/documents",sideMenu:"root.global.bid",element:Rc},{path:"/bid_view/:id/contact",sideMenu:"root.global.bid",element:Rc},{path:"/bid_view/:id/tasks",sideMenu:"root.global.bid",element:Rc},{path:"/bid_view/:id/service_comment",sideMenu:"root.global.bid",element:Rc},{path:"/deal",sideMenu:"root.global.deal",element:function(){var e,n=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kp();case 2:return e.t0=e.sent,e.next=5,Io.settingsViewService.getMasterDetailMode();case 5:return e.t1=e.sent,e.next=8,Io.permissionService.getPermissions();case 8:return e.t2=e.sent,e.next=11,Io.featureService.getAccessLevel();case 11:return e.t3=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ce(mn,{state:n,fallback:Io.errorService.handleGlobalError,children:(e=r(t().mark((function e(n){var r,a,i,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,4),a=r[0],i=r[1],l=r[2],u=r[3],e.abrupt("return",ce(bt,{history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},routes:_p,params:{dealCardMap:a},payload:function(){return{menuMode:i,permissions:l,accessLevel:u}}}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{path:"/task",sideMenu:"root.global.task",element:function(){var e,n=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zp();case 2:return e.t0=e.sent,e.next=5,Io.settingsViewService.getMasterDetailMode();case 5:return e.t1=e.sent,e.next=8,Io.permissionService.getPermissions();case 8:return e.t2=e.sent,e.next=11,Io.featureService.getAccessLevel();case 11:return e.t3=e.sent,e.abrupt("return",[e.t0,e.t1,e.t2,e.t3]);case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return ce(mn,{state:n,fallback:Io.errorService.handleGlobalError,children:(e=r(t().mark((function e(n){var r,a,i,l,u;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o(n,4),a=r[0],i=r[1],l=r[2],u=r[3],e.abrupt("return",ce(bt,{history:Io.routerService,onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},routes:Yp,params:{dealCardMap:a},payload:function(){return{menuMode:i,permissions:l,accessLevel:u}}}));case 2:case"end":return e.stop()}}),e)}))),function(t){return e.apply(this,arguments)})})}},{path:"/contact",sideMenu:"root.global.contact",element:Td},{path:"/contact/create",sideMenu:"root.global.contact",element:Td},{path:"/contact_edit/create",sideMenu:"root.global.contact",element:Td},{path:"/contact_edit/:id",sideMenu:"root.global.contact",element:Td},{path:"/contact_view/:id",sideMenu:"root.global.contact",element:Td},{path:"/contact_view/:id/contact",sideMenu:"root.global.contact",element:Td},{path:"/contact_view/:id/tasks",sideMenu:"root.global.contact",element:Td},{path:"/contact_view/:id/history",sideMenu:"root.global.contact",element:Td},{path:"/user",sideMenu:"root.global.user",element:Lm},{path:"/user_view/:id",sideMenu:"root.global.user",element:Lm},{path:"/user_view/:id/user",sideMenu:"root.global.user",element:Lm},{path:"/user_view/:id/files",sideMenu:"root.global.user",element:Lm},{path:"/user_view/:id/features",sideMenu:"root.global.user",element:Lm},{path:"/user_view/:id/additional_info",sideMenu:"root.global.user",element:Lm},{path:"/user_edit/:id",sideMenu:"root.global.user",element:Lm},{path:"/user_edit/:id/user",sideMenu:"root.global.user",element:Lm},{path:"/user_edit/:id/files",sideMenu:"root.global.user",element:Lm},{path:"/user_edit/:id/features",sideMenu:"root.global.user",element:Lm},{path:"/settings",sideMenu:"root.global.settings",element:Rp},{path:"/settings/common",sideMenu:"root.global.settings",element:Rp},{path:"/settings/roles",sideMenu:"root.global.settings",element:Rp}],Dm=[{path:"/",sideMenu:"root.global.user",element:Sd((function(){Io.routerService.push("/dashboard")}))}].concat(Im,Mm),Bm=function(e){Di(),console.log({path:e}),"root.global.settings.common"===e&&Io.routerService.push("/settings/common"),"root.global.settings.roles"===e&&Io.routerService.push("/settings/roles")},jm=function(e){"root.global.dashboard"===e&&Io.routerService.push("/dashboard"),"root.global.user"===e&&Io.routerService.push("/user"),"root.global.settings"===e&&Io.routerService.push("/settings"),"root.global.apartment"===e&&Io.routerService.push("/apartment"),"root.global.apartment.rent"===e&&Io.routerService.push("/apartment_rent"),"root.global.apartment.sell"===e&&Io.routerService.push("/apartment_sell"),"root.global.apartment.archive"===e&&Io.routerService.push("/apartment_archive"),"root.global.bid"===e&&Io.routerService.push("/bid"),"root.global.bid.rent"===e&&Io.routerService.push("/bid_rent"),"root.global.bid.sell"===e&&Io.routerService.push("/bid_sell"),"root.global.bid.archive"===e&&Io.routerService.push("/bid_archive"),"root.global.deal"===e&&Io.routerService.push("/deal"),"root.global.task"===e&&Io.routerService.push("/task"),"root.global.contact"===e&&Io.routerService.push("/contact")},qm=function(){var e=null,t=null;return function(){var n=Io.routerService.location.pathname;return e!==n&&(t=Ne(Dm,Io.routerService.location.pathname),e=n),t}}(),Rm=qm,Pm={"Refresh manually":"Обновить","Create new row":"Создать новую строку","Change sort order":"Изменить порядок сортировки","Drop filters":"Сбросить фильтры",Filters:"Фильтры",Search:"Поиск","Loading data":"Загрузка данных","Nothing found":"Нет данных","Not found":"Нет данных","No options":"Нет данных","Drag and drop a file here or click":"Выберите файл",Choose:"Выбрать",Deselect:"Убрать",Green:"Зеленый",Skyblue:"Синий",Yellow:"Желтый",Red:"Красный",Submit:"Применить",Date:"Дата",Time:"Время",Loading:"Загрузка",Required:"Заполнить","The form contains unsaved changes. Continue?":"Форма содержит несохраненные изменения. Продолжить?","The form contains invalid data. Continue?":"Форма содержит неправильно указанные данные. Продолжить?","Are you sure you want to delete this file?":"Вы уверены, что хотите удалить файл?",Confirmation:"Подтверждение",Forbidden:"Нет доступа",Ok:"Ок",Cancel:"Отмена",Remove:"Удалить",Actions:"Действие",Save:"Сохранить","Not chosen":"Не указано","Continue?":"Продолжить",Unset:"Нет данных","Select all":"Выбрать","No tips":"Нет данных"};var Em={"/login_page":{"Sign in":"Войти"},"/register_page":{"Sign in":"Регистрация"}},Nm=function(){var e=null,t={};return function(){var n=Io.routerService.location.pathname;if(e!==n){var r=Rm();t=Em[(null==r?void 0:r.path)||"unknown"]||{},e=n}return t}}();function Um(e){return Nm()[e]||function(e){return Pm[e]||e}(e)}var Hm=[function(){document.querySelectorAll("input").forEach((function(e){e.placeholder&&(e.placeholder=Um(e.placeholder))}))},function(){document.querySelectorAll("textarea").forEach((function(e){e.placeholder&&(e.placeholder=Um(e.placeholder))}))}];document.addEventListener("DOMContentLoaded",(function(){var e=U.throttle(nr(Hm.map((function(e){return function(){e()}}))),1,{trailing:!0});new MutationObserver(e).observe(document.body,{childList:!0,subtree:!0})})),rr.install(Pm,Um),Io.routerService.listen((function(){window.Translate.clear()}));var Wm,Om=ar((function(e){var t=e.children,n=Io.alertService.current;return ce(Ee,{children:[!!n&&ce(ir,{open:!0,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:5e3,onClose:Io.alertService.hideCurrent,sx:{zIndex:9999999},message:n.message},n.key),t]})})),Gm=function(){return ce(Se,{width:"100%",minHeight:"48px",direction:"row",alignItems:"center",justifyContent:"space-between",children:[ce(me,{sx:{height:42,display:"flex",alignItems:"center",color:"#666",fontWeight:"bold",fontSize:14},variant:"caption",children:"Real Estate APP"}),ce(Se,{direction:"row",alignItems:"center",children:[ce(or,{sx:{fontSize:18,color:Io.permissionService.previewMode?"#c2c2c2":"#757575"}}),ce(lr,{checked:Io.permissionService.previewMode,onClick:Io.permissionService.togglePreviewMode,size:"small"}),ce(ur,{sx:{fontSize:18,color:Io.permissionService.previewMode?"#757575":"#c2c2c2"}})]})]})},$m=function(e){var n=e.loading,a=o(he.useState(0),2),i=a[0],l=a[1],u=Pe(r(t().mark((function e(){var n,r,a;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Io.appwriteService.currentUser.$id,e.next=3,Io.notifyViewService.findAllUnreadByUserId(n);case 3:r=e.sent,a=r.length,l(a);case 6:case"end":return e.stop()}}),e)}))),{onLoadStart:function(){return Io.layoutService.setAppbarLoader(!0)},onLoadEnd:function(){return Io.layoutService.setAppbarLoader(!1)},fallback:Io.errorService.handleGlobalError}).execute;return he.useEffect((function(){return qe((function(){return Io.appwriteService.isAuthorized}),(function(){Io.appwriteService.isAuthorized&&u()}))}),[]),he.useEffect((function(){return Io.notifyViewService.reloadSubject.debounce(1e3).connect((function(){Io.appwriteService.isAuthorized&&u()}))}),[]),ce(cr,{badgeContent:i,color:"info",children:ce(sr,{sx:{color:"white !important",opacity:n?.8:1}})})},Ym=function(){return ce(at,{sx:{width:384,height:"calc(100% - 96px)"}})},Zm=jo()((function(e){return{list:{pt:1,pb:1,"& > *":{paddingTop:0,paddingBottom:0,"& > *":{paddingTop:0,paddingBottom:0}}},listItemAccient:{background:pe(e.palette.getContrastText(e.palette.background.paper),.018)}}})),Xm=function(){var e,n,a=o(he.useState(),2),i=a[0],l=a[1],u=Zm().classes,s=o(he.useState(0),2),d=s[0],p=s[1];return ce(Ee,{children:[ce(tn,{onClick:(n=r(t().mark((function e(n){var r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.currentTarget,Io.appwriteService.isAuthorized){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Io.notifyViewService.toggleReadAllByUserId(Io.appwriteService.currentUser.$id);case 5:l(r);case 6:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)}),onLoadStart:function(){return p((function(e){return e+1}))},onLoadEnd:function(){return p((function(e){return e-1}))},color:"inherit",sx:{ml:2},children:ce($m,{loading:!!d})}),ce(xn,{open:!!i,anchorEl:i,onClose:function(){return l(null)},anchorOrigin:{vertical:"bottom",horizontal:"right"},children:ce(Ae,{sx:{width:384,height:448},subheader:ce(wn,{component:me,sx:{fontWeight:"bold"},children:"Уведомления"}),children:ce(Xe,{Loader:Ym,children:(e=r(t().mark((function e(){var n,r;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Io.appwriteService.currentUser.$id,e.next=3,Io.notifyViewService.findAllByUserId(n);case 3:return r=e.sent,e.abrupt("return",ce(De,{className:u.list,sx:{width:384,height:"calc(100% - 48px)"},children:r.sort((function(e,t){var n=e.$createdAt,r=t.$createdAt;return f(n).isBefore(r)?1:-1})).map((function(e,t){return ce(Ye,{className:Ve(c({},u.listItemAccient,t%2==0)),disableGutters:!0,children:ce(Ce,{onClick:function(){return e.url&&ne(e.url)},children:[ce(Ze,{children:ce(Je,{children:ce(dr,{sx:{color:"white",mt:"-2px"}})})}),ce(Ie,{primary:ce(Qe,{config:Jo,handler:function(){return e.title}}),secondary:f(e.$createdAt).format("HH:mm DD/MM/YYYY")}),ce(zt,{disableRipple:!0,children:ce(pr,{})})]})},e.$id)}))}));case 5:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)})})})})]})},Km=[{action:"logout-action",icon:mr,label:"Выйти"}],Jm=[{id:"global",noHeader:!0,children:[{id:"dashboard",label:"Главная",icon:fr},{id:"apartment",label:"База объектов",icon:yr,lifted:!0,options:[{id:"rent",icon:hr,label:"Аренда"},{id:"sell",icon:vr,label:"Продажа"},{id:"archive",icon:br,label:"Архив"}]},{id:"bid",label:"Заявки",icon:_r,lifted:!0,options:[{id:"rent",icon:kr,label:"Аренда"},{id:"sell",icon:gr,label:"Продажа"},{id:"archive",icon:xr,label:"Архив"}]},{id:"deal",label:"Сделки",icon:wr},{id:"task",label:"Задачи",icon:Sr},{id:"contact",label:"Контакты",icon:zr},{id:"user",label:"Сотрудники",icon:Fr},{id:"settings",label:"Настройки",icon:Tr,tabs:[{id:"common",isActive:function(){return Uo(["/settings","/settings/common"])},label:"Общая информация"},{id:"roles",isActive:function(){return Uo(["/settings","/settings/roles"])},isDisabled:(Wm=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:return n=e.sent,e.abrupt("return",!n.hasUsersAccessLevelsPermission);case 4:case"end":return e.stop()}}),e)}))),function(){return Wm.apply(this,arguments)}),label:"Роли пользователей"}]}]}],Qm=function(){return ce(we,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,background:function(e){return e.palette.background.paper}},children:ce(Lr,{})})},ef=function(){return ce(Ee,{})},tf=C(r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mr.prefetch(!0);case 2:case"end":return e.stop()}}),e)})))),nf=function(){Io.layoutService.setAppbarLoader(!0)},rf=function(){Io.layoutService.setAppbarLoader(!1)},af=function(){var e=r(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("logout-action"!==n){e.next=3;break}return e.next=3,Io.authService.logout();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),of=ar((function(){return ce(Ye,{children:ce(Ie,{primary:Io.appwriteService.currentUser.email,secondary:Io.appwriteService.currentUser.$id})})})),lf=ar((function(){return ce(we,{sx:{display:{xs:"none",md:"flex"}},children:[ce(on,{condition:(n=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:return n=e.sent,e.abrupt("return",n.hasBidCreatePermission);case 4:case"end":return e.stop()}}),e)}))),function(){return n.apply(this,arguments)}),payload:Io.appwriteService.isAuthorized,children:ce(xt,{sx:{mr:1},variant:"contained",size:"small",color:"info",onClick:function(){return Io.routerService.push("/bid/create")},children:"Добавить заявку"})}),ce(on,{condition:(e=r(t().mark((function e(){var n;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Io.permissionService.getPermissions();case 2:return n=e.sent,e.abrupt("return",n.hasApartmentCreatePermission);case 4:case"end":return e.stop()}}),e)}))),function(){return e.apply(this,arguments)}),payload:Io.appwriteService.isAuthorized,children:ce(xt,{variant:"contained",size:"small",color:"info",onClick:function(){return Io.routerService.push("/apartment/create")},children:"Добавить объект"})}),ce(Xm,{})]});var e,n})),uf=function(){var e=o(he.useState(Rm()),2),t=e[0],n=e[1],r=o(he.useState(Io.routerService.location.pathname),2),a=r[0],i=r[1],l=o(he.useState(Io.layoutService.hasAppbarLoader),2),u=l[0],s=l[1],c=o(he.useState(Io.layoutService.hasModalLoader),2),d=c[0],p=c[1],m=he.useMemo((function(){return Uo(Mm.map((function(e){return e.path})))}),[a]);return he.useEffect((function(){return qe((function(){return Io.routerService.location.pathname}),(function(){n(Rm())}))}),[]),he.useEffect((function(){return Ar((function(){i(Io.routerService.location.pathname)}),{delay:10})}),[]),he.useEffect((function(){return Ar((function(){s(Io.layoutService.hasAppbarLoader)}),{delay:10})}),[]),he.useEffect((function(){return Ar((function(){p(Io.layoutService.hasModalLoader)}))}),[]),ce(Ee,{children:[ce(Cr,{fixedHeader:!0,noAppName:!0,noSearch:!0,noContent:m,appName:oa,deps:[a],activeOptionPath:(null==t?void 0:t.sideMenu)||"",loading:u,options:Jm,actions:Km,onOptionClick:jm,onOptionGroupClick:jm,onTabChange:Bm,onLoadStart:nf,onLoadEnd:rf,onAction:af,BeforeSearch:Gm,onInit:tf,BeforeMenuContent:of,BeforeActionMenu:lf,children:ce(Vr,{Loader:ef,history:Io.routerService,items:Dm,fallback:Io.errorService.handleGlobalError,onLoadStart:nf,onLoadEnd:rf,onInit:tf})}),d&&ce(Qm,{})]})},sf=ce(Nr,{fontSize:"small"}),cf=ce(Ur,{fontSize:"small"}),df=[],pf=Hr({palette:{mode:"light",primary:{main:"#1f497a"},secondary:{main:"#1f497a"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)"},background:{default:"#e9e9e9",paper:"#fff"}},components:{MuiAppBar:{styleOverrides:{root:{background:"#132e55"}}}}}),mf=document.getElementById("root"),ff=Wr({key:"mui",prepend:!0}),yf=Wr({key:"tss"});window.self!==window.top&&We.override((function(e,t){var n;null===(n=window.top)||void 0===n||n.postMessage({url:e,filename:t})})),Or("bgcolor-red","background: rgb(255, 229, 229); color: rgb(255, 0, 0);"),Or("bgcolor-green","background: rgb(240, 246, 236); color: rgb(112, 173, 71);"),Or("text-spacer","display: inline-block; padding: 10px; visibility: hidden;"),Or("text-underline","display: inline-block; text-decoration: underline;"),Or("blank-link","display: inline-block; text-decoration: underline;",{onClick:function(e){var t=e.currentTarget.getAttribute("href");t&&ne(t)}});var hf=ce(ea,{history:Io.routerService,onError:Io.errorService.handleGlobalError,children:ce(Gr,{value:ff,children:ce($r,{value:yf,children:ce(Yr,{theme:pf,children:ce(Zr,{dateAdapter:Xr,children:ce(No,{children:ce(Kr,{Combo:function(e){var n=e.value,a=e.disabled,l=e.readonly,u=e.description,s=void 0===u?"":u,c=e.placeholder,d=void 0===c?"":c,p=e.outlined,m=void 0===p||p,f=e.itemList,y=void 0===f?[]:f,h=e.virtualListBox,v=e.labelShrink,b=e.noDeselect,_=e.freeSolo,k=e.title,g=void 0===k?"":k,x=e.dirty,w=e.invalid,S=e.tr,z=void 0===S?function(e){return e.toString()}:S,F=e.shouldUpdateItemList,T=void 0===F?function(){return!1}:F,A=e.onChange,C=Ir().object,V=Dr(),L=o(he.useState((function(){return{options:[],labels:{}}})),2),M=L[0],I=L[1],D=he.useRef(!1),B=Br([M],10),j=Hn(M.labels),q=he.useMemo((function(){if("string"==typeof n)return n;var e=o(Object.values(n||{}),1)[0];return void 0===e?null:e}),[n]),R=jr().fallback,P=Pe(function(){var e=r(t().mark((function e(n){var a,i;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a={},y=qr(y)||[],e.t0=Object,"function"!=typeof y){e.next=9;break}return e.next=6,Promise.resolve(y(n,V));case 6:e.t1=e.sent,e.next=10;break;case 9:e.t1=y;case 10:return e.t2=e.t1,i=e.t0.values.call(e.t0,e.t2),e.next=14,Promise.all(i.map(function(){var e=r(t().mark((function e(r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.resolve(z(r,n,V));case 2:return e.abrupt("return",a[r]=e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:return _&&q&&!i.includes(q)&&i.push(q),I({labels:a,options:i}),D.current=!0,e.next=19,B();case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{fallback:R}),E=P.loading,N=P.execute,U=function(e){return Object.values(e||{}).sort((function(e,t){return t.localeCompare(e)})).join("-")}(q),H=he.useRef(null),W=he.useRef(!0);he.useEffect((function(){(T(H.current,C,V)||W.current)&&(W.current=!1,H.current=C,N(C))}),[U,a,x,w,C,l]);var O=function(e,t){return function(n){return ce(wt,i(i({},n),{},{sx:i({},!m&&{position:"relative",mt:1,"& .MuiFormHelperText-root":{position:"absolute",top:"100%"}}),variant:m?"outlined":"standard",placeholder:e?void 0:d,label:g,helperText:x&&w||s,error:x&&null!==w,InputProps:i(i({},n.InputProps),{},{readOnly:t,endAdornment:ce(Ee,{children:[e?ce(Er,{color:"inherit",size:20}):null,n.InputProps.endAdornment]})}),InputLabelProps:i(i({},n.InputLabelProps),v&&{shrink:!0})}))}},G=function(e,t,n){var r=j.current;return ce("li",i(i({},e),{},{children:[ce(Me,{icon:sf,checkedIcon:cf,style:{marginRight:8},checked:n.selected}),_?t:r[t]||"".concat(t," (unknown)")]}))},$=function(e){var t=j.current;return _?e:t[e]||"".concat(e," (unknown)")},Y=function(e){A(e?[e]:null)};return E||!D.current?ce(Pr,{disableClearable:b,disabled:!0,loading:!0,value:null,options:df,onChange:function(){return null},freeSolo:_,ListboxComponent:h?Rr:void 0,getOptionLabel:$,renderInput:O(!0,!0),renderOption:G}):ce(Pr,{disableClearable:b,loading:E,value:q||null,onChange:function(e,t){return function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),Y(t)},getOptionLabel:$,freeSolo:_,options:M.options,disabled:a,readOnly:l,ListboxComponent:h?Rr:void 0,renderInput:O(!1,l),renderOption:G})},children:ce(Jr,{FilterListSlot:Bn,children:ce(Qr,{children:ce(Om,{children:ce(uf,{})})})})})})})})})})}),vf=ta(mf);na.setValue({WITH_DIRTY_CLICK_LISTENER:!0,WITH_MOBILE_READONLY_FALLBACK:!0,WITH_WAIT_FOR_MOVE_LISTENER:!0,WITH_WAIT_FOR_TOUCH_LISTENER:!0,WITH_DISMOUNT_LISTENER:!0,WITH_SYNC_COMPUTE:!0,CUSTOM_FIELD_DEBOUNCE:800});var bf=function(){var e=r(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(;!window.Translate;)R(500);vf.render(hf);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();bf()}}}))}();
